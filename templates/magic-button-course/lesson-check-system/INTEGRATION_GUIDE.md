# üéØ –ì–∏–¥ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### ‚úÖ –° –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞:

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞                 | –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º        | –†–µ–≥–∏–æ–Ω        | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è                                                                                                   |
| ------------------------- | --------------------- | ------------- | -------------------------------------------------------------------------------------------------------------- |
| **Google AdSense**        | ‚úÖ `data-adtest="on"` | üåç –ì–ª–æ–±–∞–ª—å–Ω–∞—è | [developers.google.com/adsense](https://developers.google.com/adsense/platforms/direct/testing)                |
| **–Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç**         | ‚úÖ –ü–µ—Å–æ—á–Ω–∏—Ü–∞          | üá∑üá∫ –†–æ—Å—Å–∏—è/–°–ù–ì | [yandex.ru/dev/direct](https://yandex.ru/dev/direct/doc/dg/concepts/testing.html)                              |
| **VK Ads**                | ‚úÖ test: true         | üá∑üá∫ –†–æ—Å—Å–∏—è/–°–ù–ì | [dev.vk.com/mini-apps/monetization](https://dev.vk.com/mini-apps/monetization/ads)                             |
| **Mail.ru Ads**           | ‚úÖ test_mode: true    | üá∑üá∫ –†–æ—Å—Å–∏—è     | [help.mail.ru/biz/ads](https://help.mail.ru/biz/ads/api)                                                       |
| **Meta Audience Network** | ‚úÖ testMode: true     | üåç –ì–ª–æ–±–∞–ª—å–Ω–∞—è | [developers.facebook.com/docs/audience-network](https://developers.facebook.com/docs/audience-network/testing) |

### üîÑ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è):

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞        | –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º      | –û–ø–∏—Å–∞–Ω–∏–µ                 |
| ---------------- | ------------------- | ------------------------ |
| **Unity Ads**    | ‚úÖ testMode         | –î–ª—è –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π   |
| **AppLovin MAX** | ‚úÖ test environment | –ú–æ–±–∏–ª—å–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞        |
| **AdMob**        | ‚úÖ test device IDs  | Google –º–æ–±–∏–ª—å–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ |
| **Criteo**       | ‚úÖ staging          | E-commerce —Ä–µ–∫–ª–∞–º–∞       |
| **Outbrain**     | ‚úÖ test campaigns   | –ù–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞         |

## üß™ –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```javascript
// –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
testPlatforms.google(); // Google AdSense
testPlatforms.yandex(); // –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç
testPlatforms.vk(); // VK Ads
testPlatforms.mailru(); // Mail.ru
testPlatforms.meta(); // Meta/Facebook

// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–æ–º
adAdapter.setTestMode(true); // –í–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç
adAdapter.switchPlatform("google"); // –°–º–µ–Ω–∏—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
adAdapter.config.defaultDuration = 3000; // 3 —Å–µ–∫—É–Ω–¥—ã —Ä–µ–∫–ª–∞–º—ã

// –ë—ã—Å—Ç—Ä–∞—è —Å–º–µ–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º
switchAdPlatform("yandex");
switchAdPlatform("vk");
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 1. Google AdSense

```javascript
// –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∑–∞–º–µ–Ω–∏—Ç–µ:
const adAdapter = new AdPlatformAdapter({
  testMode: false,
  platform: "google",
  googleClientId: "ca-pub-–í–ê–®–¢–üUB-ID",
  googleSlotId: "–í–ê–®–¢–°–õOT-ID",
});
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤:**

1. –ó–∞–π–¥–∏—Ç–µ –≤ [AdSense](https://www.google.com/adsense/)
2. –°–æ–∑–¥–∞–π—Ç–µ —Ä–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `data-adtest="on"` –¥–ª—è —Ç–µ—Å—Ç–æ–≤
4. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —É–±–µ—Ä–∏—Ç–µ —ç—Ç–æ—Ç –∞—Ç—Ä–∏–±—É—Ç

### 2. –Ø–Ω–¥–µ–∫—Å.–î–∏—Ä–µ–∫—Ç

```javascript
const adAdapter = new AdPlatformAdapter({
  testMode: false,
  platform: "yandex",
  yandexBlockId: "R-A-XXXXXXX-X", // –í–∞—à –±–ª–æ–∫ ID
});
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:**

1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ [–î–∏—Ä–µ–∫—Ç–µ](https://direct.yandex.ru/)
2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∫–∞–º–ø–∞–Ω–∏–∏
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–ª–æ–∫–∞ `R-A-TEST-1`

### 3. VK Ads

```javascript
const adAdapter = new AdPlatformAdapter({
  testMode: false,
  platform: "vk",
  vkAppId: "–í–ê–®_APP_ID",
});
```

**–¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º:**

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ [VK Developers](https://dev.vk.com/)
2. –î–æ–±–∞–≤—å—Ç–µ `testMode: 1` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏

## üí∞ –ú–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è –≤ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

#### 1. **–ó–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∏** (—Ç–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥)

- ‚úÖ –í—ã—Å–æ–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è (—É—á–µ–Ω–∏–∫ –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω)
- ‚úÖ –ù–µ—Ç–æ–∫—Å–∏—á–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ (–ø–æ–º–æ–≥–∞–µ—Ç –æ–±—É—á–µ–Ω–∏—é)
- üí∞ –°—Ä–µ–¥–Ω–∏–π –¥–æ—Ö–æ–¥ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### 2. **–ó–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã**

```javascript
// –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–µ–∫–ª–∞–º—É –ø–µ—Ä–µ–¥:
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ–º —Ä–µ—à–µ–Ω–∏–π
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —É—Ä–æ–∫–∞–º–∏
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏
```

#### 3. **–§—Ä–µ–º–∏—É–º –º–æ–¥–µ–ª—å**

```javascript
// –ë–µ—Å–ø–ª–∞—Ç–Ω–æ: 3 –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ –¥–µ–Ω—å
// Premium: –±–µ–∑–ª–∏–º–∏—Ç –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã
const hintsUsedToday = localStorage.getItem("hintsUsed") || 0;
if (hintsUsedToday >= 3 && !isPremium) {
  showPremiumOffer();
} else {
  showAd(callback);
}
```

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ A/B —Ç–µ—Å—Ç—ã

### –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
const analytics = {
  hintsRequested: 0,
  adsShown: 0,
  adsCompleted: 0,
  platformRevenue: {},
};

// –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Analytics
gtag("event", "ad_shown", {
  platform: adAdapter.config.platform,
  duration: adAdapter.config.defaultDuration,
});
```

### A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º:

```javascript
// –°–ª—É—á–∞–π–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º
const platforms = ["google", "yandex", "vk"];
const randomPlatform = platforms[Math.floor(Math.random() * platforms.length)];
adAdapter.switchPlatform(randomPlatform);
```

## üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞

```javascript
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
const isMobile = window.innerWidth <= 768;
const adFormat = isMobile ? "mobile-banner" : "desktop-large";

adAdapter.config.adFormat = adFormat;
```

### 2. –ì–µ–æ—Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥

```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø–æ —Ä–µ–≥–∏–æ–Ω—É
fetch("https://ipapi.co/json/")
  .then((response) => response.json())
  .then((data) => {
    const platform = data.country_code === "RU" ? "yandex" : "google";
    adAdapter.switchPlatform(platform);
  });
```

### 3. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞

```javascript
// –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –ø–æ–∫–∞–∑–æ–≤
const lastAdTime = localStorage.getItem("lastAdTime");
const timeSinceLastAd = Date.now() - (lastAdTime || 0);

// –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ –º–µ–Ω–µ–µ 5 –º–∏–Ω—É—Ç - —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Ä–µ–∫–ª–∞–º—É
if (timeSinceLastAd < 300000) {
  adAdapter.config.defaultDuration = 2000; // 2 —Å–µ–∫—É–Ω–¥—ã
}
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

### GDPR/CCPA compliance:

```javascript
// –ó–∞–ø—Ä–æ—Å —Å–æ–≥–ª–∞—Å–∏—è –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º —Ä–µ–∫–ª–∞–º—ã
if (!localStorage.getItem("adsConsent")) {
  showConsentDialog().then((consent) => {
    if (consent) {
      adAdapter.showAd(callback);
    } else {
      callback(); // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∫–ª–∞–º—É
    }
  });
}
```

### –ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–∏ —Ä–µ–∫–ª–∞–º—ã:

```javascript
// –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–æ–≤
function detectAdBlocker() {
  const testAd = document.createElement("div");
  testAd.style.height = "1px";
  testAd.className = "adsbox";
  document.body.appendChild(testAd);

  setTimeout(() => {
    const blocked = testAd.offsetHeight === 0;
    testAd.remove();

    if (blocked) {
      // –ü–æ–∫–∞–∑–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –∏–ª–∏ –ø—Ä–æ—Å—å–±—É –æ—Ç–∫–ª—é—á–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫
      showAdBlockerMessage();
    }
  }, 100);
}
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–ø—É—Å–∫–∞

### –≠—Ç–∞–ø 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 –Ω–µ–¥–µ–ª–∏)

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
2. A/B —Ç–µ—Å—Ç 2-3 –ø–ª–∞—Ç—Ñ–æ—Ä–º
3. –°–æ–±—Ä–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º—è –ø–æ–∫–∞–∑–∞

### –≠—Ç–∞–ø 2: –ú—è–≥–∫–∏–π –∑–∞–ø—É—Å–∫ (2-4 –Ω–µ–¥–µ–ª–∏)

1. 10% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–∏–¥—è—Ç —Ä–µ–∫–ª–∞–º—É
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç—Ç–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –°–±–æ—Ä —Ñ–∏–¥–±–µ–∫–∞
4. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —á–∞—Å—Ç–æ—Ç—ã

### –≠—Ç–∞–ø 3: –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫

1. 100% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ —Å–µ—Ç–∏
3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
4. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø—Ä–µ–º–∏—É–º-–ø–æ–¥–ø–∏—Å–∫–∏

## üìû –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

**–†–µ–∫–ª–∞–º–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:**

```javascript
// –¢–∞–π–º–∞—É—Ç –∑–∞–≥—Ä—É–∑–∫–∏
setTimeout(() => {
  if (!adLoaded) {
    console.log("‚ö†Ô∏è Fallback: —Ä–µ–∫–ª–∞–º–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å");
    callback(); // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
  }
}, 10000);
```

**–ë–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫–∏ —Ä–µ–∫–ª–∞–º—ã:**

```javascript
// –í–µ–∂–ª–∏–≤–∞—è –ø—Ä–æ—Å—å–±–∞
function showAdBlockerMessage() {
  alert("üôè –û—Ç–∫–ª—é—á–∏—Ç–µ –±–ª–æ–∫–∏—Ä–æ–≤—â–∏–∫ —Ä–µ–∫–ª–∞–º—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è!");
}
```

**–ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**

```javascript
// –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
const platforms = ["google", "yandex"];
platforms.forEach((platform) => {
  new AdPlatformAdapter({ platform }).init();
});
```

---

**üí° –°–æ–≤–µ—Ç:** –ù–∞—á–Ω–∏—Ç–µ —Å –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –∑–∞—Ç–µ–º –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∫–ª–∞–º–µ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –±–ª–æ–∫–∞–º–∏!
