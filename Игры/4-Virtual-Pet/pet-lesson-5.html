<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—Ä–æ–∫ 5: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(
          135deg,
          #a8e6cf 0%,
          #dcedc1 50%,
          #ffd3a5 100%
        );
        padding: 20px;
        min-height: 100vh;
      }

      .back-to-course {
        position: fixed;
        top: 20px;
        left: 20px;
        background: #27ae60;
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.95rem;
        box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        transition: all 0.3s ease;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .back-to-course:hover {
        background: #229954;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 25px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .header {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        color: white;
        padding: 40px 30px;
        text-align: center;
        position: relative;
      }

      .header::before {
        content: "üíæ‚ú®üéâ";
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 1.2rem;
        opacity: 0.7;
      }

      .header h1 {
        font-size: 2.2rem;
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header .lesson-info {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .content {
        padding: 40px;
      }

      .section {
        margin-bottom: 40px;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        padding: 30px;
        border-radius: 15px;
        border-left: 5px solid #e74c3c;
      }

      .section h2 {
        color: #e74c3c;
        margin-bottom: 20px;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .section p {
        font-size: 1.1rem;
        line-height: 1.7;
        margin-bottom: 15px;
        color: #2c3e50;
      }

      .code-example {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.95rem;
        line-height: 1.5;
        overflow-x: auto;
        position: relative;
      }

      .code-title {
        background: #34495e;
        color: #ecf0f1;
        padding: 8px 15px;
        font-size: 0.9rem;
        font-weight: 600;
        border-radius: 8px 8px 0 0;
        margin: 20px 0 0 0;
      }

      .code-example pre {
        margin: 0;
        white-space: pre-wrap;
      }

      .highlight {
        background: rgba(231, 76, 60, 0.2);
        padding: 2px 4px;
        border-radius: 3px;
        font-weight: 600;
        color: #e74c3c;
      }

      .storage-demo {
        background: linear-gradient(135deg, #d4edda, #c3e6cb);
        border: 2px solid #28a745;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        text-align: center;
      }

      .storage-demo h3 {
        color: #155724;
        margin-bottom: 20px;
        font-size: 1.4rem;
      }

      .demo-controls {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .demo-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.9rem;
      }

      .demo-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }

      .demo-btn.success {
        background: linear-gradient(135deg, #2ecc71, #27ae60);
      }

      .demo-btn.danger {
        background: linear-gradient(135deg, #e74c3c, #c0392b);
      }

      .storage-status {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 10px;
        padding: 15px;
        margin-top: 15px;
        font-family: "Consolas", monospace;
        font-size: 0.9rem;
        text-align: left;
        max-height: 200px;
        overflow-y: auto;
      }

      .polish-features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .feature-card {
        background: linear-gradient(135deg, #fff3cd, #ffeeba);
        border: 2px solid #ffc107;
        border-radius: 15px;
        padding: 20px;
        text-align: center;
        transition: all 0.3s ease;
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 20px rgba(255, 193, 7, 0.3);
      }

      .feature-card h4 {
        color: #856404;
        margin-bottom: 10px;
        font-size: 1.2rem;
      }

      .feature-card p {
        color: #856404;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      .feature-icon {
        font-size: 2rem;
        margin-bottom: 10px;
        display: block;
      }

      .completion-celebration {
        background: linear-gradient(135deg, #fd79a8, #fdcb6e, #6c5ce7, #74b9ff);
        background-size: 300% 300%;
        animation: gradientShift 4s ease infinite;
        color: white;
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        margin: 40px 0;
        position: relative;
        overflow: hidden;
      }

      .completion-celebration::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="20" font-size="20">üéâ</text><text y="40" x="20" font-size="15">‚ú®</text><text y="60" x="10" font-size="18">üéä</text><text y="80" x="30" font-size="16">üåü</text></svg>')
          repeat;
        opacity: 0.3;
        animation: float 6s ease-in-out infinite;
      }

      @keyframes gradientShift {
        0%,
        100% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .completion-celebration h2 {
        font-size: 2.5rem;
        margin-bottom: 15px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        position: relative;
        z-index: 1;
      }

      .completion-celebration p {
        font-size: 1.2rem;
        margin-bottom: 20px;
        position: relative;
        z-index: 1;
      }

      .play-button {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid white;
        color: white;
        padding: 15px 30px;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        position: relative;
        z-index: 1;
        backdrop-filter: blur(10px);
      }

      .play-button:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: scale(1.05);
        box-shadow: 0 10px 25px rgba(255, 255, 255, 0.3);
      }

      .js-keyword {
        color: #e74c3c;
        font-weight: 600;
      }

      .js-function {
        color: #9b59b6;
        font-weight: 600;
      }

      .js-string {
        color: #2ecc71;
      }

      .js-number {
        color: #e67e22;
      }

      .js-comment {
        color: #95a5a6;
        font-style: italic;
      }

      .task-section {
        background: linear-gradient(135deg, #fff3cd, #ffeeba);
        border: 2px solid #ffc107;
        border-radius: 15px;
        padding: 25px;
        margin: 30px 0;
      }

      .task-section h3 {
        color: #856404;
        margin-bottom: 15px;
        font-size: 1.4rem;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .task-list {
        list-style: none;
        padding-left: 0;
      }

      .task-list li {
        background: rgba(255, 255, 255, 0.8);
        margin: 8px 0;
        padding: 12px 15px;
        border-radius: 8px;
        border-left: 4px solid #ffc107;
        font-weight: 500;
        position: relative;
        padding-left: 40px;
      }

      .task-list li::before {
        content: "üíæ";
        position: absolute;
        left: 15px;
        font-size: 1rem;
      }

      .tips-section {
        background: linear-gradient(135deg, #cce5ff, #b3d9ff);
        border: 2px solid #007bff;
        border-radius: 15px;
        padding: 25px;
        margin: 30px 0;
      }

      .tips-section h3 {
        color: #004085;
        margin-bottom: 15px;
        font-size: 1.4rem;
      }

      .tip-item {
        background: rgba(255, 255, 255, 0.9);
        padding: 12px 15px;
        margin: 10px 0;
        border-radius: 8px;
        border-left: 4px solid #007bff;
        font-size: 1rem;
        line-height: 1.6;
      }

      .next-lesson {
        background: linear-gradient(135deg, #27ae60, #2ecc71);
        color: white;
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        margin-top: 30px;
      }

      .next-lesson:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(39, 174, 96, 0.4);
      }

      @media (max-width: 768px) {
        .content {
          padding: 20px;
        }

        .header h1 {
          font-size: 1.8rem;
        }

        .back-to-course {
          position: relative;
          top: 0;
          left: 0;
          margin-bottom: 20px;
          display: inline-flex;
        }

        .demo-controls {
          flex-direction: column;
          align-items: center;
        }

        .completion-celebration h2 {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="back-to-course"> ‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É </a>

    <div class="container">
      <div class="header">
        <h1>üíæ –£—Ä–æ–∫ 5: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞</h1>
        <p class="lesson-info">
          –ó–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ–µ–∫—Ç - –¥–æ–±–∞–≤–ª—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —à—Ç—Ä–∏—Ö–∏
        </p>
      </div>

      <div class="content">
        <div class="section">
          <h2>üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞</h2>
          <p>
            –í —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —É—Ä–æ–∫–µ –º—ã –¥–æ–±–∞–≤–∏–º —Å–∏—Å—Ç–µ–º—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, —á—Ç–æ–±—ã
            –ø–∏—Ç–æ–º–µ—Ü "–ø–æ–º–Ω–∏–ª" –∏–≥—Ä–æ–∫–∞ –¥–∞–∂–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞. –¢–∞–∫–∂–µ
            –æ—Ç–ø–æ–ª–∏—Ä—É–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –¥–æ–±–∞–≤–∏–º –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —à—Ç—Ä–∏—Ö–∏
            –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤–∏–¥–∞.
          </p>
          <p>
            –¢—ã –æ—Å–≤–æ–∏—à—å localStorage –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –Ω–∞—É—á–∏—à—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å
            –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏
            –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –ø–æ–ª–∏—Ä–æ–≤–∫–æ–π.
          </p>
        </div>

        <div class="storage-demo">
          <h3>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è localStorage</h3>
          <p>–ü–æ–ø—Ä–æ–±—É–π —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!</p>
          <div class="demo-controls">
            <button class="demo-btn" onclick="saveDemo()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="demo-btn success" onclick="loadDemo()">
              üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å
            </button>
            <button class="demo-btn danger" onclick="clearDemo()">
              üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å
            </button>
            <button class="demo-btn" onclick="showStorageInfo()">
              üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            </button>
          </div>
          <div class="storage-status" id="storageOutput">
            –ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç localStorage!
          </div>
        </div>

        <div class="section">
          <h2>üíæ –û—Å–Ω–æ–≤—ã localStorage</h2>
          <p>
            localStorage –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
            –î–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
            –∫–æ–º–ø—å—é—Ç–µ—Ä–∞.
          </p>

          <div class="code-title">üíæ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ localStorage</div>
          <div class="code-example">
            <pre><span class="js-comment">// –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ</span>
<span class="js-function">localStorage.setItem</span>(<span class="js-string">'–∫–ª—é—á'</span>, <span class="js-string">'–∑–Ω–∞—á–µ–Ω–∏–µ'</span>);

<span class="js-comment">// –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ</span>
<span class="js-keyword">const</span> data = <span class="js-function">localStorage.getItem</span>(<span class="js-string">'–∫–ª—é—á'</span>);

<span class="js-comment">// –£–¥–∞–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ</span>
<span class="js-function">localStorage.removeItem</span>(<span class="js-string">'–∫–ª—é—á'</span>);

<span class="js-comment">// –û—á–∏—â–∞–µ–º –≤–µ—Å—å localStorage</span>
<span class="js-function">localStorage.clear</span>();

<span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ</span>
<span class="js-keyword">if</span> (<span class="js-function">localStorage.getItem</span>(<span class="js-string">'–∫–ª—é—á'</span>) !== <span class="js-keyword">null</span>) {
  <span class="js-comment">// –î–∞–Ω–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç</span>
}

<span class="js-comment">// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ (–Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ JSON)</span>
<span class="js-keyword">const</span> myObject = { name: <span class="js-string">"–ü–∏—Ç–æ–º–µ—Ü"</span>, level: <span class="js-number">5</span> };
<span class="js-function">localStorage.setItem</span>(<span class="js-string">'pet'</span>, <span class="js-function">JSON.stringify</span>(myObject));

<span class="js-comment">// –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤</span>
<span class="js-keyword">const</span> savedPet = <span class="js-function">JSON.parse</span>(<span class="js-function">localStorage.getItem</span>(<span class="js-string">'pet'</span>));</pre>
          </div>

          <p>
            <span class="highlight">JSON.stringify()</span> –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –≤
            —Å—Ç—Ä–æ–∫—É, –∞ <span class="highlight">JSON.parse()</span> –æ–±—Ä–∞—Ç–Ω–æ –≤
            –æ–±—ä–µ–∫—Ç.
          </p>
        </div>

        <div class="section">
          <h2>üíæ –§—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∏—Ç–æ–º—Ü–∞</h2>
          <p>
            –°–æ–∑–¥–∞–¥–∏–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞—à–µ–≥–æ —Ç–∞–º–∞–≥–æ—á–∏:
            —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, —É—Ä–æ–≤–µ–Ω—å, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, –≤–æ–∑—Ä–∞—Å—Ç –∏ —Å—Ç–∞–¥–∏—é —Ä–∞–∑–≤–∏—Ç–∏—è.
          </p>

          <div class="code-title">üíæ –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</div>
          <div class="code-example">
            <pre><span class="js-comment">// –ö–ª—é—á –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</span>
<span class="js-keyword">const</span> SAVE_KEY = <span class="js-string">'tamagochi_save_data'</span>;

<span class="js-comment">// –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö</span>
<span class="js-function">function</span> <span class="js-function">saveGame</span>() {
  <span class="js-keyword">try</span> {
    <span class="js-comment">// –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</span>
    <span class="js-keyword">const</span> saveData = {
      pet: {
        name: pet.name,
        level: pet.level,
        age: pet.age,
        stage: pet.stage,
        emoji: pet.emoji,
        stats: { ...pet.stats }, <span class="js-comment">// –ö–æ–ø–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</span>
        status: pet.status,
        lastFed: pet.lastFed,
        isAlive: pet.isAlive,
        intelligence: pet.intelligence || <span class="js-number">0</span>,
        experience: pet.experience || <span class="js-number">0</span>
      },
      achievements: { ...achievements }, <span class="js-comment">// –ö–æ–ø–∏—Ä—É–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
      gameStats: {
        totalActions: gameStats.totalActions || <span class="js-number">0</span>,
        gamesPlayed: gameStats.gamesPlayed || <span class="js-number">0</span>,
        evolutionsCount: gameStats.evolutionsCount || <span class="js-number">0</span>
      },
      saveDate: <span class="js-keyword">new</span> <span class="js-function">Date</span>().<span class="js-function">toISOString</span>(),
      version: <span class="js-string">"1.0"</span> <span class="js-comment">// –ù–∞ —Å–ª—É—á–∞–π –±—É–¥—É—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π</span>
    };

    <span class="js-comment">// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage</span>
    <span class="js-function">localStorage.setItem</span>(SAVE_KEY, <span class="js-function">JSON.stringify</span>(saveData));
    
    <span class="js-function">showMessage</span>(<span class="js-string">"üíæ –ò–≥—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!"</span>);
    <span class="js-function">showSaveAnimation</span>();
    
    <span class="js-keyword">return</span> <span class="js-keyword">true</span>;
  } <span class="js-keyword">catch</span> (error) {
    <span class="js-function">console.error</span>(<span class="js-string">"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:"</span>, error);
    <span class="js-function">showMessage</span>(<span class="js-string">"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏!"</span>);
    <span class="js-keyword">return</span> <span class="js-keyword">false</span>;
  }
}

<span class="js-comment">// –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</span>
<span class="js-function">function</span> <span class="js-function">loadGame</span>() {
  <span class="js-keyword">try</span> {
    <span class="js-keyword">const</span> savedData = <span class="js-function">localStorage.getItem</span>(SAVE_KEY);
    
    <span class="js-keyword">if</span> (!savedData) {
      <span class="js-function">showMessage</span>(<span class="js-string">"üìÅ –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"</span>);
      <span class="js-keyword">return</span> <span class="js-keyword">false</span>;
    }

    <span class="js-keyword">const</span> saveData = <span class="js-function">JSON.parse</span>(savedData);
    
    <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</span>
    <span class="js-keyword">if</span> (!saveData.version) {
      <span class="js-function">showMessage</span>(<span class="js-string">"‚ö†Ô∏è –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è!"</span>);
    }

    <span class="js-comment">// –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–∏—Ç–æ–º—Ü–∞</span>
    pet.name = saveData.pet.name;
    pet.level = saveData.pet.level;
    pet.age = saveData.pet.age;
    pet.stage = saveData.pet.stage;
    pet.emoji = saveData.pet.emoji;
    pet.stats = { ...saveData.pet.stats };
    pet.status = saveData.pet.status;
    pet.lastFed = saveData.pet.lastFed;
    pet.isAlive = saveData.pet.isAlive;
    pet.intelligence = saveData.pet.intelligence || <span class="js-number">0</span>;
    pet.experience = saveData.pet.experience || <span class="js-number">0</span>;

    <span class="js-comment">// –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
    <span class="js-keyword">Object.assign</span>(achievements, saveData.achievements);

    <span class="js-comment">// –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–≥—Ä–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</span>
    <span class="js-keyword">if</span> (saveData.gameStats) {
      gameStats = { ...saveData.gameStats };
    }

    <span class="js-comment">// –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</span>
    <span class="js-function">updateDisplay</span>();
    <span class="js-function">updateAchievementsDisplay</span>();
    
    <span class="js-keyword">const</span> saveDate = <span class="js-keyword">new</span> <span class="js-function">Date</span>(saveData.saveDate).<span class="js-function">toLocaleString</span>();
    <span class="js-function">showMessage</span>(<span class="js-string">`üìÅ –ò–≥—Ä–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞! –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: ${saveDate}`</span>);
    
    <span class="js-keyword">return</span> <span class="js-keyword">true</span>;
  } <span class="js-keyword">catch</span> (error) {
    <span class="js-function">console.error</span>(<span class="js-string">"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:"</span>, error);
    <span class="js-function">showMessage</span>(<span class="js-string">"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ!"</span>);
    <span class="js-keyword">return</span> <span class="js-keyword">false</span>;
  }
}</pre>
          </div>
        </div>

        <div class="section">
          <h2>‚öôÔ∏è –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</h2>
          <p>
            –î–æ–±–∞–≤–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç, —á—Ç–æ–±—ã
            –∏–≥—Ä–æ–∫ –Ω–µ –ø–æ—Ç–µ—Ä—è–ª –ø—Ä–æ–≥—Ä–µ—Å—Å, –µ—Å–ª–∏ –∑–∞–±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤—Ä—É—á–Ω—É—é.
          </p>

          <div class="code-title">‚öôÔ∏è –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</div>
          <div class="code-example">
            <pre><span class="js-comment">// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</span>
<span class="js-keyword">const</span> AUTOSAVE_INTERVAL = <span class="js-number">3</span> * <span class="js-number">60</span> * <span class="js-number">1000</span>; <span class="js-comment">// 3 –º–∏–Ω—É—Ç—ã –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö</span>
<span class="js-keyword">let</span> autosaveTimer = <span class="js-keyword">null</span>;
<span class="js-keyword">let</span> gameModified = <span class="js-keyword">false</span>; <span class="js-comment">// –§–ª–∞–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π</span>

<span class="js-comment">// –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</span>
<span class="js-function">function</span> <span class="js-function">startAutosave</span>() {
  <span class="js-keyword">if</span> (autosaveTimer) {
    <span class="js-function">clearInterval</span>(autosaveTimer);
  }
  
  autosaveTimer = <span class="js-function">setInterval</span>(() => {
    <span class="js-keyword">if</span> (gameModified && pet.isAlive) {
      <span class="js-function">saveGame</span>();
      gameModified = <span class="js-keyword">false</span>;
      <span class="js-function">console.log</span>(<span class="js-string">"–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ"</span>);
    }
  }, AUTOSAVE_INTERVAL);
}

<span class="js-comment">// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</span>
<span class="js-function">function</span> <span class="js-function">stopAutosave</span>() {
  <span class="js-keyword">if</span> (autosaveTimer) {
    <span class="js-function">clearInterval</span>(autosaveTimer);
    autosaveTimer = <span class="js-keyword">null</span>;
  }
}

<span class="js-comment">// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π</span>
<span class="js-function">function</span> <span class="js-function">markGameModified</span>() {
  gameModified = <span class="js-keyword">true</span>;
}

<span class="js-comment">// –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–≥—Ä—ã</span>
<span class="js-function">function</span> <span class="js-function">initializeGame</span>() {
  <span class="js-comment">// –ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</span>
  <span class="js-keyword">if</span> (<span class="js-function">localStorage.getItem</span>(SAVE_KEY)) {
    <span class="js-keyword">const</span> userWantsLoad = <span class="js-function">confirm</span>(<span class="js-string">"–ù–∞–π–¥–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ! –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–≥—Ä—É?"</span>);
    <span class="js-keyword">if</span> (userWantsLoad) {
      <span class="js-function">loadGame</span>();
    }
  }
  
  <span class="js-comment">// –ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</span>
  <span class="js-function">startAutosave</span>();
  
  <span class="js-comment">// –ó–∞–ø—É—Å–∫–∞–µ–º –≥–ª–∞–≤–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª</span>
  <span class="js-function">startGameLoop</span>();
}

<span class="js-comment">// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</span>
window.<span class="js-function">addEventListener</span>(<span class="js-string">'beforeunload'</span>, (event) => {
  <span class="js-keyword">if</span> (gameModified && pet.isAlive) {
    <span class="js-function">saveGame</span>();
  }
});</pre>
          </div>
        </div>

        <div class="section">
          <h2>üîÑ –§—É–Ω–∫—Ü–∏—è —Å–±—Ä–æ—Å–∞ –∏–≥—Ä—ã</h2>
          <p>
            –ò–Ω–æ–≥–¥–∞ –∏–≥—Ä–æ–∫—É –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ. –°–æ–∑–¥–∞–¥–∏–º –±–µ–∑–æ–ø–∞—Å–Ω—É—é
            —Ñ—É–Ω–∫—Ü–∏—é —Å–±—Ä–æ—Å–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –¥–µ–π—Å—Ç–≤–∏—è.
          </p>

          <div class="code-title">üîÑ –°–∏—Å—Ç–µ–º–∞ —Å–±—Ä–æ—Å–∞</div>
          <div class="code-example">
            <pre><span class="js-function">function</span> <span class="js-function">resetGame</span>() {
  <span class="js-comment">// –î–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</span>
  <span class="js-keyword">const</span> firstConfirm = <span class="js-function">confirm</span>(
    <span class="js-string">"‚ö†Ô∏è –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ?\n–í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω!"</span>
  );
  
  <span class="js-keyword">if</span> (!firstConfirm) <span class="js-keyword">return</span>;
  
  <span class="js-keyword">const</span> secondConfirm = <span class="js-function">confirm</span>(
    <span class="js-string">"üö® –ü–û–°–õ–ï–î–ù–ï–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï!\n–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?"</span>
  );
  
  <span class="js-keyword">if</span> (!secondConfirm) <span class="js-keyword">return</span>;
  
  <span class="js-comment">// –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã</span>
  <span class="js-function">stopAutosave</span>();
  <span class="js-function">stopGameLoop</span>();
  
  <span class="js-comment">// –û—á–∏—â–∞–µ–º localStorage</span>
  <span class="js-function">localStorage.removeItem</span>(SAVE_KEY);
  
  <span class="js-comment">// –°–±—Ä–∞—Å—ã–≤–∞–µ–º –æ–±—ä–µ–∫—Ç –ø–∏—Ç–æ–º—Ü–∞ –∫ –Ω–∞—á–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º</span>
  pet = {
    name: <span class="js-string">"–ú–∞–ª—ã—à"</span>,
    level: <span class="js-number">1</span>,
    age: <span class="js-number">0</span>,
    stage: <span class="js-string">"egg"</span>,
    emoji: <span class="js-string">"ü•ö"</span>,
    stats: {
      hunger: <span class="js-number">100</span>,
      happiness: <span class="js-number">100</span>,
      energy: <span class="js-number">100</span>,
      cleanliness: <span class="js-number">100</span>
    },
    status: <span class="js-string">"–°–ø–æ–∫–æ–µ–Ω"</span>,
    lastFed: <span class="js-function">Date.now</span>(),
    isAlive: <span class="js-keyword">true</span>,
    intelligence: <span class="js-number">0</span>,
    experience: <span class="js-number">0</span>
  };
  
  <span class="js-comment">// –°–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</span>
  <span class="js-keyword">Object.keys</span>(achievements).<span class="js-function">forEach</span>(key => {
    achievements[key].unlocked = <span class="js-keyword">false</span>;
    <span class="js-keyword">if</span> (achievements[key].current !== <span class="js-keyword">undefined</span>) {
      achievements[key].current = <span class="js-number">0</span>;
    }
  });
  
  <span class="js-comment">// –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–≥—Ä–æ–≤—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</span>
  gameStats = {
    totalActions: <span class="js-number">0</span>,
    gamesPlayed: <span class="js-number">0</span>,
    evolutionsCount: <span class="js-number">0</span>
  };
  
  <span class="js-comment">// –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</span>
  <span class="js-function">updateDisplay</span>();
  <span class="js-function">updateAchievementsDisplay</span>();
  
  <span class="js-comment">// –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É</span>
  <span class="js-function">initializeGame</span>();
  
  <span class="js-function">showMessage</span>(<span class="js-string">"üîÑ –ò–≥—Ä–∞ —Å–±—Ä–æ—à–µ–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞!"</span>);
}</pre>
          </div>
        </div>

        <div class="polish-features">
          <div class="feature-card">
            <span class="feature-icon">üîä</span>
            <h4>–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</h4>
            <p>
              –î–æ–±–∞–≤—å –∑–≤—É–∫–∏ –∫–æ—Ä–º–ª–µ–Ω–∏—è, –∏–≥—Ä –∏ —ç–≤–æ–ª—é—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–µ–π –ø–æ–≥—Ä—É–∂—ë–Ω–Ω–æ—Å—Ç–∏
            </p>
          </div>
          <div class="feature-card">
            <span class="feature-icon">üì±</span>
            <h4>–ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è</h4>
            <p>–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤</p>
          </div>
          <div class="feature-card">
            <span class="feature-icon">üé®</span>
            <h4>–¢–µ–º—ã –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</h4>
            <p>–°–æ–∑–¥–∞–π —Ä–∞–∑–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ —Ç–µ–º—ã –Ω–∞ –≤—ã–±–æ—Ä –∏–≥—Ä–æ–∫–∞</p>
          </div>
          <div class="feature-card">
            <span class="feature-icon">üìä</span>
            <h4>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä—ã</h4>
            <p>–ü–æ–∫–∞–∂–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: –≤—Ä–µ–º—è –∏–≥—Ä—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–π—Å—Ç–≤–∏–π, —Ä–µ–∫–æ—Ä–¥—ã</p>
          </div>
          <div class="feature-card">
            <span class="feature-icon">üèÜ</span>
            <h4>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h4>
            <p>–î–æ–±–∞–≤—å –±–æ–ª—å—à–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–π –º–æ—Ç–∏–≤–∞—Ü–∏–∏</p>
          </div>
          <div class="feature-card">
            <span class="feature-icon">üéÅ</span>
            <h4>–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–∞—Ä–∫–æ–≤</h4>
            <p>–°–ª—É—á–∞–π–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ –∑–∞ —Ö–æ—Ä–æ—à–∏–π —É—Ö–æ–¥ –ø–æ–≤—ã—à–∞—é—Ç –∏–Ω—Ç–µ—Ä–µ—Å</p>
          </div>
        </div>

        <div class="section">
          <h2>‚ú® –§–∏–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è</h2>
          <p>
            –ù–µ–±–æ–ª—å—à–∏–µ –¥–µ—Ç–∞–ª–∏ –¥–µ–ª–∞—é—Ç –∏–≥—Ä—É –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π. –î–æ–±–∞–≤–∏–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è,
            —É–ª—É—á—à–µ–Ω–Ω—É—é –∞–Ω–∏–º–∞—Ü–∏—é –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫.
          </p>

          <div class="code-title">‚ú® –ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div>
          <div class="code-example">
            <pre><span class="js-comment">// –ö—Ä–∞—Å–∏–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
<span class="js-function">function</span> <span class="js-function">showNotification</span>(message, type = <span class="js-string">'info'</span>) {
  <span class="js-keyword">const</span> notification = <span class="js-function">document.createElement</span>(<span class="js-string">'div'</span>);
  notification.className = <span class="js-string">`notification ${type}`</span>;
  notification.textContent = message;
  
  <span class="js-function">document.body.appendChild</span>(notification);
  
  <span class="js-comment">// –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è</span>
  <span class="js-function">setTimeout</span>(() => {
    notification.classList.<span class="js-function">add</span>(<span class="js-string">'show'</span>);
  }, <span class="js-number">100</span>);
  
  <span class="js-comment">// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ</span>
  <span class="js-function">setTimeout</span>(() => {
    notification.classList.<span class="js-function">add</span>(<span class="js-string">'hide'</span>);
    <span class="js-function">setTimeout</span>(() => {
      notification.<span class="js-function">remove</span>();
    }, <span class="js-number">300</span>);
  }, <span class="js-number">3000</span>);
}

<span class="js-comment">// –ê–Ω–∏–º–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</span>
<span class="js-function">function</span> <span class="js-function">showSaveAnimation</span>() {
  <span class="js-keyword">const</span> saveIcon = <span class="js-function">document.createElement</span>(<span class="js-string">'div'</span>);
  saveIcon.className = <span class="js-string">'save-animation'</span>;
  saveIcon.textContent = <span class="js-string">'üíæ'</span>;
  
  <span class="js-function">document.body.appendChild</span>(saveIcon);
  
  <span class="js-function">setTimeout</span>(() => {
    saveIcon.<span class="js-function">remove</span>();
  }, <span class="js-number">2000</span>);
}

<span class="js-comment">// –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</span>
window.<span class="js-function">addEventListener</span>(<span class="js-string">'error'</span>, (event) => {
  <span class="js-function">console.error</span>(<span class="js-string">'–û—à–∏–±–∫–∞ –∏–≥—Ä—ã:'</span>, event.error);
  <span class="js-function">showNotification</span>(<span class="js-string">'–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.'</span>, <span class="js-string">'error'</span>);
});

<span class="js-comment">// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ localStorage</span>
<span class="js-function">function</span> <span class="js-function">checkLocalStorageSupport</span>() {
  <span class="js-keyword">try</span> {
    <span class="js-keyword">const</span> test = <span class="js-string">'test'</span>;
    <span class="js-function">localStorage.setItem</span>(test, test);
    <span class="js-function">localStorage.removeItem</span>(test);
    <span class="js-keyword">return</span> <span class="js-keyword">true</span>;
  } <span class="js-keyword">catch</span> (e) {
    <span class="js-function">showNotification</span>(<span class="js-string">'–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è!'</span>, <span class="js-string">'warning'</span>);
    <span class="js-keyword">return</span> <span class="js-keyword">false</span>;
  }
}</pre>
          </div>
        </div>

        <div class="task-section">
          <h3>üíæ –¢–≤–æ—ë –∑–∞–¥–∞–Ω–∏–µ</h3>
          <p>–î–æ–±–∞–≤—å —Å–∏—Å—Ç–µ–º—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ñ–∏–Ω–∞–ª—å–Ω—É—é –ø–æ–ª–∏—Ä–æ–≤–∫—É:</p>

          <ol class="task-list">
            <li>–§—É–Ω–∫—Ü–∏–∏ saveGame() –∏ loadGame() —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫</li>
            <li>–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã</li>
            <li>–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–≥—Ä—ã —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º</li>
            <li>–ë–µ–∑–æ–ø–∞—Å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å–±—Ä–æ—Å–∞ –∏–≥—Ä—ã</li>
            <li>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞</li>
            <li>–ö—Ä–∞—Å–∏–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π</li>
            <li>–ü—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ localStorage</li>
            <li>CSS –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX</li>
          </ol>

          <p style="margin-top: 20px; font-style: italic; color: #856404">
            üí° –¢–µ—Å—Ç–∏—Ä—É–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö!
          </p>
        </div>

        <div class="completion-celebration">
          <h2>üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!</h2>
          <p>–¢—ã —Å–æ–∑–¥–∞–ª –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞!</p>
          <p>–¢–≤–æ–π —Ç–∞–º–∞–≥–æ—á–∏ —É–º–µ–µ—Ç:</p>
          <ul
            style="
              list-style: none;
              margin: 20px 0;
              text-align: left;
              max-width: 400px;
              margin-left: auto;
              margin-right: auto;
            "
          >
            <li>üçé –ï—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ</li>
            <li>üéÆ –ò–≥—Ä–∞—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç</li>
            <li>üå± –≠–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ 5 —Å—Ç–∞–¥–∏–π</li>
            <li>üß† –ò–≥—Ä–∞—Ç—å –≤ –º–∏–Ω–∏-–∏–≥—Ä—ã –Ω–∞ –ø–∞–º—è—Ç—å</li>
            <li>üèÜ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</li>
            <li>üíæ –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞–≤—Å–µ–≥–¥–∞</li>
            <li>‚ú® –†–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–≤–æ—é –∑–∞–±–æ—Ç—É</li>
          </ul>
          <a href="../game/index.html" class="play-button" target="_blank">
            üéÆ –ò–≥—Ä–∞—Ç—å —Å –ø–∏—Ç–æ–º—Ü–µ–º!
          </a>
        </div>

        <div class="tips-section">
          <h3>üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è</h3>

          <div class="tip-item">
            <strong>–†–∞—Å—à–∏—Ä—è–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:</strong> –î–æ–±–∞–≤—å –Ω–æ–≤—ã–µ –º–∏–Ω–∏-–∏–≥—Ä—ã,
            –±–æ–ª—å—à–µ —ç–≤–æ–ª—é—Ü–∏–π, —Å–∏—Å—Ç–µ–º—É –¥—Ä—É–∑–µ–π –∏–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–µ–Ω—è—Ç—å –∏–º—è –ø–∏—Ç–æ–º—Ü–∞.
          </div>

          <div class="tip-item">
            <strong>–£–ª—É—á—à–∞–π –≥—Ä–∞—Ñ–∏–∫—É:</strong> –ó–∞–º–µ–Ω–∏ —ç–º–æ–¥–∑–∏ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ
            —Å–ø—Ä–∞–π—Ç—ã, –¥–æ–±–∞–≤—å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ GIF –∏–ª–∏ –¥–∞–∂–µ 3D –º–æ–¥–µ–ª–∏.
          </div>

          <div class="tip-item">
            <strong>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong> –î–æ–±–∞–≤—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ–ª–∏—Ç—å—Å—è
            –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö –∏–ª–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –ø–∏—Ç–æ–º—Ü–µ–≤ —Å –¥—Ä—É–∑—å—è–º–∏.
          </div>

          <div class="tip-item">
            <strong>–ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:</strong> –°–¥–µ–ª–∞–π PWA (Progressive Web App)
            –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
          </div>

          <div class="tip-item">
            <strong>–ò–∑—É—á–∞–π –¥–∞–ª—å—à–µ:</strong> –û—Å–≤–æ–∏–≤ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç, —Ç—ã –≥–æ—Ç–æ–≤ –∫
            –∏–∑—É—á–µ–Ω–∏—é —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∫–∞–∫ React, Vue.js –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—é –∏–≥—Ä –Ω–∞ Canvas!
          </div>
        </div>

        <div style="text-align: center; margin-top: 50px">
          <a href="../index.html" class="next-lesson">
            üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é ‚Üí
          </a>
        </div>
      </div>
    </div>

    <script>
      // –î–µ–º–æ localStorage –¥–ª—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞
      let demoData = {
        userName: "–ò–≥—Ä–æ–∫",
        score: 1250,
        level: 5,
        achievements: ["first_save", "data_master"],
        lastPlayed: new Date().toISOString(),
      };

      function saveDemo() {
        try {
          const dataToSave = {
            ...demoData,
            saveTime: new Date().toLocaleString(),
            randomValue: Math.floor(Math.random() * 1000),
          };

          localStorage.setItem("tamagochi_demo", JSON.stringify(dataToSave));

          document.getElementById("storageOutput").innerHTML = `
            <strong>‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!</strong><br>
            <pre>${JSON.stringify(dataToSave, null, 2)}</pre>
          `;
        } catch (error) {
          document.getElementById("storageOutput").innerHTML = `
            <strong>‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:</strong><br>
            ${error.message}
          `;
        }
      }

      function loadDemo() {
        try {
          const savedData = localStorage.getItem("tamagochi_demo");

          if (!savedData) {
            document.getElementById("storageOutput").innerHTML = `
              <strong>üìÅ –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</strong><br>
              –°–Ω–∞—á–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–æ–π "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
            `;
            return;
          }

          const parsedData = JSON.parse(savedData);

          document.getElementById("storageOutput").innerHTML = `
            <strong>üìÅ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!</strong><br>
            <pre>${JSON.stringify(parsedData, null, 2)}</pre>
          `;
        } catch (error) {
          document.getElementById("storageOutput").innerHTML = `
            <strong>‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:</strong><br>
            ${error.message}
          `;
        }
      }

      function clearDemo() {
        try {
          localStorage.removeItem("tamagochi_demo");
          document.getElementById("storageOutput").innerHTML = `
            <strong>üóëÔ∏è –î–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã!</strong><br>
            localStorage –æ—á–∏—â–µ–Ω –æ—Ç –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö.
          `;
        } catch (error) {
          document.getElementById("storageOutput").innerHTML = `
            <strong>‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏:</strong><br>
            ${error.message}
          `;
        }
      }

      function showStorageInfo() {
        try {
          const keys = Object.keys(localStorage);
          const totalSize = JSON.stringify(localStorage).length;

          let info = `<strong>üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ localStorage:</strong><br>`;
          info += `–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–π: ${keys.length}<br>`;
          info += `–ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ${(totalSize / 1024).toFixed(
            2
          )} KB<br><br>`;

          if (keys.length > 0) {
            info += `<strong>–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∫–ª—é—á–∏:</strong><br>`;
            keys.forEach((key) => {
              const value = localStorage.getItem(key);
              const size = value ? (value.length / 1024).toFixed(2) : 0;
              info += `‚Ä¢ ${key} (${size} KB)<br>`;
            });
          } else {
            info += `localStorage –ø—É—Å—Ç`;
          }

          document.getElementById("storageOutput").innerHTML = info;
        } catch (error) {
          document.getElementById("storageOutput").innerHTML = `
            <strong>‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:</strong><br>
            ${error.message}
          `;
        }
      }

      // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ü–∏–π
      document.addEventListener("DOMContentLoaded", function () {
        const sections = document.querySelectorAll(
          ".section, .storage-demo, .completion-celebration"
        );
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateY(0)";
            }
          });
        });

        sections.forEach((section) => {
          section.style.opacity = "0";
          section.style.transform = "translateY(20px)";
          section.style.transition = "all 0.6s ease";
          observer.observe(section);
        });

        // –ê–Ω–∏–º–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Ñ—É–Ω–∫—Ü–∏–π
        const cards = document.querySelectorAll(".feature-card");
        cards.forEach((card, index) => {
          card.style.opacity = "0";
          card.style.transform = "translateY(20px)";
          card.style.transition = "all 0.6s ease";

          setTimeout(() => {
            card.style.opacity = "1";
            card.style.transform = "translateY(0)";
          }, index * 100 + 1000);
        });
      });

      // –î–æ–±–∞–≤–ª—è–µ–º CSS –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      const style = document.createElement("style");
      style.textContent = `
        .notification {
          position: fixed;
          top: 20px;
          right: 20px;
          padding: 15px 20px;
          border-radius: 8px;
          color: white;
          font-weight: 600;
          z-index: 1000;
          transform: translateX(100%);
          transition: all 0.3s ease;
          max-width: 300px;
        }
        
        .notification.show {
          transform: translateX(0);
        }
        
        .notification.hide {
          transform: translateX(100%);
          opacity: 0;
        }
        
        .notification.info {
          background: linear-gradient(135deg, #3498db, #2980b9);
        }
        
        .notification.success {
          background: linear-gradient(135deg, #2ecc71, #27ae60);
        }
        
        .notification.warning {
          background: linear-gradient(135deg, #f39c12, #e67e22);
        }
        
        .notification.error {
          background: linear-gradient(135deg, #e74c3c, #c0392b);
        }
        
        .save-animation {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 4rem;
          z-index: 1001;
          animation: saveFloat 2s ease-out forwards;
          pointer-events: none;
        }
        
        @keyframes saveFloat {
          0% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(0.5);
          }
          50% {
            transform: translate(-50%, -60%) scale(1.2);
          }
          100% {
            opacity: 0;
            transform: translate(-50%, -70%) scale(1);
          }
        }
      `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
