<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—Ä–æ–∫ 4: –≠–≤–æ–ª—é—Ü–∏—è –∏ –º–∏–Ω–∏-–∏–≥—Ä—ã</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(
          135deg,
          #a8e6cf 0%,
          #dcedc1 50%,
          #ffd3a5 100%
        );
        padding: 20px;
        min-height: 100vh;
      }

      .back-to-course {
        position: fixed;
        top: 20px;
        left: 20px;
        background: #27ae60;
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.95rem;
        box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        transition: all 0.3s ease;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .back-to-course:hover {
        background: #229954;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 25px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .header {
        background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
        color: white;
        padding: 40px 30px;
        text-align: center;
        position: relative;
      }

      .header::before {
        content: "üåüüéÆüèÜ";
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 1.2rem;
        opacity: 0.7;
      }

      .header h1 {
        font-size: 2.2rem;
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header .lesson-info {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .content {
        padding: 40px;
      }

      .section {
        margin-bottom: 40px;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        padding: 30px;
        border-radius: 15px;
        border-left: 5px solid #9b59b6;
      }

      .section h2 {
        color: #9b59b6;
        margin-bottom: 20px;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .section p {
        font-size: 1.1rem;
        line-height: 1.7;
        margin-bottom: 15px;
        color: #2c3e50;
      }

      .code-example {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.95rem;
        line-height: 1.5;
        overflow-x: auto;
        position: relative;
      }

      .code-title {
        background: #34495e;
        color: #ecf0f1;
        padding: 8px 15px;
        font-size: 0.9rem;
        font-weight: 600;
        border-radius: 8px 8px 0 0;
        margin: 20px 0 0 0;
      }

      .code-example pre {
        margin: 0;
        white-space: pre-wrap;
      }

      .highlight {
        background: rgba(155, 89, 182, 0.2);
        padding: 2px 4px;
        border-radius: 3px;
        font-weight: 600;
        color: #9b59b6;
      }

      .evolution-demo {
        background: linear-gradient(135deg, #d4edda, #c3e6cb);
        border: 2px solid #28a745;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        text-align: center;
      }

      .evolution-demo h3 {
        color: #155724;
        margin-bottom: 20px;
        font-size: 1.4rem;
      }

      .evolution-stages {
        display: flex;
        justify-content: space-around;
        align-items: center;
        flex-wrap: wrap;
        gap: 15px;
        margin: 20px 0;
      }

      .evolution-stage {
        background: white;
        border-radius: 15px;
        padding: 15px;
        min-width: 120px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        cursor: pointer;
        border: 2px solid transparent;
      }

      .evolution-stage:hover {
        transform: translateY(-5px);
        border-color: #28a745;
        box-shadow: 0 8px 20px rgba(40, 167, 69, 0.3);
      }

      .evolution-stage.active {
        border-color: #9b59b6;
        box-shadow: 0 8px 20px rgba(155, 89, 182, 0.3);
      }

      .evolution-emoji {
        font-size: 2.5rem;
        display: block;
        margin-bottom: 8px;
      }

      .evolution-name {
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 5px;
      }

      .evolution-age {
        font-size: 0.8rem;
        color: #666;
      }

      .minigame-demo {
        background: linear-gradient(135deg, #fff3cd, #ffeeba);
        border: 2px solid #ffc107;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        text-align: center;
      }

      .minigame-demo h4 {
        color: #856404;
        margin-bottom: 15px;
        font-size: 1.2rem;
      }

      .color-sequence {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin: 15px 0;
      }

      .color-button {
        width: 60px;
        height: 60px;
        border: 3px solid #333;
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
      }

      .color-button:hover {
        transform: scale(1.1);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .color-button.red {
        background: #ff6b6b;
      }
      .color-button.green {
        background: #51cf66;
      }
      .color-button.blue {
        background: #339af0;
      }
      .color-button.yellow {
        background: #ffd43b;
      }

      .color-button.flash {
        animation: flash 0.5s ease-in-out;
      }

      @keyframes flash {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.3;
        }
      }

      .game-controls {
        margin: 20px 0;
      }

      .game-btn {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: 600;
        margin: 0 10px;
        transition: all 0.3s ease;
      }

      .game-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }

      .game-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }

      .achievements-demo {
        background: linear-gradient(135deg, #cce5ff, #b3d9ff);
        border: 2px solid #007bff;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
      }

      .achievements-demo h4 {
        color: #004085;
        margin-bottom: 15px;
        font-size: 1.2rem;
      }

      .achievement-list {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 10px;
      }

      .achievement {
        background: rgba(255, 255, 255, 0.9);
        border-radius: 10px;
        padding: 12px;
        border-left: 4px solid #007bff;
        font-size: 0.9rem;
        transition: all 0.3s ease;
      }

      .achievement.unlocked {
        border-left-color: #28a745;
        background: rgba(212, 237, 218, 0.9);
      }

      .achievement.unlocked::before {
        content: "üèÜ ";
      }

      .achievement::before {
        content: "üîí ";
      }

      .js-keyword {
        color: #e74c3c;
        font-weight: 600;
      }

      .js-function {
        color: #9b59b6;
        font-weight: 600;
      }

      .js-string {
        color: #2ecc71;
      }

      .js-number {
        color: #e67e22;
      }

      .js-comment {
        color: #95a5a6;
        font-style: italic;
      }

      .task-section {
        background: linear-gradient(135deg, #fff3cd, #ffeeba);
        border: 2px solid #ffc107;
        border-radius: 15px;
        padding: 25px;
        margin: 30px 0;
      }

      .task-section h3 {
        color: #856404;
        margin-bottom: 15px;
        font-size: 1.4rem;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .task-list {
        list-style: none;
        padding-left: 0;
      }

      .task-list li {
        background: rgba(255, 255, 255, 0.8);
        margin: 8px 0;
        padding: 12px 15px;
        border-radius: 8px;
        border-left: 4px solid #ffc107;
        font-weight: 500;
        position: relative;
        padding-left: 40px;
      }

      .task-list li::before {
        content: "üåü";
        position: absolute;
        left: 15px;
        font-size: 1rem;
      }

      .tips-section {
        background: linear-gradient(135deg, #cce5ff, #b3d9ff);
        border: 2px solid #007bff;
        border-radius: 15px;
        padding: 25px;
        margin: 30px 0;
      }

      .tips-section h3 {
        color: #004085;
        margin-bottom: 15px;
        font-size: 1.4rem;
      }

      .tip-item {
        background: rgba(255, 255, 255, 0.9);
        padding: 12px 15px;
        margin: 10px 0;
        border-radius: 8px;
        border-left: 4px solid #007bff;
        font-size: 1rem;
        line-height: 1.6;
      }

      .next-lesson {
        background: linear-gradient(135deg, #27ae60, #2ecc71);
        color: white;
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        margin-top: 30px;
      }

      .next-lesson:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(39, 174, 96, 0.4);
      }

      @media (max-width: 768px) {
        .content {
          padding: 20px;
        }

        .header h1 {
          font-size: 1.8rem;
        }

        .back-to-course {
          position: relative;
          top: 0;
          left: 0;
          margin-bottom: 20px;
          display: inline-flex;
        }

        .evolution-stages {
          flex-direction: column;
          align-items: center;
        }

        .color-sequence {
          flex-wrap: wrap;
        }
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="back-to-course"> ‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É </a>

    <div class="container">
      <div class="header">
        <h1>üåü –£—Ä–æ–∫ 4: –≠–≤–æ–ª—é—Ü–∏—è –∏ –º–∏–Ω–∏-–∏–≥—Ä—ã</h1>
        <p class="lesson-info">
          –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–≤–∏—Ç–∏–µ –ø–∏—Ç–æ–º—Ü–∞ –∏ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ –∏–≥—Ä—ã
        </p>
      </div>

      <div class="content">
        <div class="section">
          <h2>üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞</h2>
          <p>
            –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –¥–æ–±–∞–≤–∏–º —Å–∞–º—ã–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞—à–µ–≥–æ —Ç–∞–º–∞–≥–æ—á–∏!
            –°–æ–∑–¥–∞–¥–∏–º —Å–∏—Å—Ç–µ–º—É —ç–≤–æ–ª—é—Ü–∏–∏ –ø–∏—Ç–æ–º—Ü–∞ –ø–æ —Å—Ç–∞–¥–∏—è–º —Ä–∞–∑–≤–∏—Ç–∏—è, –º–∏–Ω–∏-–∏–≥—Ä—ã –¥–ª—è
            —Ä–∞–∑–≤–∏—Ç–∏—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –∏ —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞.
          </p>
          <p>
            –¢—ã –∏–∑—É—á–∏—à—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ JavaScript: –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –≤—Ä–µ–º–µ–Ω–∏,
            —Å–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã, –∏–≥—Ä–æ–≤—É—é –ª–æ–≥–∏–∫—É –∏ —Å–∏—Å—Ç–µ–º—É –Ω–∞–≥—Ä–∞–¥.
          </p>
        </div>

        <div class="evolution-demo">
          <h3>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç–≤–æ–ª—é—Ü–∏–∏ –ø–∏—Ç–æ–º—Ü–∞</h3>
          <p>–ö–ª–∏–∫–∞–π –Ω–∞ —Å—Ç–∞–¥–∏–∏, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–∞–∑–≤–∏—Ç–∏–µ –ø–∏—Ç–æ–º—Ü–∞!</p>
          <div class="evolution-stages">
            <div class="evolution-stage active" onclick="setDemoStage('egg')">
              <span class="evolution-emoji">ü•ö</span>
              <div class="evolution-name">–Ø–π—Ü–æ</div>
              <div class="evolution-age">0-2 –º–∏–Ω</div>
            </div>
            <div class="evolution-stage" onclick="setDemoStage('baby')">
              <span class="evolution-emoji">üê£</span>
              <div class="evolution-name">–ü—Ç–µ–Ω—á–∏–∫</div>
              <div class="evolution-age">2-5 –º–∏–Ω</div>
            </div>
            <div class="evolution-stage" onclick="setDemoStage('child')">
              <span class="evolution-emoji">üê§</span>
              <div class="evolution-name">–ú–∞–ª—ã—à</div>
              <div class="evolution-age">5-10 –º–∏–Ω</div>
            </div>
            <div class="evolution-stage" onclick="setDemoStage('teen')">
              <span class="evolution-emoji">üê¶</span>
              <div class="evolution-name">–ü–æ–¥—Ä–æ—Å—Ç–æ–∫</div>
              <div class="evolution-age">10-20 –º–∏–Ω</div>
            </div>
            <div class="evolution-stage" onclick="setDemoStage('adult')">
              <span class="evolution-emoji">ü¶Ö</span>
              <div class="evolution-name">–í–∑—Ä–æ—Å–ª—ã–π</div>
              <div class="evolution-age">20+ –º–∏–Ω</div>
            </div>
          </div>
          <p id="stageDescription">
            –ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–∞–¥–∏—è. –ü–∏—Ç–æ–º–µ—Ü —Ç–æ–ª—å–∫–æ –ø–æ—è–≤–∏–ª—Å—è –Ω–∞ —Å–≤–µ—Ç!
          </p>
        </div>

        <div class="section">
          <h2>üå± –°–∏—Å—Ç–µ–º–∞ —ç–≤–æ–ª—é—Ü–∏–∏</h2>
          <p>
            –°–∏—Å—Ç–µ–º–∞ —ç–≤–æ–ª—é—Ü–∏–∏ –¥–µ–ª–∞–µ—Ç –∏–≥—Ä—É —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ–π –Ω–∞–¥–æ–ª–≥–æ. –ü–∏—Ç–æ–º–µ—Ü —Ä–∞—Å—Ç—ë—Ç –∏
            —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏ –∑–∞–±–æ—Ç—ã –∏–≥—Ä–æ–∫–∞.
          </p>

          <div class="code-title">üå± –û–±—ä–µ–∫—Ç —Å—Ç–∞–¥–∏–π —ç–≤–æ–ª—é—Ü–∏–∏</div>
          <div class="code-example">
            <pre><span class="js-comment">// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –≤—Å–µ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è –ø–∏—Ç–æ–º—Ü–∞</span>
<span class="js-keyword">const</span> evolutionStages = {
  <span class="js-string">egg</span>: {
    <span class="js-string">emoji</span>: <span class="js-string">"ü•ö"</span>,
    <span class="js-string">name</span>: <span class="js-string">"–Ø–π—Ü–æ"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–∞–¥–∏—è. –ü–∏—Ç–æ–º–µ—Ü —Ç–æ–ª—å–∫–æ –ø–æ—è–≤–∏–ª—Å—è!"</span>,
    <span class="js-string">minAge</span>: <span class="js-number">0</span>,
    <span class="js-string">maxAge</span>: <span class="js-number">2</span>,
    <span class="js-string">requirements</span>: { <span class="js-string">level</span>: <span class="js-number">1</span> }
  },
  
  <span class="js-string">baby</span>: {
    <span class="js-string">emoji</span>: <span class="js-string">"üê£"</span>,
    <span class="js-string">name</span>: <span class="js-string">"–ü—Ç–µ–Ω—á–∏–∫"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–ú–∞–ª–µ–Ω—å–∫–∏–π –∏ –±–µ–∑–∑–∞—â–∏—Ç–Ω—ã–π, –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –∑–∞–±–æ—Ç–µ"</span>,
    <span class="js-string">minAge</span>: <span class="js-number">2</span>,
    <span class="js-string">maxAge</span>: <span class="js-number">5</span>,
    <span class="js-string">requirements</span>: { <span class="js-string">level</span>: <span class="js-number">3</span>, <span class="js-string">happiness</span>: <span class="js-number">50</span> }
  },
  
  <span class="js-string">child</span>: {
    <span class="js-string">emoji</span>: <span class="js-string">"üê§"</span>,
    <span class="js-string">name</span>: <span class="js-string">"–ú–∞–ª—ã—à"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–ê–∫—Ç–∏–≤–Ω—ã–π –∏ –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–π, –ª—é–±–∏—Ç –∏–≥—Ä–∞—Ç—å"</span>,
    <span class="js-string">minAge</span>: <span class="js-number">5</span>,
    <span class="js-string">maxAge</span>: <span class="js-number">10</span>,
    <span class="js-string">requirements</span>: { <span class="js-string">level</span>: <span class="js-number">7</span>, <span class="js-string">happiness</span>: <span class="js-number">70</span> }
  },
  
  <span class="js-string">teen</span>: {
    <span class="js-string">emoji</span>: <span class="js-string">"üê¶"</span>,
    <span class="js-string">name</span>: <span class="js-string">"–ü–æ–¥—Ä–æ—Å—Ç–æ–∫"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∏ —É–º–Ω—ã–π, –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø—ã—Ç–∞–Ω–∏—è–º"</span>,
    <span class="js-string">minAge</span>: <span class="js-number">10</span>,
    <span class="js-string">maxAge</span>: <span class="js-number">20</span>,
    <span class="js-string">requirements</span>: { <span class="js-string">level</span>: <span class="js-number">15</span>, <span class="js-string">intelligence</span>: <span class="js-number">50</span> }
  },
  
  <span class="js-string">adult</span>: {
    <span class="js-string">emoji</span>: <span class="js-string">"ü¶Ö"</span>,
    <span class="js-string">name</span>: <span class="js-string">"–í–∑—Ä–æ—Å–ª—ã–π"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–ú—É–¥—Ä—ã–π –∏ —Å–∏–ª—å–Ω—ã–π, –¥–æ—Å—Ç–∏–≥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è"</span>,
    <span class="js-string">minAge</span>: <span class="js-number">20</span>,
    <span class="js-string">maxAge</span>: <span class="js-number">Infinity</span>,
    <span class="js-string">requirements</span>: { <span class="js-string">level</span>: <span class="js-number">25</span>, <span class="js-string">intelligence</span>: <span class="js-number">80</span> }
  }
};</pre>
          </div>
        </div>

        <div class="section">
          <h2>üìà –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç–≤–æ–ª—é—Ü–∏–∏</h2>
          <p>
            –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –º–æ–∂–µ—Ç –ª–∏ –ø–∏—Ç–æ–º–µ—Ü –ø–µ—Ä–µ–π—Ç–∏
            –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞–¥–∏—é —Ä–∞–∑–≤–∏—Ç–∏—è. –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–æ–∑—Ä–∞—Å—Ç, —É—Ä–æ–≤–µ–Ω—å –∏ –¥—Ä—É–≥–∏–µ
            —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.
          </p>

          <div class="code-title">üìà –õ–æ–≥–∏–∫–∞ —ç–≤–æ–ª—é—Ü–∏–∏</div>
          <div class="code-example">
            <pre><span class="js-function">function</span> <span class="js-function">checkEvolution</span>() {
  <span class="js-comment">// –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –∏ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞–¥–∏–∏</span>
  <span class="js-keyword">const</span> currentStage = evolutionStages[pet.stage];
  <span class="js-keyword">const</span> stageNames = <span class="js-function">Object.keys</span>(evolutionStages);
  <span class="js-keyword">const</span> currentIndex = stageNames.<span class="js-function">indexOf</span>(pet.stage);
  
  <span class="js-comment">// –ï—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–¥–∏—è, —ç–≤–æ–ª—é—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞</span>
  <span class="js-keyword">if</span> (currentIndex === stageNames.length - <span class="js-number">1</span>) <span class="js-keyword">return</span>;
  
  <span class="js-keyword">const</span> nextStageName = stageNames[currentIndex + <span class="js-number">1</span>];
  <span class="js-keyword">const</span> nextStage = evolutionStages[nextStageName];
  
  <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑—Ä–∞—Å—Ç</span>
  <span class="js-keyword">const</span> ageInMinutes = pet.age;
  <span class="js-keyword">if</span> (ageInMinutes < nextStage.minAge) <span class="js-keyword">return</span>;
  
  <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —ç–≤–æ–ª—é—Ü–∏–∏</span>
  <span class="js-keyword">let</span> canEvolve = <span class="js-keyword">true</span>;
  
  <span class="js-keyword">if</span> (nextStage.requirements.level && pet.level < nextStage.requirements.level) {
    canEvolve = <span class="js-keyword">false</span>;
  }
  
  <span class="js-keyword">if</span> (nextStage.requirements.happiness && pet.stats.happiness < nextStage.requirements.happiness) {
    canEvolve = <span class="js-keyword">false</span>;
  }
  
  <span class="js-keyword">if</span> (nextStage.requirements.intelligence && pet.intelligence < nextStage.requirements.intelligence) {
    canEvolve = <span class="js-keyword">false</span>;
  }
  
  <span class="js-comment">// –ï—Å–ª–∏ –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã - —ç–≤–æ–ª—é—Ü–∏—è!</span>
  <span class="js-keyword">if</span> (canEvolve) {
    <span class="js-function">evolve</span>(nextStageName);
  }
}

<span class="js-function">function</span> <span class="js-function">evolve</span>(newStage) {
  <span class="js-keyword">const</span> oldStage = evolutionStages[pet.stage];
  pet.stage = newStage;
  pet.emoji = evolutionStages[newStage].emoji;
  
  <span class="js-comment">// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —ç–≤–æ–ª—é—Ü–∏–∏</span>
  <span class="js-function">showEvolutionAnimation</span>(oldStage.emoji, pet.emoji);
  <span class="js-function">showMessage</span>(<span class="js-string">`üåü –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! ${pet.name} —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª –≤ ${evolutionStages[newStage].name}!`</span>);
  
  <span class="js-comment">// –î–∞—ë–º –±–æ–Ω—É—Å—ã –∑–∞ —ç–≤–æ–ª—é—Ü–∏—é</span>
  pet.stats.happiness = <span class="js-function">Math.min</span>(<span class="js-number">100</span>, pet.stats.happiness + <span class="js-number">20</span>);
  <span class="js-function">addExperience</span>(<span class="js-number">50</span>);
  
  <span class="js-function">updateDisplay</span>();
  <span class="js-function">checkAchievement</span>(<span class="js-string">"evolution_" + newStage</span>);
}</pre>
          </div>
        </div>

        <div class="minigame-demo">
          <h4>–ú–∏–Ω–∏-–∏–≥—Ä–∞: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ü–≤–µ—Ç–æ–≤</h4>
          <p>–ó–∞–ø–æ–º–Ω–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–∏ –µ—ë!</p>
          <div class="color-sequence">
            <div class="color-button red" onclick="playerClick('red')"></div>
            <div
              class="color-button green"
              onclick="playerClick('green')"
            ></div>
            <div class="color-button blue" onclick="playerClick('blue')"></div>
            <div
              class="color-button yellow"
              onclick="playerClick('yellow')"
            ></div>
          </div>
          <div class="game-controls">
            <button class="game-btn" onclick="startColorGame()">
              –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
            </button>
            <button class="game-btn" onclick="resetColorGame()">
              –°–±—Ä–æ—Å–∏—Ç—å
            </button>
          </div>
          <div
            id="gameMessage"
            style="margin-top: 10px; font-weight: bold; color: #856404"
          >
            –ù–∞–∂–º–∏ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É" –¥–ª—è –Ω–∞—á–∞–ª–∞!
          </div>
        </div>

        <div class="section">
          <h2>üß† –ú–∏–Ω–∏-–∏–≥—Ä–∞ –Ω–∞ –ø–∞–º—è—Ç—å</h2>
          <p>
            –ú–∏–Ω–∏-–∏–≥—Ä–∞ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –ø–∏—Ç–æ–º—Ü–∞ –∏ –¥–µ–ª–∞–µ—Ç –∏–≥—Ä—É –±–æ–ª–µ–µ
            –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π. –ò–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –∑–∞–ø–æ–º–Ω–∏—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
            —Ü–≤–µ—Ç–æ–≤.
          </p>

          <div class="code-title">üß† –õ–æ–≥–∏–∫–∞ –º–∏–Ω–∏-–∏–≥—Ä—ã</div>
          <div class="code-example">
            <pre><span class="js-comment">// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –º–∏–Ω–∏-–∏–≥—Ä—ã</span>
<span class="js-keyword">let</span> gameSequence = [];
<span class="js-keyword">let</span> playerSequence = [];
<span class="js-keyword">let</span> gameActive = <span class="js-keyword">false</span>;
<span class="js-keyword">let</span> gameLevel = <span class="js-number">1</span>;

<span class="js-keyword">const</span> colors = [<span class="js-string">'red'</span>, <span class="js-string">'green'</span>, <span class="js-string">'blue'</span>, <span class="js-string">'yellow'</span>];

<span class="js-function">function</span> <span class="js-function">startColorGame</span>() {
  <span class="js-keyword">if</span> (!pet.isAlive) <span class="js-keyword">return</span>;
  
  <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º —ç–Ω–µ—Ä–≥–∏—é –¥–ª—è –∏–≥—Ä—ã</span>
  <span class="js-keyword">if</span> (pet.stats.energy < <span class="js-number">30</span>) {
    <span class="js-function">showMessage</span>(<span class="js-string">"üò¥ –°–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª –¥–ª—è –º–∏–Ω–∏-–∏–≥—Ä!"</span>);
    <span class="js-keyword">return</span>;
  }
  
  gameActive = <span class="js-keyword">true</span>;
  gameSequence = [];
  playerSequence = [];
  gameLevel = <span class="js-number">1</span>;
  
  <span class="js-comment">// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–µ—Ä–≤—ã–π —Ü–≤–µ—Ç</span>
  <span class="js-function">addColorToSequence</span>();
  <span class="js-function">playSequence</span>();
}

<span class="js-function">function</span> <span class="js-function">addColorToSequence</span>() {
  <span class="js-keyword">const</span> randomColor = colors[<span class="js-function">Math.floor</span>(<span class="js-function">Math.random</span>() * colors.length)];
  gameSequence.<span class="js-function">push</span>(randomColor);
}

<span class="js-function">function</span> <span class="js-function">playSequence</span>() {
  <span class="js-keyword">let</span> i = <span class="js-number">0</span>;
  
  <span class="js-keyword">const</span> interval = <span class="js-function">setInterval</span>(() => {
    <span class="js-keyword">if</span> (i >= gameSequence.length) {
      <span class="js-function">clearInterval</span>(interval);
      <span class="js-function">showMessage</span>(<span class="js-string">"–¢–µ–ø–µ—Ä—å –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å!"</span>);
      <span class="js-keyword">return</span>;
    }
    
    <span class="js-comment">// –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Ü–≤–µ—Ç</span>
    <span class="js-keyword">const</span> colorButton = <span class="js-function">document.querySelector</span>(<span class="js-string">`.color-button.${gameSequence[i]}`</span>);
    colorButton.classList.<span class="js-function">add</span>(<span class="js-string">'flash'</span>);
    
    <span class="js-function">setTimeout</span>(() => {
      colorButton.classList.<span class="js-function">remove</span>(<span class="js-string">'flash'</span>);
    }, <span class="js-number">400</span>);
    
    i++;
  }, <span class="js-number">600</span>);
}</pre>
          </div>
        </div>

        <div class="section">
          <h2>üéÆ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –∏–≥—Ä–æ–∫–∞</h2>
          <p>
            –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –∏–≥—Ä–æ–∫–∞ –∏ –Ω–∞–≥—Ä–∞–∂–¥–∞–µ–º –∑–∞ —É—Å–ø–µ—à–Ω–æ–µ
            –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –º–∏–Ω–∏-–∏–≥—Ä—ã.
          </p>

          <div class="code-title">üéÆ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–≤–æ–¥–∞</div>
          <div class="code-example">
            <pre><span class="js-function">function</span> <span class="js-function">playerClick</span>(color) {
  <span class="js-keyword">if</span> (!gameActive) <span class="js-keyword">return</span>;
  
  playerSequence.<span class="js-function">push</span>(color);
  
  <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π –≤–≤–æ–¥</span>
  <span class="js-keyword">const</span> currentIndex = playerSequence.length - <span class="js-number">1</span>;
  
  <span class="js-keyword">if</span> (playerSequence[currentIndex] !== gameSequence[currentIndex]) {
    <span class="js-comment">// –û—à–∏–±–∫–∞!</span>
    <span class="js-function">gameOver</span>();
    <span class="js-keyword">return</span>;
  }
  
  <span class="js-comment">// –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ</span>
  <span class="js-keyword">if</span> (playerSequence.length === gameSequence.length) {
    <span class="js-function">levelComplete</span>();
  }
}

<span class="js-function">function</span> <span class="js-function">levelComplete</span>() {
  gameLevel++;
  playerSequence = [];
  
  <span class="js-comment">// –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è</span>
  pet.intelligence = <span class="js-function">Math.min</span>(<span class="js-number">100</span>, pet.intelligence + <span class="js-number">5</span>);
  pet.stats.happiness = <span class="js-function">Math.min</span>(<span class="js-number">100</span>, pet.stats.happiness + <span class="js-number">10</span>);
  pet.stats.energy = <span class="js-function">Math.max</span>(<span class="js-number">0</span>, pet.stats.energy - <span class="js-number">10</span>);
  
  <span class="js-function">showMessage</span>(<span class="js-string">`üéâ –£—Ä–æ–≤–µ–Ω—å ${gameLevel - 1} –ø—Ä–æ–π–¥–µ–Ω! –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç +5`</span>);
  <span class="js-function">addExperience</span>(<span class="js-number">10</span>);
  
  <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–ª–∏—à–∫–æ–º –ª–∏ —Å–ª–æ–∂–Ω–æ</span>
  <span class="js-keyword">if</span> (gameLevel > <span class="js-number">5</span>) {
    <span class="js-function">gameWin</span>();
    <span class="js-keyword">return</span>;
  }
  
  <span class="js-comment">// –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π —Ü–≤–µ—Ç –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º</span>
  <span class="js-function">setTimeout</span>(() => {
    <span class="js-function">addColorToSequence</span>();
    <span class="js-function">playSequence</span>();
  }, <span class="js-number">1000</span>);
}

<span class="js-function">function</span> <span class="js-function">gameOver</span>() {
  gameActive = <span class="js-keyword">false</span>;
  <span class="js-function">showMessage</span>(<span class="js-string">`üí• –û—à–∏–±–∫–∞! –î–æ—Å—Ç–∏–≥–Ω—É—Ç —É—Ä–æ–≤–µ–Ω—å ${gameLevel - 1}`</span>);
  
  <span class="js-comment">// –ù–µ–±–æ–ª—å—à–∞—è –Ω–∞–≥—Ä–∞–¥–∞ –∑–∞ –ø–æ–ø—ã—Ç–∫—É</span>
  <span class="js-keyword">if</span> (gameLevel > <span class="js-number">1</span>) {
    pet.intelligence = <span class="js-function">Math.min</span>(<span class="js-number">100</span>, pet.intelligence + <span class="js-number">1</span>);
    <span class="js-function">addExperience</span>(<span class="js-number">2</span>);
  }
}

<span class="js-function">function</span> <span class="js-function">gameWin</span>() {
  gameActive = <span class="js-keyword">false</span>;
  <span class="js-function">showMessage</span>(<span class="js-string">"üèÜ –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!"</span>);
  
  <span class="js-comment">// –ë–æ–ª—å—à–∞—è –Ω–∞–≥—Ä–∞–¥–∞ –∑–∞ –ø–æ–ª–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ</span>
  pet.intelligence = <span class="js-function">Math.min</span>(<span class="js-number">100</span>, pet.intelligence + <span class="js-number">20</span>);
  pet.stats.happiness = <span class="js-function">Math.min</span>(<span class="js-number">100</span>, pet.stats.happiness + <span class="js-number">30</span>);
  <span class="js-function">addExperience</span>(<span class="js-number">50</span>);
  
  <span class="js-function">checkAchievement</span>(<span class="js-string">"memory_master"</span>);
}</pre>
          </div>
        </div>

        <div class="achievements-demo">
          <h4>–°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</h4>
          <div class="achievement-list">
            <div class="achievement unlocked">
              –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏ - –ü–æ–∫–æ—Ä–º–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞
            </div>
            <div class="achievement unlocked">
              –î—Ä—É–≥ –Ω–∞–≤–µ–∫–∏ - –ü–æ–∏–≥—Ä–∞—Ç—å 10 —Ä–∞–∑
            </div>
            <div class="achievement">–ú–∞—Å—Ç–µ—Ä –ø–∞–º—è—Ç–∏ - –ü—Ä–æ–π—Ç–∏ –º–∏–Ω–∏-–∏–≥—Ä—É</div>
            <div class="achievement">–≠–≤–æ–ª—é—Ü–∏—è - –î–æ—Å—Ç–∏—á—å —Å—Ç–∞–¥–∏–∏ –≤–∑—Ä–æ—Å–ª–æ–≥–æ</div>
            <div class="achievement">
              –ó–∞–±–æ—Ç–ª–∏–≤—ã–π —Ö–æ–∑—è–∏–Ω - 100 –¥–µ–π—Å—Ç–≤–∏–π —É—Ö–æ–¥–∞
            </div>
          </div>
        </div>

        <div class="section">
          <h2>üèÜ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</h2>
          <p>
            –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–æ—Ç–∏–≤–∏—Ä—É—é—Ç –∏–≥—Ä–æ–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏–≥—Ä–∞—Ç—å –∏ —É—Ö–∞–∂–∏–≤–∞—Ç—å –∑–∞
            –ø–∏—Ç–æ–º—Ü–µ–º. –ö–∞–∂–¥–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –¥–∞—ë—Ç –Ω–∞–≥—Ä–∞–¥—É –∏ —á—É–≤—Å—Ç–≤–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.
          </p>

          <div class="code-title">üèÜ –ë–∞–∑–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div>
          <div class="code-example">
            <pre><span class="js-keyword">const</span> achievements = {
  <span class="js-string">first_feed</span>: {
    <span class="js-string">name</span>: <span class="js-string">"–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–ü–æ–∫–æ—Ä–º–∏—Ç—å –ø–∏—Ç–æ–º—Ü–∞ –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑"</span>,
    <span class="js-string">icon</span>: <span class="js-string">"üçé"</span>,
    <span class="js-string">unlocked</span>: <span class="js-keyword">false</span>,
    <span class="js-string">reward</span>: { <span class="js-string">experience</span>: <span class="js-number">10</span> }
  },
  
  <span class="js-string">friend_forever</span>: {
    <span class="js-string">name</span>: <span class="js-string">"–î—Ä—É–≥ –Ω–∞–≤–µ–∫–∏"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–ü–æ–∏–≥—Ä–∞—Ç—å —Å –ø–∏—Ç–æ–º—Ü–µ–º 10 —Ä–∞–∑"</span>,
    <span class="js-string">icon</span>: <span class="js-string">"ü§ó"</span>,
    <span class="js-string">unlocked</span>: <span class="js-keyword">false</span>,
    <span class="js-string">requirement</span>: <span class="js-number">10</span>,
    <span class="js-string">current</span>: <span class="js-number">0</span>,
    <span class="js-string">reward</span>: { <span class="js-string">experience</span>: <span class="js-number">25</span> }
  },
  
  <span class="js-string">memory_master</span>: {
    <span class="js-string">name</span>: <span class="js-string">"–ú–∞—Å—Ç–µ—Ä –ø–∞–º—è—Ç–∏"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–ü—Ä–æ–π—Ç–∏ –º–∏–Ω–∏-–∏–≥—Ä—É –Ω–∞ –ø–∞–º—è—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é"</span>,
    <span class="js-string">icon</span>: <span class="js-string">"üß†"</span>,
    <span class="js-string">unlocked</span>: <span class="js-keyword">false</span>,
    <span class="js-string">reward</span>: { <span class="js-string">experience</span>: <span class="js-number">50</span>, <span class="js-string">intelligence</span>: <span class="js-number">10</span> }
  },
  
  <span class="js-string">evolution_adult</span>: {
    <span class="js-string">name</span>: <span class="js-string">"–ü–æ–ª–Ω–∞—è —ç–≤–æ–ª—é—Ü–∏—è"</span>,
    <span class="js-string">description</span>: <span class="js-string">"–î–æ—Å—Ç–∏—á—å –≤–∑—Ä–æ—Å–ª–æ–π —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑–≤–∏—Ç–∏—è"</span>,
    <span class="js-string">icon</span>: <span class="js-string">"ü¶Ö"</span>,
    <span class="js-string">unlocked</span>: <span class="js-keyword">false</span>,
    <span class="js-string">reward</span>: { <span class="js-string">experience</span>: <span class="js-number">100</span> }
  }
};

<span class="js-function">function</span> <span class="js-function">checkAchievement</span>(achievementId) {
  <span class="js-keyword">const</span> achievement = achievements[achievementId];
  
  <span class="js-keyword">if</span> (!achievement || achievement.unlocked) <span class="js-keyword">return</span>;
  
  <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏</span>
  <span class="js-keyword">let</span> unlockCondition = <span class="js-keyword">true</span>;
  
  <span class="js-keyword">if</span> (achievement.requirement) {
    achievement.current = (achievement.current || <span class="js-number">0</span>) + <span class="js-number">1</span>;
    unlockCondition = achievement.current >= achievement.requirement;
  }
  
  <span class="js-keyword">if</span> (unlockCondition) {
    <span class="js-function">unlockAchievement</span>(achievementId);
  }
}

<span class="js-function">function</span> <span class="js-function">unlockAchievement</span>(achievementId) {
  <span class="js-keyword">const</span> achievement = achievements[achievementId];
  achievement.unlocked = <span class="js-keyword">true</span>;
  
  <span class="js-comment">// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</span>
  <span class="js-function">showAchievementNotification</span>(achievement);
  
  <span class="js-comment">// –î–∞—ë–º –Ω–∞–≥—Ä–∞–¥—ã</span>
  <span class="js-keyword">if</span> (achievement.reward.experience) {
    <span class="js-function">addExperience</span>(achievement.reward.experience);
  }
  
  <span class="js-keyword">if</span> (achievement.reward.intelligence) {
    pet.intelligence = <span class="js-function">Math.min</span>(<span class="js-number">100</span>, pet.intelligence + achievement.reward.intelligence);
  }
  
  <span class="js-function">updateAchievementsDisplay</span>();
}</pre>
          </div>
        </div>

        <div class="task-section">
          <h3>üåü –¢–≤–æ—ë –∑–∞–¥–∞–Ω–∏–µ</h3>
          <p>–î–æ–±–∞–≤—å –≤ —Å–≤–æ–π —Ç–∞–º–∞–≥–æ—á–∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</p>

          <ol class="task-list">
            <li>–û–±—ä–µ–∫—Ç evolutionStages —Å 5 —Å—Ç–∞–¥–∏—è–º–∏ —Ä–∞–∑–≤–∏—Ç–∏—è</li>
            <li>–§—É–Ω–∫—Ü–∏—é checkEvolution() –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —ç–≤–æ–ª—é—Ü–∏–∏</li>
            <li>–ú–∏–Ω–∏-–∏–≥—Ä—É –Ω–∞ –ø–∞–º—è—Ç—å —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —Ü–≤–µ—Ç–æ–≤</li>
            <li>–°–∏—Å—Ç–µ–º—É –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –ø–∏—Ç–æ–º—Ü–∞ (–Ω–æ–≤–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞)</li>
            <li>–ë–∞–∑—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Å —É—Å–ª–æ–≤–∏—è–º–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏</li>
            <li>–§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</li>
            <li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç–≤–æ–ª—é—Ü–∏–∏ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É</li>
          </ol>

          <p style="margin-top: 20px; font-style: italic; color: #856404">
            üí° –ò—Å–ø–æ–ª—å–∑—É–π setInterval –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ —ç–≤–æ–ª—é—Ü–∏–∏!
          </p>
        </div>

        <div class="tips-section">
          <h3>üí° –°–µ–∫—Ä–µ—Ç—ã –≥–µ–π–º–¥–∏–∑–∞–π–Ω–∞</h3>

          <div class="tip-item">
            <strong>–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è:</strong> –≠–≤–æ–ª—é—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å—Å—è –∫–∞–∫
            –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ. –î–æ–±–∞–≤–ª—è–π –∫—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ –∑–≤—É–∫–∏ –¥–ª—è –≤–∞–∂–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤.
          </div>

          <div class="tip-item">
            <strong>–ë–∞–ª–∞–Ω—Å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</strong> –ú–∏–Ω–∏-–∏–≥—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
            —Å–ª–æ–∂–Ω—ã–º–∏, —á—Ç–æ–±—ã –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏, –Ω–æ –Ω–µ —Å–ª–∏—à–∫–æ–º —Ç—Ä—É–¥–Ω—ã–º–∏ –¥–ª—è –¥–µ—Ç–µ–π.
          </div>

          <div class="tip-item">
            <strong>–ú–æ—Ç–∏–≤–∞—Ü–∏—è:</strong> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏.
            –î–µ–ª–∞–π –∏—Ö —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º–∏: –ø—Ä–æ—Å—Ç—ã–µ –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤, —Å–ª–æ–∂–Ω—ã–µ –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö
            –∏–≥—Ä–æ–∫–æ–≤.
          </div>

          <div class="tip-item">
            <strong>–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:</strong> –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–π –∏–≥—Ä–æ–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π –∞–Ω–∏–º–∞—Ü–∏–∏, –∑–≤—É–∫–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
            –æ—Ç–∑—ã–≤—á–∏–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
          </div>
        </div>

        <div style="text-align: center; margin-top: 50px">
          <a href="pet-lesson-5.html" class="next-lesson">
            üíæ –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–ª–∏—Ä–æ–≤–∫–∞ ‚Üí
          </a>
        </div>
      </div>
    </div>

    <script>
      // –î–µ–º–æ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞
      let currentDemoStage = "egg";
      let demoGameSequence = [];
      let demoPlayerSequence = [];
      let demoGameActive = false;
      let demoGameLevel = 1;

      const stageDescriptions = {
        egg: "–ù–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–∞–¥–∏—è. –ü–∏—Ç–æ–º–µ—Ü —Ç–æ–ª—å–∫–æ –ø–æ—è–≤–∏–ª—Å—è –Ω–∞ —Å–≤–µ—Ç!",
        baby: "–ú–∞–ª–µ–Ω—å–∫–∏–π –∏ –±–µ–∑–∑–∞—â–∏—Ç–Ω—ã–π, –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –∑–∞–±–æ—Ç–µ.",
        child: "–ê–∫—Ç–∏–≤–Ω—ã–π –∏ –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã–π, –æ–±–æ–∂–∞–µ—Ç –∏–≥—Ä–∞—Ç—å –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å.",
        teen: "–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∏ —É–º–Ω—ã–π, –≥–æ—Ç–æ–≤ –∫ —Å–µ—Ä—å—ë–∑–Ω—ã–º –∏—Å–ø—ã—Ç–∞–Ω–∏—è–º.",
        adult: "–ú—É–¥—Ä—ã–π –∏ —Å–∏–ª—å–Ω—ã–π, –¥–æ—Å—Ç–∏–≥ –ø–∏–∫–∞ —Å–≤–æ–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è.",
      };

      function setDemoStage(stage) {
        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö
        document.querySelectorAll(".evolution-stage").forEach((el) => {
          el.classList.remove("active");
        });

        // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É
        event.target.closest(".evolution-stage").classList.add("active");

        currentDemoStage = stage;
        document.getElementById("stageDescription").textContent =
          stageDescriptions[stage];

        // –ê–Ω–∏–º–∞—Ü–∏—è —Å–º–µ–Ω—ã —Å—Ç–∞–¥–∏–∏
        const description = document.getElementById("stageDescription");
        description.style.animation = "fadeIn 0.5s ease";
      }

      // –ú–∏–Ω–∏-–∏–≥—Ä–∞ –¥–µ–º–æ
      const demoColors = ["red", "green", "blue", "yellow"];

      function startColorGame() {
        demoGameActive = true;
        demoGameSequence = [];
        demoPlayerSequence = [];
        demoGameLevel = 1;

        document.getElementById("gameMessage").textContent =
          "–ó–∞–ø–æ–º–∏–Ω–∞–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å...";

        addColorToSequence();
        playSequence();
      }

      function addColorToSequence() {
        const randomColor =
          demoColors[Math.floor(Math.random() * demoColors.length)];
        demoGameSequence.push(randomColor);
      }

      function playSequence() {
        let i = 0;

        const interval = setInterval(() => {
          if (i >= demoGameSequence.length) {
            clearInterval(interval);
            document.getElementById("gameMessage").textContent =
              "–¢–µ–ø–µ—Ä—å –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å!";
            return;
          }

          const colorButton = document.querySelector(
            `.color-button.${demoGameSequence[i]}`
          );
          colorButton.classList.add("flash");

          setTimeout(() => {
            colorButton.classList.remove("flash");
          }, 400);

          i++;
        }, 600);
      }

      function playerClick(color) {
        if (!demoGameActive) return;

        demoPlayerSequence.push(color);

        const currentIndex = demoPlayerSequence.length - 1;

        if (
          demoPlayerSequence[currentIndex] !== demoGameSequence[currentIndex]
        ) {
          gameOver();
          return;
        }

        if (demoPlayerSequence.length === demoGameSequence.length) {
          levelComplete();
        }
      }

      function levelComplete() {
        demoGameLevel++;
        demoPlayerSequence = [];

        document.getElementById("gameMessage").textContent = `üéâ –£—Ä–æ–≤–µ–Ω—å ${
          demoGameLevel - 1
        } –ø—Ä–æ–π–¥–µ–Ω!`;

        if (demoGameLevel > 3) {
          gameWin();
          return;
        }

        setTimeout(() => {
          addColorToSequence();
          playSequence();
        }, 1500);
      }

      function gameOver() {
        demoGameActive = false;
        document.getElementById(
          "gameMessage"
        ).textContent = `üí• –û—à–∏–±–∫–∞! –î–æ—Å—Ç–∏–≥–Ω—É—Ç —É—Ä–æ–≤–µ–Ω—å ${demoGameLevel - 1}`;
      }

      function gameWin() {
        demoGameActive = false;
        document.getElementById("gameMessage").textContent =
          "üèÜ –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã! –ü–æ—Ç—Ä—è—Å–∞—é—â–µ!";
      }

      function resetColorGame() {
        demoGameActive = false;
        demoGameSequence = [];
        demoPlayerSequence = [];
        document.getElementById("gameMessage").textContent =
          '–ù–∞–∂–º–∏ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É" –¥–ª—è –Ω–∞—á–∞–ª–∞!';
      }

      // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ü–∏–π
      document.addEventListener("DOMContentLoaded", function () {
        const sections = document.querySelectorAll(
          ".section, .evolution-demo, .minigame-demo, .achievements-demo"
        );
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateY(0)";
            }
          });
        });

        sections.forEach((section) => {
          section.style.opacity = "0";
          section.style.transform = "translateY(20px)";
          section.style.transition = "all 0.6s ease";
          observer.observe(section);
        });

        // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º
        setTimeout(() => {
          const achievements = document.querySelectorAll(".achievement");
          achievements.forEach((achievement, index) => {
            setTimeout(() => {
              if (index < 2) {
                // –ü–µ—Ä–≤—ã–µ –¥–≤–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è "—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã"
                achievement.classList.add("unlocked");
                achievement.style.animation = "achievementUnlock 0.5s ease";
              }
            }, index * 200);
          });
        }, 1000);
      });

      // –î–æ–±–∞–≤–ª—è–µ–º CSS –∞–Ω–∏–º–∞—Ü–∏–∏
      const style = document.createElement("style");
      style.textContent = `
        @keyframes achievementUnlock {
          0% { transform: scale(0.8); opacity: 0; }
          50% { transform: scale(1.05); }
          100% { transform: scale(1); opacity: 1; }
        }
        
        @keyframes fadeIn {
          from { opacity: 0; transform: translateX(-10px); }
          to { opacity: 1; transform: translateX(0); }
        }
      `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
