<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üèÉ‚Äç‚ôÇÔ∏è Adventure Platformer - –û–±—É—á–∞—é—â–∞—è –∏–≥—Ä–∞</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        overflow: hidden;
      }

      .game-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 20px;
        backdrop-filter: blur(10px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      }

      h1 {
        color: #ecf0f1;
        font-size: 2rem;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
      }

      canvas {
        border: 3px solid #ecf0f1;
        border-radius: 10px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
        background: linear-gradient(to bottom, #87ceeb 0%, #98fb98 100%);
      }

      .ui-overlay {
        position: absolute;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 30px;
        color: #ecf0f1;
        font-size: 1.5rem;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        z-index: 10;
      }

      .controls {
        margin-top: 15px;
        text-align: center;
        color: #ecf0f1;
        background: rgba(255, 255, 255, 0.1);
        padding: 10px 20px;
        border-radius: 15px;
        backdrop-filter: blur(5px);
      }

      .controls p {
        margin: 3px 0;
        font-weight: bold;
        font-size: 0.9rem;
      }

      .back-button {
        position: absolute;
        top: 20px;
        left: 20px;
        background: rgba(255, 255, 255, 0.1);
        color: #ecf0f1;
        border: 1px solid rgba(255, 255, 255, 0.3);
        padding: 10px 20px;
        border-radius: 20px;
        font-weight: bold;
        cursor: pointer;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .back-button:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: scale(1.05);
      }

      .start-screen,
      .game-over-screen {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(52, 73, 94, 0.95);
        color: #ecf0f1;
        padding: 40px;
        border-radius: 20px;
        text-align: center;
        backdrop-filter: blur(10px);
        border: 2px solid #3498db;
        max-width: 600px;
        z-index: 20;
      }

      .start-screen h2,
      .game-over-screen h2 {
        margin-bottom: 20px;
        font-size: 2rem;
      }

      .btn {
        background: linear-gradient(45deg, #27ae60, #229954);
        color: #ecf0f1;
        border: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        margin: 10px;
        transition: all 0.3s ease;
      }

      .btn:hover {
        background: linear-gradient(45deg, #229954, #1e8449);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
      }

      .game-info {
        color: #bdc3c7;
        font-size: 0.9rem;
        margin-top: 15px;
        line-height: 1.4;
      }

      .level-info {
        position: absolute;
        top: 20px;
        right: 20px;
        color: #ecf0f1;
        font-weight: bold;
        background: rgba(0, 0, 0, 0.3);
        padding: 10px 20px;
        border-radius: 15px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
      }

      @media (max-width: 768px) {
        canvas {
          width: 95vw;
          height: 60vh;
        }

        h1 {
          font-size: 1.5rem;
        }

        .game-container {
          padding: 15px;
        }

        .ui-overlay {
          font-size: 1.2rem;
          gap: 20px;
        }

        .controls p {
          font-size: 0.8rem;
        }
      }

      .particle {
        position: absolute;
        width: 6px;
        height: 6px;
        background: #ffd700;
        border-radius: 50%;
        pointer-events: none;
        animation: sparkle 1s ease-out forwards;
      }

      @keyframes sparkle {
        0% {
          opacity: 1;
          transform: scale(0) rotate(0deg);
        }
        50% {
          opacity: 0.8;
          transform: scale(1.5) rotate(180deg);
        }
        100% {
          opacity: 0;
          transform: scale(0) rotate(360deg);
        }
      }

      .power-up-notification {
        position: absolute;
        top: 100px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 215, 0, 0.9);
        color: #333;
        padding: 10px 20px;
        border-radius: 20px;
        font-weight: bold;
        animation: slideDown 2s ease-out forwards;
        z-index: 15;
      }

      @keyframes slideDown {
        0% {
          transform: translate(-50%, -100px);
          opacity: 0;
        }
        20% {
          transform: translate(-50%, 0);
          opacity: 1;
        }
        80% {
          transform: translate(-50%, 0);
          opacity: 1;
        }
        100% {
          transform: translate(-50%, -50px);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body>
    <a href="../index.html" class="back-button">‚Üê –ö —É—Ä–æ–∫–∞–º</a>

    <!-- UI Overlay -->
    <div class="ui-overlay" id="gameUI">
      <div>‚ù§Ô∏è –ñ–∏–∑–Ω–∏: <span id="lives">3</span></div>
      <div>üåü –û—á–∫–∏: <span id="score">0</span></div>
      <div>üíé –ì–µ–º—ã: <span id="gems">0</span></div>
    </div>

    <div class="level-info" id="levelInfo">–£—Ä–æ–≤–µ–Ω—å 1: –û—Å–Ω–æ–≤—ã –¥–≤–∏–∂–µ–Ω–∏—è</div>

    <div class="game-container">
      <h1>üèÉ‚Äç‚ôÇÔ∏è Adventure Platformer</h1>
      <canvas id="gameCanvas" width="1000" height="600"></canvas>

      <div class="controls">
        <p>üéÆ –°—Ç—Ä–µ–ª–∫–∏/WASD - –¥–≤–∏–∂–µ–Ω–∏–µ | –ü—Ä–æ–±–µ–ª - –ø—Ä—ã–∂–æ–∫ | R - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫</p>
        <p>üíé –°–æ–±–∏—Ä–∞–π—Ç–µ –≥–µ–º—ã, –∏–∑–±–µ–≥–∞–π—Ç–µ –≤—Ä–∞–≥–æ–≤ –∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π!</p>
      </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ä—Ç–∞ -->
    <div class="start-screen" id="startScreen">
      <h2>üèÉ‚Äç‚ôÇÔ∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Adventure Platformer!</h2>
      <p>–ü–æ–º–æ–≥–∏—Ç–µ –≥–µ—Ä–æ—é —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ –≥–µ–º—ã –∏ –ø—Ä–æ–π—Ç–∏ —É—Ä–æ–≤–Ω–∏</p>

      <button class="btn" onclick="startGame()">üöÄ –ù–∞—á–∞—Ç—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</button>

      <div class="game-info">
        <p><strong>üéì –£—á–µ–±–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:</strong></p>
        <p>‚Ä¢ –§–∏–∑–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä–∞: –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è, –ø—Ä—ã–∂–∫–∏, —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è</p>
        <p>‚Ä¢ –£—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –∏–≥—Ä–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</p>
        <p>‚Ä¢ –û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–û–û–ü)</p>
        <p>‚Ä¢ –°–∏—Å—Ç–µ–º–∞ —á–∞—Å—Ç–∏—Ü –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</p>
        <p>‚Ä¢ –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞</p>
        <p>‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞</p>
      </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–≥—Ä—ã -->
    <div class="game-over-screen" id="gameOverScreen" style="display: none">
      <h2 id="gameOverTitle">üéâ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
      <p id="gameOverText">–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!</p>
      <p id="gameOverStats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Ä–æ–≤–Ω—è</p>
      <button class="btn" onclick="nextLevel()">‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
      <button class="btn" onclick="restartLevel()">üîÑ –ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</button>
      <button class="btn" onclick="backToMenu()">üè† –í –º–µ–Ω—é</button>
    </div>

    <script>
      // ===========================================
      // –ö–û–ù–°–¢–ê–ù–¢–´ –ò –ù–ê–°–¢–†–û–ô–ö–ò –ò–ì–†–´
      // ===========================================

      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");

      // –§–∏–∑–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
      const GRAVITY = 0.8;
      const JUMP_FORCE = -15;
      const PLAYER_SPEED = 5;
      const FRICTION = 0.85;
      const TILE_SIZE = 40;

      // –ò–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
      const GAME_STATES = {
        START: "start",
        PLAYING: "playing",
        PAUSED: "paused",
        GAME_OVER: "gameOver",
        LEVEL_COMPLETE: "levelComplete",
      };

      // ===========================================
      // –°–ò–°–¢–ï–ú–ê –ß–ê–°–¢–ò–¶
      // ===========================================

      class Particle {
        constructor(x, y, color = "#FFD700", type = "gem") {
          this.x = x;
          this.y = y;
          this.velocityX = (Math.random() - 0.5) * 8;
          this.velocityY = Math.random() * -8 - 2;
          this.life = 1.0;
          this.decay = 0.02;
          this.size = Math.random() * 6 + 3;
          this.color = color;
          this.type = type;
          this.gravity = type === "gem" ? 0.2 : 0.5;
        }

        update() {
          this.x += this.velocityX;
          this.y += this.velocityY;
          this.velocityY += this.gravity;
          this.velocityX *= 0.98;
          this.life -= this.decay;
          this.size *= 0.99;

          return this.life > 0;
        }

        draw() {
          ctx.save();
          ctx.globalAlpha = this.life;
          ctx.fillStyle = this.color;
          ctx.beginPath();

          if (this.type === "gem") {
            // –†–∏—Å—É–µ–º –∑–≤–µ–∑–¥–æ—á–∫—É
            this.drawStar(this.x, this.y, this.size);
          } else {
            // –†–∏—Å—É–µ–º –∫—Ä—É–≥
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          }

          ctx.fill();
          ctx.restore();
        }

        drawStar(x, y, size) {
          const spikes = 5;
          const outerRadius = size;
          const innerRadius = size * 0.4;

          ctx.beginPath();
          for (let i = 0; i < spikes * 2; i++) {
            const angle = (i * Math.PI) / spikes;
            const radius = i % 2 === 0 ? outerRadius : innerRadius;
            const px = x + Math.cos(angle) * radius;
            const py = y + Math.sin(angle) * radius;

            if (i === 0) ctx.moveTo(px, py);
            else ctx.lineTo(px, py);
          }
          ctx.closePath();
        }
      }

      // ===========================================
      // –ò–ì–†–û–ö
      // ===========================================

      class Player {
        constructor(x, y) {
          this.x = x;
          this.y = y;
          this.width = 30;
          this.height = 40;
          this.velocityX = 0;
          this.velocityY = 0;
          this.onGround = false;
          this.facingRight = true;
          this.animationFrame = 0;
          this.animationSpeed = 0.2;
          this.jumpCooldown = 0;
          this.invulnerable = false;
          this.invulnerableTime = 0;

          // –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
          this.hasDoubleJump = false;
          this.doubleJumpUsed = false;
          this.dashCooldown = 0;
          this.dashDistance = 100;
        }

        update() {
          // –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏—è
          this.velocityY += GRAVITY;

          // –î–≤–∏–∂–µ–Ω–∏–µ
          this.x += this.velocityX;
          this.y += this.velocityY;

          // –¢—Ä–µ–Ω–∏–µ
          this.velocityX *= FRICTION;

          // –ê–Ω–∏–º–∞—Ü–∏—è
          if (Math.abs(this.velocityX) > 0.1) {
            this.animationFrame += this.animationSpeed;
          }

          // –ö—É–ª–¥–∞—É–Ω—ã
          if (this.jumpCooldown > 0) this.jumpCooldown--;
          if (this.dashCooldown > 0) this.dashCooldown--;
          if (this.invulnerableTime > 0) {
            this.invulnerableTime--;
            if (this.invulnerableTime <= 0) {
              this.invulnerable = false;
            }
          }

          // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞
          if (this.x < 0) this.x = 0;
          if (this.x > canvas.width - this.width)
            this.x = canvas.width - this.width;

          // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–∞–¥–µ–Ω–∏–µ
          if (this.y > canvas.height + 100) {
            this.takeDamage();
            this.respawn();
          }
        }

        draw() {
          ctx.save();

          // –ú–∏–≥–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ—É—è–∑–≤–∏–º–æ—Å—Ç–∏
          if (this.invulnerable && Math.floor(this.invulnerableTime / 5) % 2) {
            ctx.globalAlpha = 0.5;
          }

          // –û—Ç—Ä–∞–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–π—Ç–∞
          if (!this.facingRight) {
            ctx.translate(this.x + this.width / 2, this.y + this.height / 2);
            ctx.scale(-1, 1);
            ctx.translate(-this.width / 2, -this.height / 2);
          } else {
            ctx.translate(this.x, this.y);
          }

          // –¢–µ–ª–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
          const gradient = ctx.createLinearGradient(0, 0, 0, this.height);
          gradient.addColorStop(0, "#4FC3F7");
          gradient.addColorStop(1, "#29B6F6");

          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, this.width, this.height);

          // –ì–æ–ª–æ–≤–∞
          ctx.fillStyle = "#FFB74D";
          ctx.fillRect(5, 0, this.width - 10, 15);

          // –ì–ª–∞–∑–∞
          ctx.fillStyle = "#333";
          ctx.fillRect(8, 3, 3, 3);
          ctx.fillRect(this.width - 11, 3, 3, 3);

          // –ê–Ω–∏–º–∞—Ü–∏—è –Ω–æ–≥ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏
          if (Math.abs(this.velocityX) > 0.1) {
            const legOffset = Math.sin(this.animationFrame) * 3;
            ctx.fillStyle = "#1976D2";
            ctx.fillRect(2 + legOffset, this.height - 8, 8, 8);
            ctx.fillRect(this.width - 10 - legOffset, this.height - 8, 8, 8);
          } else {
            ctx.fillStyle = "#1976D2";
            ctx.fillRect(2, this.height - 8, 8, 8);
            ctx.fillRect(this.width - 10, this.height - 8, 8, 8);
          }

          ctx.restore();
        }

        jump() {
          if (this.jumpCooldown > 0) return;

          if (this.onGround) {
            this.velocityY = JUMP_FORCE;
            this.onGround = false;
            this.jumpCooldown = 10;
            this.doubleJumpUsed = false;
            this.createJumpEffect();
            playJumpSound();
          } else if (this.hasDoubleJump && !this.doubleJumpUsed) {
            this.velocityY = JUMP_FORCE * 0.8;
            this.doubleJumpUsed = true;
            this.jumpCooldown = 10;
            this.createJumpEffect();
            playJumpSound();
          }
        }

        dash() {
          if (this.dashCooldown > 0) return;

          const direction = this.facingRight ? 1 : -1;
          this.velocityX = direction * 15;
          this.dashCooldown = 60; // 1 —Å–µ–∫—É–Ω–¥–∞ –∫—É–ª–¥–∞—É–Ω–∞
          this.createDashEffect();
          playDashSound();
        }

        takeDamage() {
          if (this.invulnerable) return false;

          gameData.lives--;
          this.invulnerable = true;
          this.invulnerableTime = 120; // 2 —Å–µ–∫—É–Ω–¥—ã –Ω–µ—É—è–∑–≤–∏–º–æ—Å—Ç–∏

          this.createHitEffect();
          playHitSound();
          updateUI();

          if (gameData.lives <= 0) {
            gameState = GAME_STATES.GAME_OVER;
            showGameOver(false);
          }

          return true;
        }

        respawn() {
          this.x = gameData.currentLevel.playerStart.x;
          this.y = gameData.currentLevel.playerStart.y;
          this.velocityX = 0;
          this.velocityY = 0;
        }

        createJumpEffect() {
          for (let i = 0; i < 8; i++) {
            particles.push(
              new Particle(
                this.x + this.width / 2,
                this.y + this.height,
                "#87CEEB",
                "jump"
              )
            );
          }
        }

        createDashEffect() {
          for (let i = 0; i < 12; i++) {
            particles.push(
              new Particle(
                this.x + this.width / 2,
                this.y + this.height / 2,
                "#FFA726",
                "dash"
              )
            );
          }
        }

        createHitEffect() {
          for (let i = 0; i < 15; i++) {
            particles.push(
              new Particle(
                this.x + this.width / 2,
                this.y + this.height / 2,
                "#F44336",
                "hit"
              )
            );
          }
        }
      }

      // ===========================================
      // –í–†–ê–ì–ò
      // ===========================================

      class Enemy {
        constructor(x, y, type = "walker") {
          this.x = x;
          this.y = y;
          this.width = 30;
          this.height = 30;
          this.type = type;
          this.speed = type === "walker" ? 1 : 2;
          this.direction = 1;
          this.animationFrame = 0;
          this.patrolDistance = 100;
          this.startX = x;
          this.health = type === "walker" ? 1 : 2;

          // –õ–µ—Ç–∞—é—â–∏–π —Ç–∏–ø
          if (type === "flyer") {
            this.amplitude = 50;
            this.frequency = 0.05;
            this.baseY = y;
          }
        }

        update() {
          this.animationFrame += 0.1;

          if (this.type === "walker") {
            // –î–≤–∏–∂–µ–Ω–∏–µ –ø–æ –∑–µ–º–ª–µ
            this.x += this.speed * this.direction;

            // –ü–æ–≤–æ—Ä–æ—Ç –≤ –∫–æ–Ω—Ü–µ –ø–∞—Ç—Ä—É–ª—è
            if (Math.abs(this.x - this.startX) > this.patrolDistance) {
              this.direction *= -1;
            }
          } else if (this.type === "flyer") {
            // –õ–µ—Ç–∞—é—â–∏–π –≤—Ä–∞–≥
            this.x += this.speed * this.direction;
            this.y =
              this.baseY +
              Math.sin(this.animationFrame * this.frequency * 60) *
                this.amplitude;

            // –ü–æ–≤–æ—Ä–æ—Ç
            if (Math.abs(this.x - this.startX) > this.patrolDistance) {
              this.direction *= -1;
            }
          }

          // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –∏–≥—Ä–æ–∫–æ–º
          if (this.checkCollisionWithPlayer()) {
            if (player.takeDamage()) {
              // –û—Ç—Ç–∞–ª–∫–∏–≤–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
              const pushDirection = player.x < this.x ? -1 : 1;
              player.velocityX = pushDirection * 8;
              player.velocityY = -5;
            }
          }
        }

        draw() {
          ctx.save();
          ctx.translate(this.x + this.width / 2, this.y + this.height / 2);

          if (this.type === "walker") {
            // –•–æ–¥—è—â–∏–π –≤—Ä–∞–≥ (–∫—Ä–∞—Å–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç —Å –≥–ª–∞–∑–∞–º–∏)
            ctx.fillStyle = "#E53E3E";
            ctx.fillRect(
              -this.width / 2,
              -this.height / 2,
              this.width,
              this.height
            );

            // –ì–ª–∞–∑–∞
            ctx.fillStyle = "#FFD700";
            const eyeOffset = Math.sin(this.animationFrame * 5) * 2;
            ctx.fillRect(-10 + eyeOffset, -8, 4, 4);
            ctx.fillRect(6 + eyeOffset, -8, 4, 4);

            // –ó—É–±—ã
            ctx.fillStyle = "#FFF";
            for (let i = 0; i < 3; i++) {
              ctx.fillRect(-8 + i * 6, 4, 3, 6);
            }
          } else if (this.type === "flyer") {
            // –õ–µ—Ç–∞—é—â–∏–π –≤—Ä–∞–≥ (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –∫—Ä—É–≥)
            ctx.fillStyle = "#9C27B0";
            ctx.beginPath();
            ctx.arc(0, 0, this.width / 2, 0, Math.PI * 2);
            ctx.fill();

            // –ö—Ä—ã–ª—å—è
            const wingFlap = Math.sin(this.animationFrame * 10) * 0.5 + 0.5;
            ctx.fillStyle = "#BA68C8";
            ctx.ellipse(
              -this.width / 2,
              0,
              8,
              15 * wingFlap,
              0,
              0,
              Math.PI * 2
            );
            ctx.fill();
            ctx.ellipse(this.width / 2, 0, 8, 15 * wingFlap, 0, 0, Math.PI * 2);
            ctx.fill();

            // –ì–ª–∞–∑–∞
            ctx.fillStyle = "#F44336";
            ctx.fillRect(-6, -4, 4, 4);
            ctx.fillRect(2, -4, 4, 4);
          }

          ctx.restore();
        }

        checkCollisionWithPlayer() {
          return (
            player.x < this.x + this.width &&
            player.x + player.width > this.x &&
            player.y < this.y + this.height &&
            player.y + player.height > this.y
          );
        }

        takeDamage() {
          this.health--;
          if (this.health <= 0) {
            this.createDeathEffect();
            return true; // –í—Ä–∞–≥ —É–Ω–∏—á—Ç–æ–∂–µ–Ω
          }
          return false;
        }

        createDeathEffect() {
          for (let i = 0; i < 10; i++) {
            particles.push(
              new Particle(
                this.x + this.width / 2,
                this.y + this.height / 2,
                this.type === "walker" ? "#E53E3E" : "#9C27B0",
                "death"
              )
            );
          }
          playEnemyDeathSound();
        }
      }

      // ===========================================
      // –ü–†–ï–î–ú–ï–¢–´
      // ===========================================

      class Gem {
        constructor(x, y, type = "normal") {
          this.x = x;
          this.y = y;
          this.width = 20;
          this.height = 20;
          this.type = type;
          this.animationFrame = 0;
          this.floatOffset = Math.random() * Math.PI * 2;
          this.collected = false;

          this.value = type === "special" ? 50 : 10;
          this.color = type === "special" ? "#FF6B6B" : "#FFD700";
        }

        update() {
          this.animationFrame += 0.1;

          // –ü–ª–∞–≤–∞—é—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
          this.y += Math.sin(this.animationFrame + this.floatOffset) * 0.5;

          // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∞ –∏–≥—Ä–æ–∫–æ–º
          if (this.checkCollisionWithPlayer() && !this.collected) {
            this.collect();
          }
        }

        draw() {
          if (this.collected) return;

          ctx.save();
          ctx.translate(this.x + this.width / 2, this.y + this.height / 2);
          ctx.rotate(this.animationFrame * 2);

          // –°–æ–∑–¥–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –≥–µ–º–∞
          const gradient = ctx.createRadialGradient(
            0,
            0,
            0,
            0,
            0,
            this.width / 2
          );
          gradient.addColorStop(0, this.color);
          gradient.addColorStop(
            0.7,
            this.type === "special" ? "#FF8A80" : "#FFF176"
          );
          gradient.addColorStop(
            1,
            this.type === "special" ? "#FFCDD2" : "#FFF9C4"
          );

          ctx.fillStyle = gradient;

          // –†–∏—Å—É–µ–º —Ñ–æ—Ä–º—É –≥–µ–º–∞
          this.drawGemShape();

          // –î–æ–±–∞–≤–ª—è–µ–º –±–ª–µ—Å–∫
          ctx.fillStyle = "rgba(255, 255, 255, 0.6)";
          ctx.beginPath();
          ctx.arc(-4, -4, 3, 0, Math.PI * 2);
          ctx.fill();

          ctx.restore();
        }

        drawGemShape() {
          const size = this.width / 2;
          ctx.beginPath();
          ctx.moveTo(0, -size);
          ctx.lineTo(size * 0.7, -size * 0.3);
          ctx.lineTo(size, size * 0.3);
          ctx.lineTo(0, size);
          ctx.lineTo(-size, size * 0.3);
          ctx.lineTo(-size * 0.7, -size * 0.3);
          ctx.closePath();
          ctx.fill();
        }

        checkCollisionWithPlayer() {
          return (
            player.x < this.x + this.width &&
            player.x + player.width > this.x &&
            player.y < this.y + this.height &&
            player.y + player.height > this.y
          );
        }

        collect() {
          this.collected = true;
          gameData.score += this.value;
          gameData.gems++;

          // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç —Å–±–æ—Ä–∞
          for (let i = 0; i < 12; i++) {
            particles.push(
              new Particle(
                this.x + this.width / 2,
                this.y + this.height / 2,
                this.color,
                "gem"
              )
            );
          }

          playGemSound();
          updateUI();

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
          checkLevelComplete();
        }
      }

      // ===========================================
      // –°–ò–°–¢–ï–ú–ê –£–†–û–í–ù–ï–ô
      // ===========================================

      class Level {
        constructor(data) {
          this.platforms = data.platforms || [];
          this.enemies = data.enemies || [];
          this.gems = data.gems || [];
          this.playerStart = data.playerStart || { x: 50, y: 400 };
          this.title = data.title || "–£—Ä–æ–≤–µ–Ω—å";
          this.description = data.description || "–û–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è";
          this.background = data.background || "#87CEEB";
          this.requiredGems = data.requiredGems || this.gems.length;
        }

        draw() {
          // –§–æ–Ω —É—Ä–æ–≤–Ω—è
          const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
          gradient.addColorStop(0, this.background);
          gradient.addColorStop(1, "#98FB98");
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, canvas.width, canvas.height);

          // –†–∏—Å—É–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
          this.platforms.forEach((platform) => {
            ctx.fillStyle = "#8D6E63";
            ctx.fillRect(
              platform.x,
              platform.y,
              platform.width,
              platform.height
            );

            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç—É—Ä—É
            ctx.fillStyle = "#A1887F";
            ctx.fillRect(platform.x, platform.y, platform.width, 5);

            // –¢—Ä–∞–≤–∞ —Å–≤–µ—Ä—Ö—É
            ctx.fillStyle = "#4CAF50";
            ctx.fillRect(platform.x, platform.y - 5, platform.width, 5);
          });

          // –†–∏—Å—É–µ–º –≤—Ä–∞–≥–æ–≤
          this.enemies.forEach((enemy) => enemy.draw());

          // –†–∏—Å—É–µ–º –≥–µ–º—ã
          this.gems.forEach((gem) => gem.draw());
        }

        update() {
          // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–∞–≥–æ–≤
          this.enemies = this.enemies.filter((enemy) => {
            enemy.update();
            return true; // –ü–æ–∫–∞ –Ω–µ —É–¥–∞–ª—è–µ–º –≤—Ä–∞–≥–æ–≤
          });

          // –û–±–Ω–æ–≤–ª—è–µ–º –≥–µ–º—ã
          this.gems.forEach((gem) => gem.update());
        }

        checkCollisions(player) {
          player.onGround = false;

          // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏
          this.platforms.forEach((platform) => {
            if (
              player.x < platform.x + platform.width &&
              player.x + player.width > platform.x &&
              player.y < platform.y + platform.height &&
              player.y + player.height > platform.y
            ) {
              // –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ
              if (player.velocityY > 0) {
                // –ü–∞–¥–µ–Ω–∏–µ –≤–Ω–∏–∑
                player.y = platform.y - player.height;
                player.velocityY = 0;
                player.onGround = true;
              } else if (player.velocityY < 0) {
                // –£–¥–∞—Ä –≥–æ–ª–æ–≤–æ–π
                player.y = platform.y + platform.height;
                player.velocityY = 0;
              }
            }
          });
        }
      }

      // ===========================================
      // –î–ê–ù–ù–´–ï –£–†–û–í–ù–ï–ô
      // ===========================================

      const LEVELS = [
        {
          title: "–£—Ä–æ–≤–µ–Ω—å 1: –û—Å–Ω–æ–≤—ã –¥–≤–∏–∂–µ–Ω–∏—è",
          description: "–ò–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ñ–∏–∑–∏–∫–∏",
          platforms: [
            { x: 0, y: 550, width: 300, height: 50 },
            { x: 400, y: 450, width: 200, height: 30 },
            { x: 700, y: 350, width: 300, height: 30 },
            { x: 200, y: 250, width: 150, height: 30 },
          ],
          enemies: [
            new Enemy(450, 420, "walker"),
            new Enemy(750, 150, "flyer"),
          ],
          gems: [
            new Gem(500, 410),
            new Gem(800, 310),
            new Gem(250, 210),
            new Gem(150, 510, "special"),
          ],
          playerStart: { x: 50, y: 500 },
          background: "#87CEEB",
          requiredGems: 3,
        },
        {
          title: "–£—Ä–æ–≤–µ–Ω—å 2: –¢–æ—á–Ω—ã–µ –ø—Ä—ã–∂–∫–∏",
          description: "–û—Å–≤–æ–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –ø—Ä—ã–∂–∫–æ–≤",
          platforms: [
            { x: 0, y: 550, width: 150, height: 50 },
            { x: 250, y: 450, width: 100, height: 20 },
            { x: 450, y: 350, width: 100, height: 20 },
            { x: 650, y: 250, width: 100, height: 20 },
            { x: 850, y: 150, width: 150, height: 20 },
            { x: 400, y: 500, width: 200, height: 20 },
          ],
          enemies: [
            new Enemy(300, 420, "walker"),
            new Enemy(500, 320, "walker"),
            new Enemy(200, 300, "flyer"),
            new Enemy(600, 100, "flyer"),
          ],
          gems: [
            new Gem(300, 410),
            new Gem(500, 310),
            new Gem(700, 210),
            new Gem(900, 110),
            new Gem(500, 460, "special"),
            new Gem(75, 510, "special"),
          ],
          playerStart: { x: 50, y: 500 },
          background: "#FFB74D",
          requiredGems: 5,
        },
        {
          title: "–£—Ä–æ–≤–µ–Ω—å 3: –ú–∞—Å—Ç–µ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä–∞",
          description: "–§–∏–Ω–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ –¥–ª—è –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞!",
          platforms: [
            { x: 0, y: 550, width: 100, height: 50 },
            { x: 200, y: 480, width: 80, height: 15 },
            { x: 350, y: 420, width: 60, height: 15 },
            { x: 480, y: 360, width: 80, height: 15 },
            { x: 350, y: 300, width: 60, height: 15 },
            { x: 200, y: 240, width: 80, height: 15 },
            { x: 400, y: 180, width: 200, height: 15 },
            { x: 700, y: 120, width: 100, height: 15 },
            { x: 850, y: 200, width: 150, height: 20 },
          ],
          enemies: [
            new Enemy(230, 450, "walker"),
            new Enemy(380, 390, "walker"),
            new Enemy(510, 330, "walker"),
            new Enemy(100, 400, "flyer"),
            new Enemy(300, 250, "flyer"),
            new Enemy(600, 100, "flyer"),
            new Enemy(900, 50, "flyer"),
          ],
          gems: [
            new Gem(240, 440),
            new Gem(390, 380),
            new Gem(520, 320),
            new Gem(390, 260),
            new Gem(240, 200),
            new Gem(500, 140),
            new Gem(750, 80),
            new Gem(925, 160, "special"),
            new Gem(50, 510, "special"),
          ],
          playerStart: { x: 25, y: 500 },
          background: "#E1BEE7",
          requiredGems: 7,
        },
      ];

      // ===========================================
      // –ò–ì–†–û–í–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
      // ===========================================

      let gameState = GAME_STATES.START;
      let player;
      let particles = [];
      let keys = {};

      let gameData = {
        currentLevelIndex: 0,
        currentLevel: null,
        score: 0,
        lives: 3,
        gems: 0,
        startTime: 0,
        levelStartTime: 0,
      };

      // ===========================================
      // –£–ü–†–ê–í–õ–ï–ù–ò–ï
      // ===========================================

      document.addEventListener("keydown", (e) => {
        keys[e.code] = true;

        if (e.code === "Space") {
          e.preventDefault();
          if (gameState === GAME_STATES.PLAYING) {
            player.jump();
          } else if (gameState === GAME_STATES.START) {
            startGame();
          }
        }

        if (e.code === "ShiftLeft" && gameState === GAME_STATES.PLAYING) {
          player.dash();
        }

        if (e.code === "KeyR" && gameState === GAME_STATES.PLAYING) {
          restartLevel();
        }
      });

      document.addEventListener("keyup", (e) => {
        keys[e.code] = false;
      });

      // ===========================================
      // –û–°–ù–û–í–ù–û–ô –ò–ì–†–û–í–û–ô –¶–ò–ö–õ
      // ===========================================

      function gameLoop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        if (gameState === GAME_STATES.PLAYING) {
          // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
          handleInput();

          if (player) {
            player.update();
            gameData.currentLevel.checkCollisions(player);
            gameData.currentLevel.update();
          }

          // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç–∏—Ü
          particles = particles.filter((particle) => particle.update());

          // –û—Ç—Ä–∏—Å–æ–≤–∫–∞
          gameData.currentLevel.draw();
          if (player) player.draw();
          particles.forEach((particle) => particle.draw());
        }

        requestAnimationFrame(gameLoop);
      }

      function handleInput() {
        if (!player) return;

        // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
        if (keys["ArrowLeft"] || keys["KeyA"]) {
          player.velocityX = -PLAYER_SPEED;
          player.facingRight = false;
        } else if (keys["ArrowRight"] || keys["KeyD"]) {
          player.velocityX = PLAYER_SPEED;
          player.facingRight = true;
        }

        // –ü—Ä—ã–∂–æ–∫
        if (keys["ArrowUp"] || keys["KeyW"] || keys["Space"]) {
          player.jump();
        }
      }

      // ===========================================
      // –§–£–ù–ö–¶–ò–ò –£–ü–†–ê–í–õ–ï–ù–ò–Ø –ò–ì–†–û–ô
      // ===========================================

      function startGame() {
        gameState = GAME_STATES.PLAYING;
        gameData.currentLevelIndex = 0;
        gameData.score = 0;
        gameData.lives = 3;
        gameData.gems = 0;
        gameData.startTime = Date.now();

        loadLevel(0);

        document.getElementById("startScreen").style.display = "none";
        document.getElementById("gameUI").style.display = "flex";
        updateUI();
      }

      function loadLevel(levelIndex) {
        if (levelIndex >= LEVELS.length) {
          // –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
          showGameOver(true);
          return;
        }

        gameData.currentLevelIndex = levelIndex;
        gameData.currentLevel = new Level(LEVELS[levelIndex]);
        gameData.levelStartTime = Date.now();
        gameData.gems = 0;

        // –°–æ–∑–¥–∞–µ–º –∏–≥—Ä–æ–∫–∞
        player = new Player(
          gameData.currentLevel.playerStart.x,
          gameData.currentLevel.playerStart.y
        );

        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        document.getElementById("levelInfo").textContent =
          gameData.currentLevel.title;
        updateUI();

        // –î–∞–µ–º –¥–≤–æ–π–Ω–æ–π –ø—Ä—ã–∂–æ–∫ —Å 2-–≥–æ —É—Ä–æ–≤–Ω—è
        if (levelIndex >= 1) {
          player.hasDoubleJump = true;
          showPowerUpNotification("ü¶Ö –î–≤–æ–π–Ω–æ–π –ø—Ä—ã–∂–æ–∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω!");
        }
      }

      function checkLevelComplete() {
        const collectedGems = gameData.currentLevel.gems.filter(
          (gem) => gem.collected
        ).length;

        if (collectedGems >= gameData.currentLevel.requiredGems) {
          gameState = GAME_STATES.LEVEL_COMPLETE;
          setTimeout(() => {
            showLevelComplete();
          }, 1000);
        }
      }

      function showLevelComplete() {
        const levelTime = Math.round(
          (Date.now() - gameData.levelStartTime) / 1000
        );
        const bonusPoints = Math.max(0, 100 - levelTime);
        gameData.score += bonusPoints;

        document.getElementById("gameOverTitle").textContent =
          "üéâ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!";
        document.getElementById("gameOverText").textContent =
          "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —É—Ä–æ–≤–Ω—é.";
        document.getElementById("gameOverStats").innerHTML = `
                –í—Ä–µ–º—è: ${levelTime}—Å | –ë–æ–Ω—É—Å: ${bonusPoints} –æ—á–∫–æ–≤<br>
                –°–æ–±—Ä–∞–Ω–æ –≥–µ–º–æ–≤: ${gameData.gems} | –í—Å–µ–≥–æ –æ—á–∫–æ–≤: ${gameData.score}
            `;

        document.getElementById("gameOverScreen").style.display = "block";
      }

      function showGameOver(victory) {
        const totalTime = Math.round((Date.now() - gameData.startTime) / 1000);

        if (victory) {
          document.getElementById("gameOverTitle").textContent =
            "üèÜ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—Å–µ —É—Ä–æ–≤–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!";
          document.getElementById("gameOverText").textContent =
            "–í—ã –º–∞—Å—Ç–µ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä–∞!";
        } else {
          document.getElementById("gameOverTitle").textContent =
            "üíÄ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞";
          document.getElementById("gameOverText").textContent =
            "–ù–µ —Å–¥–∞–≤–∞–π—Ç–µ—Å—å, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑!";
        }

        document.getElementById("gameOverStats").innerHTML = `
                –û–±—â–µ–µ –≤—Ä–µ–º—è: ${totalTime}—Å | –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—á–µ—Ç: ${gameData.score}<br>
                –ü—Ä–æ–π–¥–µ–Ω–æ —É—Ä–æ–≤–Ω–µ–π: ${gameData.currentLevelIndex}/${LEVELS.length}
            `;

        document.getElementById("gameOverScreen").style.display = "block";
      }

      function nextLevel() {
        gameData.currentLevelIndex++;
        loadLevel(gameData.currentLevelIndex);
        gameState = GAME_STATES.PLAYING;
        document.getElementById("gameOverScreen").style.display = "none";
      }

      function restartLevel() {
        loadLevel(gameData.currentLevelIndex);
        gameState = GAME_STATES.PLAYING;
        document.getElementById("gameOverScreen").style.display = "none";
      }

      function backToMenu() {
        gameState = GAME_STATES.START;
        document.getElementById("gameOverScreen").style.display = "none";
        document.getElementById("startScreen").style.display = "block";
        document.getElementById("gameUI").style.display = "none";
      }

      function updateUI() {
        document.getElementById("lives").textContent = gameData.lives;
        document.getElementById("score").textContent = gameData.score;
        document.getElementById("gems").textContent = gameData.gems;
      }

      function showPowerUpNotification(text) {
        const notification = document.createElement("div");
        notification.className = "power-up-notification";
        notification.textContent = text;
        document.body.appendChild(notification);

        setTimeout(() => {
          document.body.removeChild(notification);
        }, 2000);
      }

      // ===========================================
      // –ó–í–£–ö–û–í–´–ï –≠–§–§–ï–ö–¢–´
      // ===========================================

      function playJumpSound() {
        createBeep(400, 0.1, "sine");
      }

      function playGemSound() {
        createBeep(800, 0.2, "triangle");
      }

      function playHitSound() {
        createBeep(150, 0.3, "sawtooth");
      }

      function playDashSound() {
        createBeep(600, 0.15, "square");
      }

      function playEnemyDeathSound() {
        createBeep(200, 0.4, "sawtooth");
      }

      function createBeep(frequency, duration, type = "sine") {
        try {
          const audioContext = new (window.AudioContext ||
            window.webkitAudioContext)();
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();

          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);

          oscillator.frequency.setValueAtTime(
            frequency,
            audioContext.currentTime
          );
          oscillator.type = type;
          gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
          gainNode.gain.exponentialRampToValueAtTime(
            0.01,
            audioContext.currentTime + duration
          );

          oscillator.start(audioContext.currentTime);
          oscillator.stop(audioContext.currentTime + duration);
        } catch (e) {
          console.log("–ó–≤—É–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω");
        }
      }

      // ===========================================
      // –ó–ê–ü–£–°–ö –ò–ì–†–´
      // ===========================================

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      updateUI();

      // –ó–∞–ø—É—Å–∫ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
      gameLoop();

      // ===========================================
      // –û–ë–£–ß–ê–Æ–©–ò–ï –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò
      // ===========================================

      /*
        –û–ë–†–ê–ó–û–í–ê–¢–ï–õ–¨–ù–´–ï –ö–û–ù–¶–ï–ü–¶–ò–ò –í –≠–¢–û–ô –ò–ì–†–ï:
        
        1. –û–ë–™–ï–ö–¢–ù–û-–û–†–ò–ï–ù–¢–ò–†–û–í–ê–ù–ù–û–ï –ü–†–û–ì–†–ê–ú–ú–ò–†–û–í–ê–ù–ò–ï (–û–û–ü)
           - –ö–ª–∞—Å—Å—ã Player, Enemy, Gem, Level, Particle
           - –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –º–µ—Ç–æ–¥–æ–≤
           - –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º
        
        2. –§–ò–ó–ò–ö–ê –ò–ì–†–´
           - –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏—è –∏ –ø—Ä—ã–∂–∫–∏
           - –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è –∏ –æ—Ç—Å–∫–æ–∫–∏
           - –¢—Ä–µ–Ω–∏–µ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
        
        3. –°–ò–°–¢–ï–ú–ê –°–û–°–¢–û–Ø–ù–ò–ô
           - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∏–≥—Ä—ã
           - –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏
           - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π
        
        4. –°–ò–°–¢–ï–ú–ê –ß–ê–°–¢–ò–¶
           - –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
           - –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —á–∞—Å—Ç–∏—Ü
           - –§–∏–∑–∏–∫–∞ —á–∞—Å—Ç–∏—Ü
        
        5. –£–†–û–í–ù–ï–í–ê–Ø –°–ò–°–¢–ï–ú–ê
           - –î–∏–∑–∞–π–Ω —É—Ä–æ–≤–Ω–µ–π
           - –ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
           - –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        
        6. –ò–ì–†–û–í–ê–Ø –õ–û–ì–ò–ö–ê
           - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π
           - –°–∏—Å—Ç–µ–º–∞ –æ—á–∫–æ–≤
           - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (–∂–∏–∑–Ω–∏)
        
        7. –ê–ù–ò–ú–ê–¶–ò–Ø –ò –ì–†–ê–§–ò–ö–ê
           - Canvas API –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
           - –ü–æ–∫–∞–¥—Ä–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è
           - –ì—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã
        
        8. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ò–ì–†–û–í–û–ì–û –¶–ò–ö–õ–ê
           - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
           - RequestAnimationFrame –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
           - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        
        –ê–õ–ì–û–†–ò–¢–ú–´:
        - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π AABB (Axis-Aligned Bounding Box)
        - –°–∏—Å—Ç–µ–º–∞ —á–∞—Å—Ç–∏—Ü —Å —Ñ–∏–∑–∏–∫–æ–π
        - –ò–ò –≤—Ä–∞–≥–æ–≤ —Å –ø–∞—Ç—Ä—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º
        - –ê–Ω–∏–º–∞—Ü–∏—è —Å–ø—Ä–∞–π—Ç–æ–≤ –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
        - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é (—É–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤)
        */
    </script>
  </body>
</html>
