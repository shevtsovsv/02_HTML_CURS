<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—Ä–æ–∫ 3: JavaScript –ª–æ–≥–∏–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        min-height: 100vh;
      }

      .back-to-menu {
        position: fixed;
        top: 20px;
        left: 20px;
        background: #667eea;
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.95rem;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        transition: all 0.3s ease;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .back-to-menu:hover {
        background: #5a67d8;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header .lesson-number {
        font-size: 1.2rem;
        opacity: 0.9;
        font-weight: 300;
      }

      .content {
        padding: 40px;
      }

      .section {
        margin-bottom: 40px;
        padding: 30px;
        border-radius: 15px;
        background: #f8f9fa;
        border-left: 5px solid #667eea;
      }

      .section h2 {
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .section h3 {
        color: #34495e;
        margin-bottom: 15px;
        margin-top: 25px;
        font-size: 1.4rem;
      }

      .section p {
        margin-bottom: 15px;
        font-size: 1.1rem;
        line-height: 1.8;
        color: #555;
      }

      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 25px;
        border-radius: 10px;
        margin: 20px 0;
        overflow-x: auto;
        font-family: "Courier New", monospace;
        line-height: 1.5;
        border-left: 4px solid #667eea;
      }

      .code-block pre {
        margin: 0;
      }

      .highlight {
        background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #f39c12;
        margin: 20px 0;
      }

      .highlight h4 {
        color: #8b4513;
        margin-bottom: 10px;
        font-size: 1.2rem;
      }

      .highlight p {
        color: #8b4513;
        margin: 0;
      }

      .demo-container {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
        padding: 30px;
        margin: 20px 0;
        text-align: center;
      }

      .demo-calc {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 20px;
        color: #333;
        max-width: 400px;
        margin: 0 auto;
        backdrop-filter: blur(10px);
      }

      .js-concept {
        background: #fff3cd;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #ffc107;
        margin: 15px 0;
      }

      .js-concept strong {
        color: #856404;
        font-size: 1.1rem;
      }

      .js-concept p {
        color: #856404;
        margin-top: 8px;
      }

      .navigation {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 40px;
        padding: 20px 0;
        border-top: 1px solid #eee;
      }

      .nav-btn {
        background: linear-gradient(135deg, #4a6fa5, #2e4a73);
        color: white;
        text-decoration: none;
        padding: 12px 25px;
        border-radius: 25px;
        font-weight: 600;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .nav-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(74, 111, 165, 0.3);
      }

      @media (max-width: 768px) {
        .container {
          margin: 10px;
        }

        .content {
          padding: 20px;
        }

        .header h1 {
          font-size: 2rem;
        }

        .navigation {
          flex-direction: column;
          gap: 15px;
        }
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="back-to-menu"> ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–∫–∞–º </a>

    <div class="container">
      <div class="header">
        <h1>‚ö° JavaScript –ª–æ–≥–∏–∫–∞ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞</h1>
        <p class="lesson-number">–£—Ä–æ–∫ 3 –∏–∑ 5</p>
      </div>

      <div class="content">
        <div class="section">
          <h2>üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞</h2>
          <p>
            –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –æ–∂–∏–≤–∏–º –Ω–∞—à –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –ø–æ–º–æ—â—å—é JavaScript!
            –ù–∞—É—á–∏–º—Å—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫, –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ
            –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º. –°–æ–∑–¥–∞–¥–∏–º –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π
            –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫.
          </p>

          <div class="highlight">
            <h4>üí° –ß—Ç–æ –≤—ã —É–∑–Ω–∞–µ—Ç–µ:</h4>
            <p>
              ‚Ä¢ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º<br />
              ‚Ä¢ –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π<br />
              ‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏–π –∏ DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏<br />
              ‚Ä¢ –†–∞–±–æ—Ç—É —Å eval() –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫<br />
              ‚Ä¢ –õ–æ–≥–∏–∫—É –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üìö JavaScript –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</h2>

          <div class="js-concept">
            <strong>let –∏ const</strong>
            <p>
              –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞. let - –∏–∑–º–µ–Ω—è–µ–º—ã–µ,
              const - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
            </p>
          </div>

          <div class="js-concept">
            <strong>function</strong>
            <p>
              –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
              –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
            </p>
          </div>

          <div class="js-concept">
            <strong>document.getElementById()</strong>
            <p>
              –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ HTML —ç–ª–µ–º–µ–Ω—Ç–∞–º –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Ö —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
            </p>
          </div>

          <div class="js-concept">
            <strong>eval()</strong>
            <p>
              –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏–∑ —Å—Ç—Ä–æ–∫–∏. –û—Å—Ç–æ—Ä–æ–∂–Ω–æ - –º–æ–∂–µ—Ç
              –±—ã—Ç—å –æ–ø–∞—Å–Ω–æ!
            </p>
          </div>

          <div class="js-concept">
            <strong>try...catch</strong>
            <p>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è "–ø–æ–ª–æ–º–∫–∏" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>
          </div>
        </div>

        <div class="section">
          <h2>üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</h2>
          <p>
            –ù–∞—á–Ω—ë–º —Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞:
          </p>

          <div class="code-block">
            <pre>
// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
let calcDisplay = '0';
let shouldResetDisplay = false;
let currentMode = 'calc'; // 'calc' –∏–ª–∏ 'quest'

// –ü–æ–ª—É—á–∞–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ HTML —ç–ª–µ–º–µ–Ω—Ç—ã
const displayElement = document.getElementById('calcDisplay');
const calculatorSection = document.getElementById('calculator-section');
const questSection = document.getElementById('quest-section');</pre
            >
          </div>

          <div class="js-concept">
            <strong>–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</strong>
            <p>
              calcDisplay —Ö—Ä–∞–Ω–∏—Ç —Ç–æ, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ.
              shouldResetDisplay –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω—É–∂–Ω–æ –ª–∏ –æ—á–∏—Å—Ç–∏—Ç—å –¥–∏—Å–ø–ª–µ–π –ø—Ä–∏
              —Å–ª–µ–¥—É—é—â–µ–º –≤–≤–æ–¥–µ
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üî¢ –§—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —á–∏—Å–ª–∞–º–∏</h2>
          <p>–°–æ–∑–¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ü–∏—Ñ—Ä –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤:</p>

          <div class="code-block">
            <pre>
function appendToCalc(value) {
    // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å –¥–∏—Å–ø–ª–µ–π –ø–æ—Å–ª–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
    if (shouldResetDisplay) {
        calcDisplay = '';
        shouldResetDisplay = false;
    }
    
    // –ï—Å–ª–∏ –¥–∏—Å–ø–ª–µ–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç '0' –∏ –≤–≤–æ–¥–∏–º –Ω–µ —Ç–æ—á–∫—É
    if (calcDisplay === '0' && value !== '.') {
        calcDisplay = value;
    } else {
        calcDisplay += value;
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
    updateCalcDisplay();
}

function updateCalcDisplay() {
    displayElement.textContent = calcDisplay;
}</pre
            >
          </div>

          <div class="highlight">
            <h4>üîç –õ–æ–≥–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏:</h4>
            <p>
              ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ —Å–±—Ä–æ—Å–∏—Ç—å –¥–∏—Å–ø–ª–µ–π<br />
              ‚Ä¢ –ó–∞–º–µ–Ω—è–µ–º '0' –Ω–∞ –Ω–æ–≤—É—é —Ü–∏—Ñ—Ä—É –∏–ª–∏ –¥–æ–±–∞–≤–ª—è–µ–º –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É
              —á–∏—Å–ª—É<br />
              ‚Ä¢ –û–±–Ω–æ–≤–ª—è–µ–º HTML —ç–ª–µ–º–µ–Ω—Ç –¥–∏—Å–ø–ª–µ—è<br />
              ‚Ä¢ –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ reset –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üßπ –§—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏</h2>
          <p>–°–æ–∑–¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∏ —É–¥–∞–ª–µ–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–≤:</p>

          <div class="code-block">
            <pre>
function clearCalc() {
    calcDisplay = '0';
    shouldResetDisplay = false;
    updateCalcDisplay();
}

function deleteLast() {
    // –ï—Å–ª–∏ –Ω–∞ –¥–∏—Å–ø–ª–µ–µ —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–∏–º–≤–æ–ª –∏–ª–∏ '0'
    if (calcDisplay.length <= 1 || calcDisplay === '0') {
        calcDisplay = '0';
    } else {
        // –£–¥–∞–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª
        calcDisplay = calcDisplay.slice(0, -1);
    }
    
    updateCalcDisplay();
}</pre
            >
          </div>

          <div class="js-concept">
            <strong>slice(0, -1)</strong>
            <p>
              –ú–µ—Ç–æ–¥ slice —É–¥–∞–ª—è–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª –∏–∑ —Å—Ç—Ä–æ–∫–∏. 0 - –Ω–∞—á–∞–ª–æ, -1 -
              –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üßÆ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</h2>
          <p>–°–∞–º–∞—è –≤–∞–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:</p>

          <div class="code-block">
            <pre>
function calculateResult() {
    try {
        // –ó–∞–º–µ–Ω—è–µ–º —Å–∏–º–≤–æ–ª —É–º–Ω–æ–∂–µ–Ω–∏—è –¥–ª—è eval()
        let expression = calcDisplay.replace(/√ó/g, '*');
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –ø—É—Å—Ç–æ–µ
        if (!expression || expression === '0') {
            return;
        }
        
        // –í—ã—á–∏—Å–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        let result = eval(expression);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å
        if (!isFinite(result)) {
            calcDisplay = '–û—à–∏–±–∫–∞';
            shouldResetDisplay = true;
            updateCalcDisplay();
            return;
        }
        
        // –û–∫—Ä—É–≥–ª—è–µ–º –¥–æ 10 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
        result = Math.round(result * 10000000000) / 10000000000;
        
        calcDisplay = result.toString();
        shouldResetDisplay = true;
        updateCalcDisplay();
        
    } catch (error) {
        // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
        calcDisplay = '–û—à–∏–±–∫–∞';
        shouldResetDisplay = true;
        updateCalcDisplay();
    }
}</pre
            >
          </div>

          <div class="highlight">
            <h4>‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å eval():</h4>
            <p>
              ‚Ä¢ eval() –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª—é–±–æ–π JavaScript –∫–æ–¥, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø–∞—Å–Ω–æ<br />
              ‚Ä¢ –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π<br />
              ‚Ä¢ –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏<br />
              ‚Ä¢ try...catch –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –æ—à–∏–±–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üéÆ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤</h2>
          <p>–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º –∏ –∫–≤–µ—Å—Ç–∞–º–∏:</p>

          <div class="code-block">
            <pre>
function setMode(mode) {
    currentMode = mode;
    
    // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å active —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
    document.querySelectorAll('.mode-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å active –∫ –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–µ
    document.getElementById(mode + '-mode').classList.add('active');
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–µ–∫—Ü–∏–∏
    if (mode === 'quest') {
        questSection.style.display = 'block';
        calculatorSection.style.display = 'none';
    } else {
        questSection.style.display = 'none';
        calculatorSection.style.display = 'block';
    }
}</pre
            >
          </div>

          <div class="js-concept">
            <strong>querySelectorAll()</strong>
            <p>
              –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º. forEach() –ø—Ä–∏–º–µ–Ω—è–µ—Ç
              —Ñ—É–Ω–∫—Ü–∏—é –∫ –∫–∞–∂–¥–æ–º—É –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
            </p>
          </div>
        </div>

        <div class="section">
          <h2>‚å®Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã</h2>
          <p>–î–æ–±–∞–≤–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –¥–ª—è –≤–≤–æ–¥–∞:</p>

          <div class="code-block">
            <pre>
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–ª–∞–≤–∏—à
document.addEventListener('keydown', function(event) {
    // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–µ–Ω —Ä–µ–∂–∏–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
    if (currentMode !== 'calc') return;
    
    const key = event.key;
    
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ü–∏—Ñ—Ä—ã
    if ('0123456789'.includes(key)) {
        appendToCalc(key);
    }
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
    else if ('+-*/'.includes(key)) {
        const operator = key === '*' ? '√ó' : key;
        appendToCalc(operator);
    }
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ç–æ—á–∫—É
    else if (key === '.') {
        appendToCalc('.');
    }
    // Enter –∏–ª–∏ = –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
    else if (key === 'Enter' || key === '=') {
        event.preventDefault();
        calculateResult();
    }
    // Backspace –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
    else if (key === 'Backspace') {
        event.preventDefault();
        deleteLast();
    }
    // Escape –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
    else if (key === 'Escape') {
        clearCalc();
    }
});</pre
            >
          </div>
        </div>

        <div class="section">
          <h2>üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è</h2>
          <p>–ü–æ–ø—Ä–æ–±—É–π –Ω–∞—à —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø—Ä—è–º–æ –∑–¥–µ—Å—å:</p>

          <div class="demo-container">
            <div class="demo-calc">
              <h3 style="margin-bottom: 15px; color: #667eea">
                üßÆ –†–∞–±–æ—á–∏–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
              </h3>

              <div
                id="demoDisplay"
                style="
                  background: #2d3436;
                  color: #00b894;
                  padding: 15px;
                  border-radius: 8px;
                  font-size: 1.3rem;
                  font-family: monospace;
                  text-align: right;
                  margin-bottom: 15px;
                  min-height: 40px;
                  display: flex;
                  align-items: center;
                  justify-content: flex-end;
                "
              >
                0
              </div>

              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(4, 1fr);
                  gap: 8px;
                  max-width: 300px;
                  margin: 0 auto;
                "
              >
                <button
                  onclick="demoClear()"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  C
                </button>
                <button
                  onclick="demoDelete()"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  ‚å´
                </button>
                <button
                  onclick="demoAppend('/')"
                  style="
                    background: #fd79a8;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  /
                </button>
                <button
                  onclick="demoAppend('√ó')"
                  style="
                    background: #fd79a8;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  √ó
                </button>

                <button
                  onclick="demoAppend('7')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  7
                </button>
                <button
                  onclick="demoAppend('8')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  8
                </button>
                <button
                  onclick="demoAppend('9')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  9
                </button>
                <button
                  onclick="demoAppend('-')"
                  style="
                    background: #fd79a8;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  -
                </button>

                <button
                  onclick="demoAppend('4')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  4
                </button>
                <button
                  onclick="demoAppend('5')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  5
                </button>
                <button
                  onclick="demoAppend('6')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  6
                </button>
                <button
                  onclick="demoAppend('+')"
                  style="
                    background: #fd79a8;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  +
                </button>

                <button
                  onclick="demoAppend('1')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  1
                </button>
                <button
                  onclick="demoAppend('2')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  2
                </button>
                <button
                  onclick="demoAppend('3')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  3
                </button>
                <button
                  onclick="demoCalculate()"
                  style="
                    background: #00b894;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                    grid-row: span 2;
                  "
                >
                  =
                </button>

                <button
                  onclick="demoAppend('0')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                    grid-column: span 2;
                  "
                >
                  0
                </button>
                <button
                  onclick="demoAppend('.')"
                  style="
                    background: #636e72;
                    color: white;
                    border: none;
                    padding: 10px;
                    border-radius: 5px;
                    cursor: pointer;
                  "
                >
                  .
                </button>
              </div>

              <p style="margin-top: 15px; color: #666; font-size: 0.9rem">
                –ü–æ–ø—Ä–æ–±—É–π –≤—ã—á–∏—Å–ª–∏—Ç—å: 15 √ó 4 + 8 üßÆ
              </p>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>üîß –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
          <p>–ö–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:</p>

          <div class="code-block">
            <pre>
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', function() {
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
    setMode('quest');
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∏—Å–ø–ª–µ–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
    updateCalcDisplay();
    
    // –î–æ–±–∞–≤–ª—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.querySelector('.game-container').style.opacity = '0';
    setTimeout(() => {
        document.querySelector('.game-container').style.transition = 'opacity 0.5s';
        document.querySelector('.game-container').style.opacity = '1';
    }, 100);
    
    console.log('üßÆ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!');
});</pre
            >
          </div>

          <div class="js-concept">
            <strong>DOMContentLoaded</strong>
            <p>
              –°–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–≥–¥–∞ HTML –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω. –õ—É—á—à–µ–µ
              –º–µ—Å—Ç–æ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ JavaScript
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</h2>
          <p>–î–æ–±–∞–≤–∏–º –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫:</p>

          <div class="code-block">
            <pre>
function safeCalculate(expression) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –ø—É—Å—Ç–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
    if (!expression || expression.trim() === '') {
        return { error: '–ü—É—Å—Ç–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ' };
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã
    const allowedChars = /^[0-9+\-*/().√ó\s]+$/;
    if (!allowedChars.test(expression)) {
        return { error: '–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã' };
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
    if (/[+\-*/√ó]{2,}/.test(expression)) {
        return { error: '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ' };
    }
    
    try {
        const cleanExpression = expression.replace(/√ó/g, '*');
        const result = eval(cleanExpression);
        
        if (!isFinite(result)) {
            return { error: '–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å' };
        }
        
        return { result: result };
    } catch (error) {
        return { error: '–û—à–∏–±–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è' };
    }
}</pre
            >
          </div>
        </div>

        <div class="section">
          <h2>üéì –ò—Ç–æ–≥–∏ —É—Ä–æ–∫–∞</h2>
          <ul style="font-size: 1.1rem; line-height: 1.8">
            <li>
              <strong>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</strong> –ù–∞—É—á–∏–ª–∏—Å—å —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
              –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
            </li>
            <li>
              <strong>–§—É–Ω–∫—Ü–∏–∏:</strong> –°–æ–∑–¥–∞–ª–∏ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∫–æ–¥–∞
            </li>
            <li>
              <strong>DOM:</strong> –ù–∞—É—á–∏–ª–∏—Å—å –∏–∑–º–µ–Ω—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ HTML —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            </li>
            <li>
              <strong>–°–æ–±—ã—Ç–∏—è:</strong> –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–ª–∏–∫–∏ –º—ã—à–∏ –∏ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à
            </li>
            <li>
              <strong>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞:</strong> –í—ã–ø–æ–ª–Ω—è–µ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é eval()
            </li>
            <li><strong>–û—à–∏–±–∫–∏:</strong> –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º "–ø–æ–ª–æ–º–∫—É" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
          </ul>

          <div class="highlight">
            <h4>üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?</h4>
            <p>
              –í —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–∫–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º —Å–∏—Å—Ç–µ–º—É –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–≤–µ—Å—Ç–æ–≤ —Å
              —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏ —Å–∏—Å—Ç–µ–º–æ–π –æ—á–∫–æ–≤ –¥–ª—è
              –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—É—á–µ–Ω–∏—è!
            </p>
          </div>
        </div>

        <div class="navigation">
          <a href="calc-lesson-2.html" class="nav-btn"> ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π —É—Ä–æ–∫ </a>
          <a href="calc-lesson-4.html" class="nav-btn"> –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫ ‚Üí </a>
        </div>
      </div>
    </div>

    <script>
      // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
      let demoDisplay = "0";
      let demoShouldReset = false;

      function demoAppend(value) {
        if (demoShouldReset) {
          demoDisplay = "";
          demoShouldReset = false;
        }

        if (demoDisplay === "0" && value !== ".") {
          demoDisplay = value;
        } else {
          demoDisplay += value;
        }

        document.getElementById("demoDisplay").textContent = demoDisplay;
      }

      function demoClear() {
        demoDisplay = "0";
        demoShouldReset = false;
        document.getElementById("demoDisplay").textContent = demoDisplay;
      }

      function demoDelete() {
        if (demoDisplay.length <= 1 || demoDisplay === "0") {
          demoDisplay = "0";
        } else {
          demoDisplay = demoDisplay.slice(0, -1);
        }
        document.getElementById("demoDisplay").textContent = demoDisplay;
      }

      function demoCalculate() {
        try {
          const expression = demoDisplay.replace(/√ó/g, "*");
          const result = eval(expression);

          if (!isFinite(result)) {
            demoDisplay = "–û—à–∏–±–∫–∞";
          } else {
            demoDisplay = Math.round(result * 1000000000) / 1000000000 + "";
          }

          demoShouldReset = true;
          document.getElementById("demoDisplay").textContent = demoDisplay;
        } catch (error) {
          demoDisplay = "–û—à–∏–±–∫–∞";
          demoShouldReset = true;
          document.getElementById("demoDisplay").textContent = demoDisplay;
        }
      }
    </script>
  </body>
</html>
