<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—Ä–æ–∫ 4: –°–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤ –∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        min-height: 100vh;
      }

      .back-to-menu {
        position: fixed;
        top: 20px;
        left: 20px;
        background: #667eea;
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.95rem;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        transition: all 0.3s ease;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .back-to-menu:hover {
        background: #5a67d8;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header .lesson-number {
        font-size: 1.2rem;
        opacity: 0.9;
        font-weight: 300;
      }

      .content {
        padding: 40px;
      }

      .section {
        margin-bottom: 40px;
        padding: 30px;
        border-radius: 15px;
        background: #f8f9fa;
        border-left: 5px solid #667eea;
      }

      .section h2 {
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .section h3 {
        color: #34495e;
        margin-bottom: 15px;
        margin-top: 25px;
        font-size: 1.4rem;
      }

      .section p {
        margin-bottom: 15px;
        font-size: 1.1rem;
        line-height: 1.8;
        color: #555;
      }

      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 25px;
        border-radius: 10px;
        margin: 20px 0;
        overflow-x: auto;
        font-family: "Courier New", monospace;
        line-height: 1.5;
        border-left: 4px solid #667eea;
      }

      .code-block pre {
        margin: 0;
      }

      .highlight {
        background: linear-gradient(135deg, #fff3cd, #ffeaa7);
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #f39c12;
        margin: 20px 0;
      }

      .highlight h4 {
        color: #8b4513;
        margin-bottom: 10px;
        font-size: 1.2rem;
      }

      .highlight p {
        color: #8b4513;
        margin: 0;
      }

      .demo-container {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
        padding: 30px;
        margin: 20px 0;
        text-align: center;
      }

      .demo-quest {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 15px;
        padding: 20px;
        color: #333;
        max-width: 500px;
        margin: 0 auto;
        backdrop-filter: blur(10px);
      }

      .js-concept {
        background: #fff3cd;
        padding: 20px;
        border-radius: 8px;
        border-left: 4px solid #ffc107;
        margin: 15px 0;
      }

      .js-concept strong {
        color: #856404;
        font-size: 1.1rem;
      }

      .js-concept p {
        color: #856404;
        margin-top: 8px;
      }

      .demo-stats {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        margin: 15px 0;
      }

      .stat-card {
        background: linear-gradient(135deg, #ff9a9e, #fecfef);
        padding: 10px;
        border-radius: 10px;
        text-align: center;
        color: #d63384;
        font-weight: bold;
      }

      .demo-problem {
        background: #ffeaa7;
        padding: 20px;
        border-radius: 15px;
        margin: 15px 0;
        border: 2px solid #e17055;
      }

      .demo-input {
        margin: 15px 0;
      }

      .demo-input input {
        padding: 10px;
        border: 2px solid #74b9ff;
        border-radius: 8px;
        font-size: 1.1rem;
        text-align: center;
        width: 100px;
      }

      .demo-btn {
        background: linear-gradient(135deg, #00b894, #00a085);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        margin: 5px;
        font-weight: 600;
      }

      .navigation {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 40px;
        padding: 20px 0;
        border-top: 1px solid #eee;
      }

      .nav-btn {
        background: linear-gradient(135deg, #4a6fa5, #2e4a73);
        color: white;
        text-decoration: none;
        padding: 12px 25px;
        border-radius: 25px;
        font-weight: 600;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .nav-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(74, 111, 165, 0.3);
      }

      @media (max-width: 768px) {
        .container {
          margin: 10px;
        }

        .content {
          padding: 20px;
        }

        .header h1 {
          font-size: 2rem;
        }

        .navigation {
          flex-direction: column;
          gap: 15px;
        }

        .demo-stats {
          grid-template-columns: repeat(2, 1fr);
        }
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="back-to-menu"> ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —É—Ä–æ–∫–∞–º </a>

    <div class="container">
      <div class="header">
        <h1>üéÆ –°–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤ –∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è</h1>
        <p class="lesson-number">–£—Ä–æ–∫ 4 –∏–∑ 5</p>
      </div>

      <div class="content">
        <div class="section">
          <h2>üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞</h2>
          <p>
            –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–º –æ–±—ã—á–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –≤ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—É—é –∏–≥—Ä—É!
            –°–æ–∑–¥–∞–¥–∏–º —Å–∏—Å—Ç–µ–º—É –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–≤–µ—Å—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏
            —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, –¥–æ–±–∞–≤–∏–º –ø–æ–¥—Å—á—ë—Ç –æ—á–∫–æ–≤, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞ –∏ —Å–∏—Å—Ç–µ–º—É
            –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏.
          </p>

          <div class="highlight">
            <h4>üí° –ß—Ç–æ –≤—ã —É–∑–Ω–∞–µ—Ç–µ:</h4>
            <p>
              ‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–ª—É—á–∞–π–Ω—ã—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á<br />
              ‚Ä¢ –°–∏—Å—Ç–µ–º—É —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏<br />
              ‚Ä¢ –ü–æ–¥—Å—á—ë—Ç –æ—á–∫–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏<br />
              ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤<br />
              ‚Ä¢ –ò–≥—Ä–æ–≤—É—é –º–µ—Ö–∞–Ω–∏–∫—É –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üìö –ò–≥—Ä–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</h2>

          <div class="js-concept">
            <strong>Math.random()</strong>
            <p>
              –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö
              –∑–∞–¥–∞—á
            </p>
          </div>

          <div class="js-concept">
            <strong>Math.floor()</strong>
            <p>
              –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–Ω–∏–∑ –¥–æ —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –≤
              –∑–∞–¥–∞—á–∞—Ö
            </p>
          </div>

          <div class="js-concept">
            <strong>switch statement</strong>
            <p>
              –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç
              —É—Å–ª–æ–≤–∏–π
            </p>
          </div>

          <div class="js-concept">
            <strong>–û–±—ä–µ–∫—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫</strong>
            <p>
              –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ —É–¥–æ–±–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã—Ö
            </p>
          </div>

          <div class="js-concept">
            <strong>–ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</strong>
            <p>
              –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã: –æ—á–∫–∏, —É—Ä–æ–≤–µ–Ω—å, —Å–µ—Ä–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö
              –æ—Ç–≤–µ—Ç–æ–≤
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üéÆ –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</h2>
          <p>–°–æ–∑–¥–∞—ë–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã:</p>

          <div class="code-block">
            <pre>
// –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
let difficulty = 'easy';
let currentProblem = {};
let level = 1;
let score = 0;
let streak = 0;
let totalSolved = 0;

// –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
const difficultySettings = {
    easy: { 
        min: 1, 
        max: 10, 
        operations: ['+', '-'] 
    },
    medium: { 
        min: 1, 
        max: 50, 
        operations: ['+', '-', '*'] 
    },
    hard: { 
        min: 1, 
        max: 100, 
        operations: ['+', '-', '*', '/'] 
    }
};</pre
            >
          </div>

          <div class="js-concept">
            <strong>–û–±—ä–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫</strong>
            <p>
              –ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –∏–º–µ–µ—Ç min/max –∑–Ω–∞—á–µ–Ω–∏—è —á–∏—Å–µ–ª –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
              –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å
            </p>
          </div>
        </div>

        <div class="section">
          <h2>üé≤ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á</h2>
          <p>–°–æ–∑–¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á:</p>

          <div class="code-block">
            <pre>
function generateProblem() {
    const settings = difficultySettings[difficulty];
    
    // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
    const operation = settings.operations[
        Math.floor(Math.random() * settings.operations.length)
    ];
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–∞
    let num1 = Math.floor(Math.random() * (settings.max - settings.min + 1)) + settings.min;
    let num2 = Math.floor(Math.random() * (settings.max - settings.min + 1)) + settings.min;
    
    // –î–ª—è –¥–µ–ª–µ–Ω–∏—è –¥–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–ª —Ü–µ–ª—ã–º
    if (operation === '/') {
        num1 = num2 * Math.floor(Math.random() * 10 + 1);
    }
    
    // –í—ã—á–∏—Å–ª—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
    let answer;
    switch (operation) {
        case '+': answer = num1 + num2; break;
        case '-': answer = num1 - num2; break;
        case '*': answer = num1 * num2; break;
        case '/': answer = num1 / num2; break;
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–¥–∞—á—É
    currentProblem = { num1, num2, operation, answer };
    
    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∑–∞–¥–∞—á—É
    const displayOp = operation === '*' ? '√ó' : operation;
    document.getElementById('mathProblem').textContent = `${num1} ${displayOp} ${num2} = ?`;
    
    // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
    document.getElementById('answerInput').value = '';
    document.getElementById('feedback').textContent = '–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç –∏ –Ω–∞–∂–º–∏ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"!';
    document.getElementById('feedback').className = 'feedback';
}</pre
            >
          </div>

          <div class="highlight">
            <h4>üßÆ –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</h4>
            <p>
              ‚Ä¢ –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —É—Ä–æ–≤–Ω—è<br />
              ‚Ä¢ –î–ª—è –¥–µ–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞—ë–º —á–∏—Å–ª–∞ —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–ª —Ü–µ–ª—ã–º<br />
              ‚Ä¢ –ó–∞–º–µ–Ω—è–µ–º * –Ω–∞ √ó –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è<br />
              ‚Ä¢ –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
            </p>
          </div>
        </div>

        <div class="section">
          <h2>‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤</h2>
          <p>–°–æ–∑–¥–∞—ë–º —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –æ—á–∫–æ–≤:</p>

          <div class="code-block">
            <pre>
function checkAnswer() {
    const userAnswer = parseFloat(document.getElementById('answerInput').value);
    const feedback = document.getElementById('feedback');
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –≤–≤–µ–¥–µ–Ω–æ —á–∏—Å–ª–æ
    if (isNaN(userAnswer)) {
        feedback.textContent = '‚ùå –í–≤–µ–¥–∏ —á–∏—Å–ª–æ!';
        feedback.className = 'feedback wrong';
        return;
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (—Å –Ω–µ–±–æ–ª—å—à–æ–π –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å—é –¥–ª—è –¥—Ä–æ–±–µ–π)
    if (Math.abs(userAnswer - currentProblem.answer) < 0.01) {
        // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!
        streak++;
        totalSolved++;
        
        // –ù–∞—á–∏—Å–ª—è–µ–º –æ—á–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Å–µ—Ä–∏–∏
        const basePoints = {
            easy: 10,
            medium: 25,
            hard: 50
        };
        
        const points = basePoints[difficulty] + (streak * 5);
        score += points;
        
        feedback.textContent = `üéâ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! +${points} –æ—á–∫–æ–≤! –°–µ—Ä–∏—è: ${streak}`;
        feedback.className = 'feedback correct';
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
        checkLevelUp();
        
        // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥—ã
        setTimeout(() => generateProblem(), 1500);
        
    } else {
        // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
        streak = 0;
        feedback.textContent = `‚ùå –ù–µ–≤–µ—Ä–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${currentProblem.answer}`;
        feedback.className = 'feedback wrong';
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    updateStats();
}</pre
            >
          </div>
        </div>

        <div class="section">
          <h2>üìä –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏</h2>
          <p>–î–æ–±–∞–≤–ª—è–µ–º –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:</p>

          <div class="code-block">
            <pre>
function checkLevelUp() {
    // –ö–∞–∂–¥—ã–µ 10 —Ä–µ—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á - –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
    const newLevel = Math.floor(totalSolved / 10) + 1;
    
    if (newLevel > level) {
        level = newLevel;
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ
        setTimeout(() => {
            alert(`üöÄ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –¢—ã –¥–æ—Å—Ç–∏–≥ ${level} —É—Ä–æ–≤–Ω—è!`);
        }, 200);
        
        // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Å–æ–±—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
        createLevelUpEffect();
    }
}

function updateStats() {
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    document.getElementById('level').textContent = level;
    document.getElementById('score').textContent = score;
    document.getElementById('streak').textContent = streak;
    document.getElementById('total').textContent = totalSolved;
}

function createLevelUpEffect() {
    // –°–æ–∑–¥–∞—ë–º –≤–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
    const effect = document.createElement('div');
    effect.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2rem;
        color: #00b894;
        font-weight: bold;
        z-index: 1000;
        animation: levelUp 2s ease-out forwards;
    `;
    effect.textContent = `LEVEL UP! üöÄ`;
    document.body.appendChild(effect);
    
    setTimeout(() => effect.remove(), 2000);
}</pre
            >
          </div>
        </div>

        <div class="section">
          <h2>‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é</h2>
          <p>–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</p>

          <div class="code-block">
            <pre>
function setDifficulty(newDifficulty) {
    difficulty = newDifficulty;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
    document.querySelectorAll('.difficulty-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.getElementById(newDifficulty).classList.add('active');
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É —Å –Ω–æ–≤–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é
    generateProblem();
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    const difficultyNames = {
        easy: '–õ—ë–≥–∫–∏–π',
        medium: '–°—Ä–µ–¥–Ω–∏–π', 
        hard: '–°–ª–æ–∂–Ω—ã–π'
    };
    
    const feedback = document.getElementById('feedback');
    feedback.textContent = `üéØ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ${difficultyNames[newDifficulty]} —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏!`;
    feedback.className = 'feedback';
    
    setTimeout(() => {
        feedback.textContent = '–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç –∏ –Ω–∞–∂–º–∏ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"!';
    }, 2000);
}</pre
            >
          </div>
        </div>

        <div class="section">
          <h2>‚å®Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Enter</h2>
          <p>–î–æ–±–∞–≤–ª—è–µ–º —É–¥–æ–±—Å—Ç–≤–æ - –ø—Ä–æ–≤–µ—Ä–∫—É –æ—Ç–≤–µ—Ç–∞ –ø–æ –Ω–∞–∂–∞—Ç–∏—é Enter:</p>

          <div class="code-block">
            <pre>
function handleKeyPress(event) {
    if (event.key === 'Enter') {
        checkAnswer();
    }
}

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ HTML –ø–æ–ª–µ –≤–≤–æ–¥–∞:
// &lt;input onkeypress="handleKeyPress(event)"&gt;</pre
            >
          </div>
        </div>

        <div class="section">
          <h2>üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è</h2>
          <p>–ü–æ–ø—Ä–æ–±—É–π –Ω–∞—à—É —Å–∏—Å—Ç–µ–º—É –∫–≤–µ—Å—Ç–æ–≤ –≤ –¥–µ–π—Å—Ç–≤–∏–∏:</p>

          <div class="demo-container">
            <div class="demo-quest">
              <h3 style="margin-bottom: 15px; color: #667eea">
                üéØ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–≤–µ—Å—Ç—ã
              </h3>

              <div class="demo-stats">
                <div class="stat-card">
                  <div style="font-size: 1.3rem" id="demoLevel">1</div>
                  <div style="font-size: 0.8rem">–£—Ä–æ–≤–µ–Ω—å</div>
                </div>
                <div class="stat-card">
                  <div style="font-size: 1.3rem" id="demoScore">0</div>
                  <div style="font-size: 0.8rem">–û—á–∫–∏</div>
                </div>
                <div class="stat-card">
                  <div style="font-size: 1.3rem" id="demoStreak">0</div>
                  <div style="font-size: 0.8rem">–°–µ—Ä–∏—è</div>
                </div>
                <div class="stat-card">
                  <div style="font-size: 1.3rem" id="demoTotal">0</div>
                  <div style="font-size: 0.8rem">–í—Å–µ–≥–æ</div>
                </div>
              </div>

              <div style="margin: 15px 0">
                <button
                  class="demo-btn"
                  onclick="setDemoDifficulty('easy')"
                  id="demoEasy"
                  style="background: #00b894"
                >
                  üòä –õ—ë–≥–∫–∏–π
                </button>
                <button
                  class="demo-btn"
                  onclick="setDemoDifficulty('medium')"
                  id="demoMedium"
                >
                  üòé –°—Ä–µ–¥–Ω–∏–π
                </button>
                <button
                  class="demo-btn"
                  onclick="setDemoDifficulty('hard')"
                  id="demoHard"
                >
                  ü§Ø –°–ª–æ–∂–Ω—ã–π
                </button>
              </div>

              <div class="demo-problem">
                <div
                  style="font-weight: bold; color: #d63031; margin-bottom: 10px"
                >
                  üéØ –¢–≤–æ—è –∑–∞–¥–∞—á–∞:
                </div>
                <div style="font-size: 1.5rem; margin: 10px 0" id="demoProblem">
                  2 + 3 = ?
                </div>
                <div class="demo-input">
                  <input
                    type="number"
                    id="demoAnswer"
                    placeholder="?"
                    onkeypress="if(event.key==='Enter') checkDemoAnswer()"
                  />
                  <button class="demo-btn" onclick="checkDemoAnswer()">
                    ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                  </button>
                </div>
                <div
                  style="margin-top: 10px; font-weight: bold"
                  id="demoFeedback"
                >
                  –í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç –∏ –Ω–∞–∂–º–∏ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"!
                </div>
              </div>

              <button
                class="demo-btn"
                onclick="generateDemoProblem()"
                style="background: #74b9ff"
              >
                üé≤ –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞
              </button>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>üìà –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
          <p>–î–æ–±–∞–≤–∏–º –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–∞:</p>

          <div class="code-block">
            <pre>
// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
let correctAnswers = 0;
let wrongAnswers = 0;
let bestStreak = 0;
let timeSpent = 0;
let sessionStart = Date.now();

function updateDetailedStats() {
    // –û–±–Ω–æ–≤–ª—è–µ–º –ª—É—á—à—É—é —Å–µ—Ä–∏—é
    if (streak > bestStreak) {
        bestStreak = streak;
    }
    
    // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏
    timeSpent = Math.floor((Date.now() - sessionStart) / 1000);
    
    // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    const accuracy = totalSolved > 0 ? Math.round((correctAnswers / totalSolved) * 100) : 0;
    
    console.log(`–¢–æ—á–Ω–æ—Å—Ç—å: ${accuracy}%, –õ—É—á—à–∞—è —Å–µ—Ä–∏—è: ${bestStreak}, –í—Ä–µ–º—è: ${timeSpent}—Å`);
}

function getPlayerRank() {
    // –°–∏—Å—Ç–µ–º–∞ —Ä–∞–Ω–≥–æ–≤ –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –æ—á–∫–∞—Ö
    if (score < 100) return { rank: '–ù–æ–≤–∏—á–æ–∫', icon: 'üî∞' };
    if (score < 500) return { rank: '–£—á–µ–Ω–∏–∫', icon: 'üìö' };
    if (score < 1000) return { rank: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫', icon: 'üßÆ' };
    if (score < 2000) return { rank: '–≠–∫—Å–ø–µ—Ä—Ç', icon: '‚≠ê' };
    return { rank: '–ì–µ–Ω–∏–π', icon: 'üëë' };
}</pre
            >
          </div>
        </div>

        <div class="section">
          <h2>üéì –ò—Ç–æ–≥–∏ —É—Ä–æ–∫–∞</h2>
          <ul style="font-size: 1.1rem; line-height: 1.8">
            <li>
              <strong>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á:</strong> –°–æ–∑–¥–∞–ª–∏ —Å–∏—Å—Ç–µ–º—É —Å–ª—É—á–∞–π–Ω—ã—Ö
              –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–æ–≤
            </li>
            <li>
              <strong>–£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:</strong> –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è
              –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è
            </li>
            <li>
              <strong>–°–∏—Å—Ç–µ–º–∞ –æ—á–∫–æ–≤:</strong> –†–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –ø–æ–¥—Å—á—ë—Ç –æ—á–∫–æ–≤ —Å
              –±–æ–Ω—É—Å–∞–º–∏ –∑–∞ —Å–µ—Ä–∏–∏
            </li>
            <li>
              <strong>–ü—Ä–æ–≥—Ä–µ—Å—Å–∏—è:</strong> –î–æ–±–∞–≤–∏–ª–∏ –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è –∏–≥—Ä–æ–∫–∞
            </li>
            <li>
              <strong>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong> –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ
              –∏–≥—Ä–µ
            </li>
            <li>
              <strong>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</strong> –û–±—Ä–∞–±–æ—Ç–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
              –∏ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
            </li>
          </ul>

          <div class="highlight">
            <h4>üöÄ –ß—Ç–æ –¥–∞–ª—å—à–µ?</h4>
            <p>
              –í —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —É—Ä–æ–∫–µ –º—ã –¥–æ–±–∞–≤–∏–º —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, –≤–∏–∑—É–∞–ª—å–Ω—ã–µ
              —ç—Ñ—Ñ–µ–∫—Ç—ã, –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —Å–¥–µ–ª–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ —à—Ç—Ä–∏—Ö–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è
              –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
            </p>
          </div>
        </div>

        <div class="navigation">
          <a href="calc-lesson-3.html" class="nav-btn"> ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π —É—Ä–æ–∫ </a>
          <a href="calc-lesson-5.html" class="nav-btn"> –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫ ‚Üí </a>
        </div>
      </div>
    </div>

    <script>
      // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–≤–µ—Å—Ç–æ–≤
      let demoDifficulty = "easy";
      let demoCurrentProblem = {};
      let demoLevel = 1;
      let demoScore = 0;
      let demoStreak = 0;
      let demoTotal = 0;

      const demoDifficultySettings = {
        easy: { min: 1, max: 10, operations: ["+", "-"] },
        medium: { min: 1, max: 50, operations: ["+", "-", "*"] },
        hard: { min: 1, max: 100, operations: ["+", "-", "*", "/"] },
      };

      function generateDemoProblem() {
        const settings = demoDifficultySettings[demoDifficulty];
        const operation =
          settings.operations[
            Math.floor(Math.random() * settings.operations.length)
          ];

        let num1 =
          Math.floor(Math.random() * (settings.max - settings.min + 1)) +
          settings.min;
        let num2 =
          Math.floor(Math.random() * (settings.max - settings.min + 1)) +
          settings.min;

        if (operation === "/") {
          num1 = num2 * Math.floor(Math.random() * 10 + 1);
        }

        let answer;
        switch (operation) {
          case "+":
            answer = num1 + num2;
            break;
          case "-":
            answer = num1 - num2;
            break;
          case "*":
            answer = num1 * num2;
            break;
          case "/":
            answer = num1 / num2;
            break;
        }

        demoCurrentProblem = { num1, num2, operation, answer };

        const displayOp = operation === "*" ? "√ó" : operation;
        document.getElementById(
          "demoProblem"
        ).textContent = `${num1} ${displayOp} ${num2} = ?`;
        document.getElementById("demoAnswer").value = "";
        document.getElementById("demoFeedback").textContent =
          '–í–≤–µ–¥–∏ –æ—Ç–≤–µ—Ç –∏ –Ω–∞–∂–º–∏ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"!';
        document.getElementById("demoFeedback").style.color = "#333";
      }

      function checkDemoAnswer() {
        const userAnswer = parseFloat(
          document.getElementById("demoAnswer").value
        );
        const feedback = document.getElementById("demoFeedback");

        if (isNaN(userAnswer)) {
          feedback.textContent = "‚ùå –í–≤–µ–¥–∏ —á–∏—Å–ª–æ!";
          feedback.style.color = "#e17055";
          return;
        }

        if (Math.abs(userAnswer - demoCurrentProblem.answer) < 0.01) {
          demoStreak++;
          demoTotal++;

          const basePoints = { easy: 10, medium: 25, hard: 50 };
          const points = basePoints[demoDifficulty] + demoStreak * 5;
          demoScore += points;

          feedback.textContent = `üéâ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! +${points} –æ—á–∫–æ–≤!`;
          feedback.style.color = "#00b894";

          const newLevel = Math.floor(demoTotal / 5) + 1;
          if (newLevel > demoLevel) {
            demoLevel = newLevel;
            setTimeout(() => alert(`üöÄ –£—Ä–æ–≤–µ–Ω—å ${demoLevel}!`), 100);
          }

          updateDemoStats();
          setTimeout(() => generateDemoProblem(), 1500);
        } else {
          demoStreak = 0;
          feedback.textContent = `‚ùå –ù–µ–≤–µ—Ä–Ω–æ! –û—Ç–≤–µ—Ç: ${demoCurrentProblem.answer}`;
          feedback.style.color = "#e17055";
          updateDemoStats();
        }
      }

      function updateDemoStats() {
        document.getElementById("demoLevel").textContent = demoLevel;
        document.getElementById("demoScore").textContent = demoScore;
        document.getElementById("demoStreak").textContent = demoStreak;
        document.getElementById("demoTotal").textContent = demoTotal;
      }

      function setDemoDifficulty(newDifficulty) {
        demoDifficulty = newDifficulty;

        document
          .querySelectorAll("#demoEasy, #demoMedium, #demoHard")
          .forEach((btn) => {
            btn.style.background = "#6c5ce7";
          });
        document.getElementById(
          "demo" +
            newDifficulty.charAt(0).toUpperCase() +
            newDifficulty.slice(1)
        ).style.background = "#00b894";

        generateDemoProblem();

        const names = { easy: "–õ—ë–≥–∫–∏–π", medium: "–°—Ä–µ–¥–Ω–∏–π", hard: "–°–ª–æ–∂–Ω—ã–π" };
        document.getElementById(
          "demoFeedback"
        ).textContent = `üéØ ${names[newDifficulty]} —É—Ä–æ–≤–µ–Ω—å!`;
        document.getElementById("demoFeedback").style.color = "#667eea";
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ–º–æ
      document.addEventListener("DOMContentLoaded", function () {
        generateDemoProblem();

        // CSS –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
        const style = document.createElement("style");
        style.textContent = `
          @keyframes levelUp {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
          }
        `;
        document.head.appendChild(style);
      });
    </script>
  </body>
</html>
