<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      –£—Ä–æ–∫ 5d-2: Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π retention | –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ
    </title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #333;
        overflow-x: hidden;
      }

      .header {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        padding: 1rem 0;
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          45deg,
          rgba(255, 255, 255, 0.1) 25%,
          transparent 25%,
          transparent 75%,
          rgba(255, 255, 255, 0.1) 75%
        );
        background-size: 20px 20px;
        animation: headerPattern 20s linear infinite;
      }

      @keyframes headerPattern {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(20px);
        }
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        position: relative;
        z-index: 1;
      }

      .header h1 {
        margin: 0;
        color: white;
        font-size: 2.5rem;
        text-align: center;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .subtitle {
        text-align: center;
        color: rgba(255, 255, 255, 0.9);
        margin-top: 0.5rem;
        font-size: 1.2rem;
      }

      .lesson-content {
        background: white;
        margin: 2rem auto;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        overflow: hidden;
        max-width: 1000px;
        position: relative;
      }

      .section {
        padding: 40px 50px;
        border-bottom: 1px solid #f0f0f0;
      }

      .section:last-child {
        border-bottom: none;
      }

      .section h2 {
        color: #2c3e50;
        font-size: 2rem;
        margin-bottom: 1rem;
        position: relative;
        padding-left: 20px;
      }

      .section h2::before {
        content: "";
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 5px;
        height: 30px;
        background: linear-gradient(45deg, #667eea, #764ba2);
        border-radius: 3px;
      }

      .section h3 {
        color: #34495e;
        font-size: 1.5rem;
        margin-top: 2rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #ecf0f1;
      }

      .theory {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-left: 5px solid #667eea;
        padding: 25px;
        margin: 25px 0;
        border-radius: 10px;
        position: relative;
      }

      .theory::before {
        content: "üîî";
        position: absolute;
        top: 15px;
        left: -15px;
        background: #667eea;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .practice {
        background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
        border: 2px solid #4caf50;
        border-radius: 15px;
        padding: 30px;
        margin: 30px 0;
        position: relative;
        overflow: hidden;
      }

      .practice::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(76, 175, 80, 0.1) 0%,
          transparent 50%
        );
        animation: practiceGlow 3s ease-in-out infinite alternate;
      }

      @keyframes practiceGlow {
        0% {
          transform: rotate(0deg) scale(1);
        }
        100% {
          transform: rotate(180deg) scale(1.1);
        }
      }

      .code {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.95rem;
        line-height: 1.5;
        overflow-x: auto;
        position: relative;
      }

      .code-title {
        background: #34495e;
        color: #ecf0f1;
        padding: 8px 15px;
        margin: -20px -20px 20px -20px;
        font-weight: bold;
        border-radius: 10px 10px 0 0;
        border-bottom: 2px solid #667eea;
      }

      .demo {
        border: 3px solid #667eea;
        border-radius: 15px;
        padding: 30px;
        margin: 30px 0;
        background: linear-gradient(135deg, #f8f9ff 0%, #eef2ff 100%);
        text-align: center;
        position: relative;
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
      }

      .demo h4 {
        color: #667eea;
        margin-top: 0;
        font-size: 1.3rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      /* Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å—Ç–∏–ª–∏ */
      .notification-types {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .notification-card {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border: 2px solid #dee2e6;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .notification-card::before {
        content: "";
        position: absolute;
        top: -3px;
        left: -3px;
        right: -3px;
        bottom: -3px;
        background: linear-gradient(45deg, #667eea, #764ba2);
        z-index: -1;
        border-radius: 15px;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .notification-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(102, 126, 234, 0.3);
      }

      .notification-card:hover::before {
        opacity: 1;
      }

      .notification-icon {
        font-size: 3rem;
        margin-bottom: 15px;
      }

      .notification-title {
        font-size: 1.3rem;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 10px;
      }

      .notification-description {
        color: #666;
        margin-bottom: 15px;
        line-height: 1.5;
      }

      .notification-example {
        background: rgba(102, 126, 234, 0.1);
        border-radius: 8px;
        padding: 12px;
        margin-top: 15px;
        font-style: italic;
        font-size: 0.9rem;
        text-align: left;
      }

      /* –î–µ–º–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
      .notification-demo {
        position: fixed;
        top: 20px;
        right: 20px;
        background: white;
        border: 2px solid #667eea;
        border-radius: 10px;
        padding: 15px 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        max-width: 300px;
        opacity: 0;
        transform: translateX(100%);
        transition: all 0.5s ease;
        z-index: 1000;
      }

      .notification-demo.show {
        opacity: 1;
        transform: translateX(0);
      }

      .notification-demo .close-btn {
        position: absolute;
        top: 5px;
        right: 10px;
        background: none;
        border: none;
        font-size: 1.2rem;
        cursor: pointer;
        color: #666;
      }

      /* Retention —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ */
      .retention-strategies {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .strategy-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .strategy-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
      }

      .strategy-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: conic-gradient(
          from 0deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        animation: cardRotate 4s linear infinite;
      }

      @keyframes cardRotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .strategy-icon {
        font-size: 2.5rem;
        margin-bottom: 15px;
        position: relative;
        z-index: 1;
      }

      .strategy-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 10px;
        position: relative;
        z-index: 1;
      }

      .strategy-description {
        font-size: 0.9rem;
        opacity: 0.9;
        position: relative;
        z-index: 1;
        line-height: 1.4;
      }

      /* –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
      .demo-controls {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .demo-btn {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }

      .demo-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      }

      .demo-btn:active {
        transform: translateY(0);
      }

      .demo-btn.success {
        background: linear-gradient(45deg, #4caf50, #45a049);
      }

      .demo-btn.warning {
        background: linear-gradient(45deg, #ff9800, #f57c00);
      }

      .demo-btn.danger {
        background: linear-gradient(45deg, #f44336, #d32f2f);
      }

      /* –¢–∞–π–º–µ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
      .activity-timer {
        background: #f8f9fa;
        border: 2px solid #667eea;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
        text-align: center;
      }

      .timer-display {
        font-size: 2rem;
        font-weight: bold;
        color: #667eea;
        margin: 15px 0;
      }

      .activity-status {
        padding: 10px 20px;
        border-radius: 25px;
        font-weight: bold;
        margin: 10px;
        transition: all 0.3s ease;
      }

      .activity-status.active {
        background: #4caf50;
        color: white;
      }

      .activity-status.idle {
        background: #ff9800;
        color: white;
      }

      .activity-status.away {
        background: #f44336;
        color: white;
      }

      /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ re-engagement */
      .reengagement-modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 2000;
      }

      .reengagement-content {
        background: white;
        border-radius: 20px;
        padding: 40px;
        max-width: 500px;
        text-align: center;
        position: relative;
        animation: modalAppear 0.5s ease;
      }

      @keyframes modalAppear {
        0% {
          transform: scale(0.7);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .modal-close {
        position: absolute;
        top: 15px;
        right: 20px;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: #666;
      }

      .next-lesson {
        display: inline-block;
        background: linear-gradient(45deg, #4caf50, #45a049);
        color: white;
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-weight: bold;
        text-align: center;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        margin-top: 20px;
      }

      .next-lesson:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
      }

      /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
      @media (max-width: 768px) {
        .container {
          padding: 0 15px;
        }

        .section {
          padding: 30px 25px;
        }

        .header h1 {
          font-size: 2rem;
        }

        .notification-types {
          grid-template-columns: 1fr;
        }

        .retention-strategies {
          grid-template-columns: 1fr;
        }

        .demo-controls {
          flex-direction: column;
          align-items: center;
        }

        .notification-demo {
          position: relative;
          top: 0;
          right: 0;
          margin: 20px 0;
        }
      }
    </style>
  </head>

  <body>
    <div class="header">
      <div class="container">
        <h1>üîî Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π retention</h1>
        <div class="subtitle">
          –£—Ä–æ–∫ 5d-2: –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–æ–≤
        </div>
      </div>
    </div>

    <div class="lesson-content">
      <div class="section">
        <h2>üì± –°–∏–ª—ã push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h2>

        <div class="theory">
          <h3>–ó–∞—á–µ–º –Ω—É–∂–Ω—ã push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –∏–≥—Ä–∞—Ö?</h3>
          <p>
            Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–≤—è–∑–∏ —Å
            –∏–≥—Ä–æ–∫–∞–º–∏ –¥–∞–∂–µ –∫–æ–≥–¥–∞ –æ–Ω–∏ –Ω–µ –∏–≥—Ä–∞—é—Ç. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            –º–æ–≥—É—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å retention –∏ lifetime value –∏–≥—Ä–æ–∫–æ–≤.
          </p>

          <h4>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</h4>
          <ul>
            <li>
              <strong>–ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–∞–∫—Ç</strong> ‚Äî –¥–æ—Å—Ç–∏–≥–∞–µ–º –∏–≥—Ä–æ–∫–∞ –≤ –ª—é–±–æ–µ
              –≤—Ä–µ–º—è
            </li>
            <li>
              <strong>–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è</strong> ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞
              –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –∏–≥—Ä–æ–∫–∞
            </li>
            <li>
              <strong>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è</strong> ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —É—á–∞—Å—Ç–∏—è
              —á–µ–ª–æ–≤–µ–∫–∞
            </li>
            <li>
              <strong>–ò–∑–º–µ—Ä–∏–º–æ—Å—Ç—å</strong> ‚Äî –º–æ–∂–Ω–æ —Ç–æ—á–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
            </li>
          </ul>
        </div>

        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
          "
        >
          <div
            style="
              background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
              color: white;
              padding: 20px;
              border-radius: 15px;
            "
          >
            <h4 style="margin-top: 0">‚ö†Ô∏è –†–∏—Å–∫–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h4>
            <ul style="margin: 0; padding-left: 20px">
              <li>–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤</li>
              <li>–û—Ç–∫–ª—é—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</li>
              <li>–£–¥–∞–ª–µ–Ω–∏–µ –∏–≥—Ä—ã</li>
              <li>–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –æ—Ç–∑—ã–≤—ã</li>
            </ul>
          </div>
          <div
            style="
              background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
              color: white;
              padding: 20px;
              border-radius: 15px;
            "
          >
            <h4 style="margin-top: 0">‚úÖ –ü—Ä–∏–Ω—Ü–∏–ø—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h4>
            <ul style="margin: 0; padding-left: 20px">
              <li>–¶–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –∏–≥—Ä–æ–∫–∞</li>
              <li>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∞–π–º–∏–Ω–≥</li>
              <li>–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è</li>
              <li>–ß–µ—Ç–∫–∏–π call-to-action</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>üîî –¢–∏–ø—ã push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h2>

        <div class="theory">
          <h3>–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ —Ü–µ–ª—è–º</h3>
          <p>
            –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Ä–µ—à–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏. –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–æ–≥–¥–∞
            –∏ –∫–∞–∫–æ–π —Ç–∏–ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
          </p>
        </div>

        <div class="notification-types">
          <div class="notification-card" data-type="re-engagement">
            <div class="notification-icon">üéÆ</div>
            <div class="notification-title">Re-engagement</div>
            <div class="notification-description">
              –í–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –æ–±—Ä–∞—Ç–Ω–æ –≤ –∏–≥—Ä—É
            </div>
            <div class="notification-example">
              "–î–∞–≤–Ω–æ –Ω–µ –≤–∏–¥–µ–ª–∏—Å—å! –í –∏–≥—Ä–µ –ø–æ—è–≤–∏–ª–æ—Å—å –º–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ. –ó–∞–≥–ª—è–Ω–∏!"
            </div>
          </div>

          <div class="notification-card" data-type="achievement">
            <div class="notification-icon">üèÜ</div>
            <div class="notification-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
            <div class="notification-description">
              –°–æ–æ–±—â–∞—é—Ç –æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥–∞—Ö –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö
            </div>
            <div class="notification-example">
              "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ '–ú–∞—Å—Ç–µ—Ä —á–∏—Å–µ–ª'!"
            </div>
          </div>

          <div class="notification-card" data-type="social">
            <div class="notification-icon">üë•</div>
            <div class="notification-title">–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ</div>
            <div class="notification-description">
              –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö –¥—Ä—É–∑–µ–π –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö
            </div>
            <div class="notification-example">
              "–í–∞—à –¥—Ä—É–≥ –ê–ª–µ–∫—Å–µ–π –ø–æ–±–∏–ª –≤–∞—à —Ä–µ–∫–æ—Ä–¥! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç—ã–≥—Ä–∞—Ç—å—Å—è!"
            </div>
          </div>

          <div class="notification-card" data-type="time-sensitive">
            <div class="notification-icon">‚è∞</div>
            <div class="notification-title">–°—Ä–æ—á–Ω—ã–µ</div>
            <div class="notification-description">
              –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏—è –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
            </div>
            <div class="notification-example">
              "–ë–æ–Ω—É—Å—ã –∑–∞ –±—ã—Å—Ç—Ä—É—é –∏–≥—Ä—É! –¢–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â–∏–µ 2 —á–∞—Å–∞."
            </div>
          </div>

          <div class="notification-card" data-type="progress">
            <div class="notification-icon">üìà</div>
            <div class="notification-title">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
            <div class="notification-description">
              –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ü–µ–ª—è—Ö –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ
            </div>
            <div class="notification-example">
              "–í—ã –Ω–∞ –ø–æ–ª–ø—É—Ç–∏ –∫ –Ω–æ–≤–æ–º—É —Ä–µ–∫–æ—Ä–¥—É! –ï—â–µ 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤."
            </div>
          </div>

          <div class="notification-card" data-type="content">
            <div class="notification-icon">üÜï</div>
            <div class="notification-title">–ù–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</div>
            <div class="notification-description">
              –ò–Ω—Ñ–æ—Ä–º–∏—Ä—É—é—Ç –æ –Ω–æ–≤—ã—Ö —É—Ä–æ–≤–Ω—è—Ö, —Ñ—É–Ω–∫—Ü–∏—è—Ö –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
            </div>
            <div class="notification-example">
              "–ù–æ–≤—ã–π —Ä–µ–∂–∏–º –∏–≥—Ä—ã '–£–≥–∞–¥–∞–π –∑–∞ 30 —Å–µ–∫—É–Ω–¥' —É–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω!"
            </div>
          </div>
        </div>

        <div class="demo">
          <h4>–î–µ–º–æ: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h4>
          <p>
            –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç:
          </p>

          <div class="demo-controls">
            <button
              class="demo-btn success"
              onclick="showNotification('achievement')"
            >
              üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
            </button>
            <button class="demo-btn" onclick="showNotification('social')">
              üë• –°–æ—Ü–∏–∞–ª—å–Ω–æ–µ
            </button>
            <button
              class="demo-btn warning"
              onclick="showNotification('time-sensitive')"
            >
              ‚è∞ –°—Ä–æ—á–Ω–æ–µ
            </button>
            <button
              class="demo-btn"
              onclick="showNotification('re-engagement')"
            >
              üéÆ –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ
            </button>
          </div>

          <div
            id="notification-status"
            style="margin-top: 15px; font-weight: bold; color: #667eea"
          >
            –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
          </div>
        </div>

        <div class="code">
          <div class="code-title">–°–∏—Å—Ç–µ–º–∞ push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</div>
          class PushNotificationSystem { constructor() { this.isSupported =
          'Notification' in window; this.permission = Notification.permission;
          this.notificationQueue = []; this.playerData = this.loadPlayerData();
          this.settings = { maxDailyNotifications: 3, minInterval: 4 * 60 * 60 *
          1000, // 4 —á–∞—Å–∞ quietHours: { start: 22, end: 8 } // 22:00 - 8:00 }; }
          // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è async requestPermission() { if
          (!this.isSupported) { console.warn('Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ
          –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è'); return false; } if (this.permission === 'granted') {
          return true; } if (this.permission === 'denied') {
          console.warn('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–µ—Ç–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'); return false; }
          const permission = await Notification.requestPermission();
          this.permission = permission; return permission === 'granted'; } //
          –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è async sendNotification(type, data = {}) { if
          (!await this.requestPermission()) { return false; } // –ü—Ä–æ–≤–µ—Ä—è–µ–º
          –ª–∏–º–∏—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è if (!this.canSendNotification(type)) { return
          false; } const notificationConfig = this.getNotificationConfig(type,
          data); const notification = new Notification(notificationConfig.title,
          { body: notificationConfig.body, icon: notificationConfig.icon, badge:
          notificationConfig.badge, tag: notificationConfig.tag,
          requireInteraction: notificationConfig.requireInteraction, actions:
          notificationConfig.actions }); // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
          notification.onclick = () => { this.handleNotificationClick(type,
          data); notification.close(); }; notification.onclose = () => {
          this.trackNotificationEvent('closed', type, data); }; //
          –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è setTimeout(() => {
          notification.close(); }, notificationConfig.duration || 10000);
          this.trackNotificationSent(type); return true; } // –ü—Ä–æ–≤–µ—Ä–∫–∞
          –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ canSendNotification(type) { const now = new
          Date(); const hour = now.getHours(); // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏—Ö–∏–µ —á–∞—Å—ã if (hour
          >= this.settings.quietHours.start || hour <
          this.settings.quietHours.end) { return false; } // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–Ω–µ–≤–Ω–æ–π
          –ª–∏–º–∏—Ç const today = now.toDateString(); const todayNotifications =
          this.playerData.notifications .filter(n => new
          Date(n.timestamp).toDateString() === today); if
          (todayNotifications.length >= this.settings.maxDailyNotifications) {
          return false; } // –ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª const
          lastNotification = this.playerData.notifications .sort((a, b) =>
          b.timestamp - a.timestamp)[0]; if (lastNotification && (now.getTime()
          - lastNotification.timestamp) < this.settings.minInterval) { return
          false; } return true; } // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ —Ç–∏–ø–∞–º
          getNotificationConfig(type, data) { const configs = { 're-engagement':
          { title: 'üéÆ –°–∫—É—á–∞–µ–º –ø–æ –≤–∞–º!', body: `–î–∞–≤–Ω–æ –Ω–µ –≤–∏–¥–µ–ª–∏—Å—å! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ
          –Ω–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥.`, icon: '/icons/game-icon.png', requireInteraction:
          false, duration: 8000 }, 'achievement': { title: 'üèÜ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!',
          body: `–í—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: ${data.achievementName}`, icon:
          '/icons/achievement.png', requireInteraction: true, duration: 15000 },
          'social': { title: 'üë• –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥—Ä—É–∑–µ–π', body: `${data.friendName}
          –ø–æ–±–∏–ª –≤–∞—à —Ä–µ–∫–æ—Ä–¥!`, icon: '/icons/social.png', requireInteraction:
          false, duration: 10000 }, 'time-sensitive': { title: '‚è∞ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ
          –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ!', body: `–ë–æ–Ω—É—Å—ã –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å! –û—Å—Ç–∞–ª–æ—Å—å ${data.timeLeft}`,
          icon: '/icons/bonus.png', requireInteraction: true, duration: 12000 },
          'progress': { title: 'üìà –í—ã –±–ª–∏–∑–∫–∏ –∫ —Ü–µ–ª–∏!', body: `–ï—â–µ
          ${data.remaining} –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –¥–æ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è`, icon:
          '/icons/progress.png', requireInteraction: false, duration: 10000 } };
          return configs[type] || configs['re-engagement']; } // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞
          –ø–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—é handleNotificationClick(type, data) { // –û—Ç–∫—Ä—ã–≤–∞–µ–º –∏–≥—Ä—É
          window.focus(); // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ this.trackNotificationEvent('clicked',
          type, data); // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ —Ç–∏–ø—É switch (type) { case
          'achievement': this.showAchievementModal(data); break; case 'social':
          this.openLeaderboard(); break; case 'time-sensitive':
          this.startBonusMode(); break; case 'progress': this.resumeGame();
          break; default: this.startGame(); } } // –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö
          —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π scheduleNotification(type, delay, data = {}) { const
          sendTime = Date.now() + delay; const scheduledNotification = { type,
          data, sendTime, id: Date.now() + Math.random() };
          this.notificationQueue.push(scheduledNotification);
          this.saveNotificationQueue(); // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä setTimeout(() =>
          { this.sendNotification(type, data);
          this.removeFromQueue(scheduledNotification.id); }, delay); } // –£–º–Ω—ã–µ
          —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è scheduleSmartNotifications() { const
          playerBehavior = this.analyzePlayerBehavior(); // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ
          –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ if
          (playerBehavior.daysSinceLastPlay > 1) { const delay =
          this.calculateOptimalReturnTime(playerBehavior);
          this.scheduleNotification('re-engagement', delay); } // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ
          –ø—Ä–æ–≥—Ä–µ—Å—Å–µ if (playerBehavior.isCloseToAchievement) { const delay = 2 *
          60 * 60 * 1000; // 2 —á–∞—Å–∞ this.scheduleNotification('progress', delay,
          { remaining: playerBehavior.remainingToAchievement }); } // –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ
          —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è if (playerBehavior.friendsActive) { const delay = 30 * 60
          * 1000; // 30 –º–∏–Ω—É—Ç this.scheduleNotification('social', delay, {
          friendName: playerBehavior.activeFriend }); } } // –ê–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è
          –∏–≥—Ä–æ–∫–∞ analyzePlayerBehavior() { return { daysSinceLastPlay:
          this.getDaysSinceLastPlay(), isCloseToAchievement:
          this.checkAchievementProgress(), remainingToAchievement:
          this.getRemainingToAchievement(), friendsActive:
          this.checkFriendsActivity(), activeFriend: this.getActiveFriend(),
          preferredPlayTime: this.getPreferredPlayTime(), averageSessionLength:
          this.getAverageSessionLength() }; } // –†–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è
          –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è calculateOptimalReturnTime(behavior) { const baseDelay =
          24 * 60 * 60 * 1000; // 24 —á–∞—Å–∞ const preferredHour =
          behavior.preferredPlayTime; // –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –≤—Ä–µ–º—è –¥–æ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º–æ–≥–æ
          —á–∞—Å–∞ –∏–≥—Ä—ã const now = new Date(); const targetTime = new Date(now);
          targetTime.setHours(preferredHour, 0, 0, 0); if (targetTime <= now) {
          targetTime.setDate(targetTime.getDate() + 1); } return
          Math.max(baseDelay, targetTime.getTime() - now.getTime()); } //
          –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ trackNotificationSent(type) { const
          notification = { type, timestamp: Date.now(), status: 'sent' };
          this.playerData.notifications.push(notification);
          this.savePlayerData(); } trackNotificationEvent(event, type, data) {
          // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ console.log('Notification
          event:', { event, type, data, timestamp: Date.now() }); } //
          –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã loadPlayerData() { const data =
          localStorage.getItem('playerNotificationData'); return data ?
          JSON.parse(data) : { notifications: [], preferences: {}, behavior: {}
          }; } savePlayerData() { localStorage.setItem('playerNotificationData',
          JSON.stringify(this.playerData)); } getDaysSinceLastPlay() { const
          lastPlay = this.playerData.behavior.lastPlayTime; if (!lastPlay)
          return 0; return Math.floor((Date.now() - lastPlay) / (24 * 60 * 60 *
          1000)); } getPreferredPlayTime() { // –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä –¥–ª—è
          –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ return
          this.playerData.behavior.preferredHour || 19; // 19:00 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é }
          }
        </div>
      </div>

      <div class="section">
        <h2>‚ö° –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ retention —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</h2>

        <div class="theory">
          <h3>–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞</h3>
          <p>
            –ú–æ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π retention ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏–≥—Ä—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å
            –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–∞, —á—Ç–æ–±—ã —É–¥–µ—Ä–∂–∞—Ç—å –µ–≥–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã. –≠—Ç–∏
            –º–µ—Ö–∞–Ω–∏–∫–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –æ—Ç—Ç–æ–∫.
          </p>

          <h4>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞:</h4>
          <ul>
            <li>–ò–≥—Ä–æ–∫ –¥–æ–ª–≥–æ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ —É—Ä–æ–≤–µ–Ω—å</li>
            <li>–ò–≥—Ä–æ–∫ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω –±–æ–ª–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</li>
            <li>–ò–≥—Ä–æ–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–∫—Ä—ã—Ç—å –∏–≥—Ä—É</li>
            <li>–ò–≥—Ä–æ–∫ —Å–æ–≤–µ—Ä—à–∞–µ—Ç –æ—à–∏–±–∫–∏ –ø–æ–¥—Ä—è–¥</li>
          </ul>
        </div>

        <div class="retention-strategies">
          <div class="strategy-card">
            <div class="strategy-icon">üö®</div>
            <div class="strategy-title">Exit Intent Detection</div>
            <div class="strategy-description">
              –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –ø–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É –∏ –ø–æ–∫–∞–∑ –º–æ—Ç–∏–≤–∏—Ä—É—é—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
            </div>
          </div>

          <div class="strategy-card">
            <div class="strategy-icon">üí°</div>
            <div class="strategy-title">Smart Hints</div>
            <div class="strategy-description">
              –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏, –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ –∑–∞—Å—Ç—Ä–µ–≤–∞–µ—Ç –Ω–∞ –∑–∞–¥–∞—á–µ
            </div>
          </div>

          <div class="strategy-card">
            <div class="strategy-icon">‚è±Ô∏è</div>
            <div class="strategy-title">Activity Tracking</div>
            <div class="strategy-description">
              –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–º –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–∏
            </div>
          </div>

          <div class="strategy-card">
            <div class="strategy-icon">üéÅ</div>
            <div class="strategy-title">Dynamic Rewards</div>
            <div class="strategy-description">
              –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã –≤ –º–æ–º–µ–Ω—Ç—ã —Å–Ω–∏–∂–µ–Ω–∏—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏
            </div>
          </div>

          <div class="strategy-card">
            <div class="strategy-icon">üîÑ</div>
            <div class="strategy-title">Difficulty Adjustment</div>
            <div class="strategy-description">
              –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç—Ä–æ–π–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥ –Ω–∞–≤—ã–∫–∏ –∏–≥—Ä–æ–∫–∞
            </div>
          </div>

          <div class="strategy-card">
            <div class="strategy-icon">üéµ</div>
            <div class="strategy-title">Mood Management</div>
            <div class="strategy-description">
              –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º—É–∑—ã–∫–∏, —Ü–≤–µ—Ç–æ–≤ –∏ –∞–Ω–∏–º–∞—Ü–∏–π –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
            </div>
          </div>
        </div>

        <div class="demo">
          <h4>–î–µ–º–æ: –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–∞</h4>

          <div class="activity-timer">
            <h5 style="color: #667eea; margin-top: 0">
              –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–∞
            </h5>
            <div>–í—Ä–µ–º—è —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è:</div>
            <div class="timer-display" id="activity-timer">00:00</div>
            <div id="activity-status" class="activity-status active">
              –ê–∫—Ç–∏–≤–µ–Ω
            </div>

            <div class="demo-controls">
              <button class="demo-btn success" onclick="simulateActivity()">
                üí™ –ò–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
              </button>
              <button class="demo-btn warning" onclick="startIdleSimulation()">
                ‚è∏Ô∏è –ò–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–µ
              </button>
              <button class="demo-btn danger" onclick="triggerExitIntent()">
                üö™ –ü–æ–ø—ã—Ç–∫–∞ –≤—ã—Ö–æ–¥–∞
              </button>
              <button class="demo-btn" onclick="resetActivity()">
                üîÑ –°–±—Ä–æ—Å
              </button>
            </div>
          </div>
        </div>

        <div class="code">
          <div class="code-title">–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</div>
          class PlayerActivityMonitor { constructor() { this.lastActivityTime =
          Date.now(); this.isActive = true; this.activityLevel = 'active';
          this.interventions = []; this.listeners = []; // –ü–æ—Ä–æ–≥–∏ –≤—Ä–µ–º–µ–Ω–∏ (–≤
          –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö) this.thresholds = { idle: 30000, // 30 —Å–µ–∫—É–Ω–¥ away:
          60000, // 1 –º–∏–Ω—É—Ç–∞ critical: 120000 // 2 –º–∏–Ω—É—Ç—ã };
          this.setupActivityListeners(); this.startMonitoring(); } // –ù–∞—Å—Ç—Ä–æ–π–∫–∞
          —Å–ª—É—à–∞—Ç–µ–ª–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ setupActivityListeners() { const activityEvents
          = ['click', 'mousemove', 'keypress', 'scroll', 'touchstart'];
          activityEvents.forEach(event => { document.addEventListener(event, ()
          => { this.recordActivity(); }, true); }); // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫
          –ø–æ–∫–∏–Ω—É—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É window.addEventListener('beforeunload', (e) => {
          this.handleExitIntent(e); }); // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Ç–µ—Ä–∏ —Ñ–æ–∫—É—Å–∞
          document.addEventListener('visibilitychange', () => { if
          (document.hidden) { this.handlePageHidden(); } else {
          this.handlePageVisible(); } }); } // –ó–∞–ø–∏—Å—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
          recordActivity() { this.lastActivityTime = Date.now(); if
          (this.activityLevel !== 'active') { this.activityLevel = 'active';
          this.onActivityLevelChange('active'); } } // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
          startMonitoring() { setInterval(() => { this.checkActivityLevel(); },
          1000); } // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ checkActivityLevel() { const
          timeSinceActivity = Date.now() - this.lastActivityTime; let newLevel =
          'active'; if (timeSinceActivity > this.thresholds.critical) { newLevel
          = 'critical'; } else if (timeSinceActivity > this.thresholds.away) {
          newLevel = 'away'; } else if (timeSinceActivity >
          this.thresholds.idle) { newLevel = 'idle'; } if (newLevel !==
          this.activityLevel) { this.activityLevel = newLevel;
          this.onActivityLevelChange(newLevel); } } // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è
          —É—Ä–æ–≤–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ onActivityLevelChange(level) { console.log(`Activity
          level changed to: ${level}`); switch (level) { case 'idle':
          this.handleIdleState(); break; case 'away': this.handleAwayState();
          break; case 'critical': this.handleCriticalState(); break; case
          'active': this.handleActiveState(); break; } // –£–≤–µ–¥–æ–º–ª—è–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
          this.listeners.forEach(callback => callback(level)); } // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
          —Å–æ—Å—Ç–æ—è–Ω–∏–π handleIdleState() { // –õ–µ–≥–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
          this.scheduleIntervention('gentle_reminder', 5000); }
          handleAwayState() { // –ë–æ–ª–µ–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
          this.scheduleIntervention('activity_prompt', 0); }
          handleCriticalState() { // –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –º–µ—Ä—ã
          this.scheduleIntervention('retention_offer', 0); } handleActiveState()
          { // –û—Ç–º–µ–Ω—è–µ–º –≤—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
          this.cancelPendingInterventions(); } // –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤
          scheduleIntervention(type, delay) { const intervention = { type,
          scheduledTime: Date.now() + delay, id: Date.now() + Math.random() };
          this.interventions.push(intervention); setTimeout(() => {
          this.executeIntervention(type);
          this.removeIntervention(intervention.id); }, delay); } // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
          –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤ executeIntervention(type) { switch (type) { case
          'gentle_reminder': this.showGentleReminder(); break; case
          'activity_prompt': this.showActivityPrompt(); break; case
          'retention_offer': this.showRetentionOffer(); break; } } // –ú—è–≥–∫–æ–µ
          –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ showGentleReminder() { this.showTemporaryMessage('üí≠
          –ì–æ—Ç–æ–≤—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?', 3000); } // –ü—Ä–∏–∑—ã–≤ –∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
          showActivityPrompt() { this.showTemporaryMessage('üéÆ –î–∞–≤–∞–π—Ç–µ —Å—ã–≥—Ä–∞–µ–º
          –µ—â–µ!', 5000); } // –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —É–¥–µ—Ä–∂–∞–Ω–∏—è showRetentionOffer() {
          this.showRetentionModal(); } // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ø—ã—Ç–∫–∏ –≤—ã—Ö–æ–¥–∞
          handleExitIntent(e) { if (this.activityLevel === 'away' ||
          this.activityLevel === 'critical') { e.preventDefault(); e.returnValue
          = '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É? –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å
          –ø–æ—Ç–µ—Ä—è–Ω!'; // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ this.trackExitIntent();
          return e.returnValue; } } // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
          handlePageHidden() { this.trackEvent('page_hidden'); // –ú–æ–∂–Ω–æ
          –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ } handlePageVisible() {
          this.recordActivity(); this.trackEvent('page_visible'); } // –ü–æ–∫–∞–∑
          –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è showTemporaryMessage(text, duration) { const
          messageElement = document.createElement('div');
          messageElement.textContent = text; messageElement.style.cssText = `
          position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
          background: #667eea; color: white; padding: 15px 25px; border-radius:
          25px; font-weight: bold; z-index: 1000; box-shadow: 0 10px 30px
          rgba(0,0,0,0.2); animation: slideDown 0.5s ease; `;
          document.body.appendChild(messageElement); setTimeout(() => {
          messageElement.style.animation = 'slideUp 0.5s ease forwards';
          setTimeout(() => { document.body.removeChild(messageElement); }, 500);
          }, duration); } // –ü–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è
          showRetentionModal() { const modal =
          document.getElementById('reengagement-modal'); if (modal) {
          modal.style.display = 'flex'; } } // –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ trackEvent(eventType) {
          console.log('Activity event:', { type: eventType, timestamp:
          Date.now(), activityLevel: this.activityLevel, timeSinceLastActivity:
          Date.now() - this.lastActivityTime }); } trackExitIntent() {
          this.trackEvent('exit_intent'); } // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
          onActivityChange(callback) { this.listeners.push(callback); } //
          –û—Ç–ø–∏—Å–∫–∞ offActivityChange(callback) { this.listeners =
          this.listeners.filter(cb => cb !== callback); } // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ
          —Å–æ—Å—Ç–æ—è–Ω–∏—è getActivityStatus() { return { level: this.activityLevel,
          lastActivity: this.lastActivityTime, timeSinceActivity: Date.now() -
          this.lastActivityTime, isActive: this.activityLevel === 'active' }; }
          // –û—Ç–º–µ–Ω–∞ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤ cancelPendingInterventions() {
          this.interventions = []; } removeIntervention(id) { this.interventions
          = this.interventions.filter(i => i.id !== id); } }
        </div>

        <div class="practice">
          <h3>üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ</h3>
          <p><strong>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É retention:</strong></p>
          <ol>
            <li>
              –†–µ–∞–ª–∏–∑—É–π—Ç–µ —É–º–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–æ–¥—Å–∫–∞–∑–æ–∫, –∫–æ—Ç–æ—Ä–∞—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏
              –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏—è—Ö
            </li>
            <li>
              –î–æ–±–∞–≤—å—Ç–µ –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
              –∏–≥—Ä–æ–∫–∞
            </li>
            <li>
              –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É emergency retention –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–º–µ–Ω—Ç–æ–≤
            </li>
            <li>–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–º–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏</li>
          </ol>

          <div class="code">
            <div class="code-title">
              –ü–æ–¥—Å–∫–∞–∑–∫–∞: –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫
            </div>
            class SmartHintSystem { constructor() { this.playerStruggles = [];
            this.hintHistory = []; this.difficultyLevel = 1; } // –ê–Ω–∞–ª–∏–∑
            –∑–∞—Ç—Ä—É–¥–Ω–µ–Ω–∏–π –∏–≥—Ä–æ–∫–∞ analyzePlayerStruggles(attempts, timeSpent,
            errorPattern) { const struggle = { attempts, timeSpent,
            errorPattern, timestamp: Date.now() };
            this.playerStruggles.push(struggle); // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –Ω—É–∂–Ω–∞ –ª–∏ –ø–æ–º–æ—â—å
            if (this.shouldOfferHint(struggle)) {
            this.offerContextualHint(struggle); } } shouldOfferHint(struggle) {
            return struggle.attempts > 3 && struggle.timeSpent > 30000; // 30
            —Å–µ–∫—É–Ω–¥ } offerContextualHint(struggle) { const hint =
            this.generateHint(struggle.errorPattern); this.showHint(hint); } }
          </div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 50px">
        <a href="guess-lesson-5d-part3.html" class="next-lesson">
          –°–ª–µ–¥—É—é—â–∞—è —á–∞—Å—Ç—å: Email –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π retention ‚Üí
        </a>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ re-engagement -->
    <div id="reengagement-modal" class="reengagement-modal">
      <div class="reengagement-content">
        <button class="modal-close" onclick="closeReengagementModal()">
          √ó
        </button>
        <h3 style="color: #667eea; margin-top: 0">üéÆ –ù–µ —É—Ö–æ–¥–∏—Ç–µ!</h3>
        <p>–£ –Ω–∞—Å –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–∞—Å!</p>
        <div style="margin: 20px 0">
          <div style="font-size: 2rem; margin-bottom: 10px">üéÅ</div>
          <strong>–ë–æ–Ω—É—Å –∑–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ:</strong><br />
          –ü–æ–ª—É—á–∏—Ç–µ +50% –æ—á–∫–æ–≤ –∑–∞ —Å–ª–µ–¥—É—é—â–∏–µ 10 –º–∏–Ω—É—Ç –∏–≥—Ä—ã!
        </div>
        <div
          style="
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 25px;
          "
        >
          <button class="demo-btn success" onclick="acceptOffer()">
            –ü—Ä–∏–Ω—è—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
          </button>
          <button class="demo-btn" onclick="closeReengagementModal()">
            –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–∑–∂–µ
          </button>
        </div>
      </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification-demo" class="notification-demo">
      <button class="close-btn" onclick="closeNotification()">√ó</button>
      <div style="display: flex; align-items: center; gap: 10px">
        <div id="notification-icon" style="font-size: 1.5rem">üîî</div>
        <div>
          <div
            id="notification-title"
            style="font-weight: bold; margin-bottom: 5px"
          >
            –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
          </div>
          <div id="notification-body" style="font-size: 0.9rem; color: #666">
            –¢–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
          </div>
        </div>
      </div>
    </div>

    <script>
      // –°–∏—Å—Ç–µ–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      class NotificationDemo {
        constructor() {
          this.notificationElement =
            document.getElementById("notification-demo");
          this.notifications = {
            achievement: {
              icon: "üèÜ",
              title: "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!",
              body: '–í—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ "–ú–∞—Å—Ç–µ—Ä —á–∏—Å–µ–ª"!',
            },
            social: {
              icon: "üë•",
              title: "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥—Ä—É–∑–µ–π",
              body: "–í–∞—à –¥—Ä—É–≥ –ê–ª–µ–∫—Å–µ–π –ø–æ–±–∏–ª –≤–∞—à —Ä–µ–∫–æ—Ä–¥!",
            },
            "time-sensitive": {
              icon: "‚è∞",
              title: "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ!",
              body: "–ë–æ–Ω—É—Å—ã –∑–∞ —Å–∫–æ—Ä–æ—Å—Ç—å! –û—Å—Ç–∞–ª–æ—Å—å 2 —á–∞—Å–∞.",
            },
            "re-engagement": {
              icon: "üéÆ",
              title: "–°–∫—É—á–∞–µ–º –ø–æ –≤–∞–º!",
              body: "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–±–∏—Ç—å –Ω–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!",
            },
          };
        }

        show(type) {
          const notification = this.notifications[type];
          if (!notification) return;

          document.getElementById("notification-icon").textContent =
            notification.icon;
          document.getElementById("notification-title").textContent =
            notification.title;
          document.getElementById("notification-body").textContent =
            notification.body;

          this.notificationElement.classList.add("show");

          // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
          setTimeout(() => {
            this.hide();
          }, 5000);

          document.getElementById(
            "notification-status"
          ).textContent = `–ü–æ–∫–∞–∑–∞–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: ${notification.title}`;
        }

        hide() {
          this.notificationElement.classList.remove("show");
        }
      }

      // –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –¥–µ–º–æ)
      class ActivityMonitorDemo {
        constructor() {
          this.startTime = Date.now();
          this.isRunning = true;
          this.currentLevel = "active";
          this.timer = null;
          this.startTimer();
        }

        startTimer() {
          this.timer = setInterval(() => {
            if (!this.isRunning) return;

            const elapsed = Date.now() - this.startTime;
            this.updateTimerDisplay(elapsed);
            this.updateActivityLevel(elapsed);
          }, 1000);
        }

        updateTimerDisplay(elapsed) {
          const minutes = Math.floor(elapsed / 60000);
          const seconds = Math.floor((elapsed % 60000) / 1000);
          const display = `${minutes.toString().padStart(2, "0")}:${seconds
            .toString()
            .padStart(2, "0")}`;
          document.getElementById("activity-timer").textContent = display;
        }

        updateActivityLevel(elapsed) {
          let newLevel = "active";

          if (elapsed > 120000) {
            // 2 –º–∏–Ω—É—Ç—ã
            newLevel = "away";
          } else if (elapsed > 60000) {
            // 1 –º–∏–Ω—É—Ç–∞
            newLevel = "idle";
          }

          if (newLevel !== this.currentLevel) {
            this.currentLevel = newLevel;
            this.updateStatusDisplay(newLevel);

            if (newLevel === "away") {
              this.triggerRetentionAction();
            }
          }
        }

        updateStatusDisplay(level) {
          const statusElement = document.getElementById("activity-status");
          statusElement.className = "activity-status " + level;

          const statusTexts = {
            active: "–ê–∫—Ç–∏–≤–µ–Ω",
            idle: "–ë–µ–∑–¥–µ–π—Å—Ç–≤—É–µ—Ç",
            away: "–ù–µ–∞–∫—Ç–∏–≤–µ–Ω",
          };

          statusElement.textContent = statusTexts[level];
        }

        triggerRetentionAction() {
          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è
          setTimeout(() => {
            if (this.currentLevel === "away") {
              document.getElementById("reengagement-modal").style.display =
                "flex";
            }
          }, 2000);
        }

        resetActivity() {
          this.startTime = Date.now();
          this.currentLevel = "active";
          this.updateStatusDisplay("active");
          document.getElementById("reengagement-modal").style.display = "none";
        }

        simulateIdle() {
          this.startTime = Date.now() - 70000; // –ò–º–∏—Ç–∏—Ä—É–µ–º 70 —Å–µ–∫—É–Ω–¥ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏—è
        }

        pause() {
          this.isRunning = false;
        }

        resume() {
          this.isRunning = true;
        }
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      const notificationDemo = new NotificationDemo();
      const activityMonitor = new ActivityMonitorDemo();

      // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –¥–µ–º–æ
      function showNotification(type) {
        notificationDemo.show(type);
      }

      function closeNotification() {
        notificationDemo.hide();
      }

      function simulateActivity() {
        activityMonitor.resetActivity();
      }

      function startIdleSimulation() {
        activityMonitor.simulateIdle();
      }

      function triggerExitIntent() {
        document.getElementById("reengagement-modal").style.display = "flex";
      }

      function resetActivity() {
        activityMonitor.resetActivity();
      }

      function closeReengagementModal() {
        document.getElementById("reengagement-modal").style.display = "none";
      }

      function acceptOffer() {
        alert("üéâ –û—Ç–ª–∏—á–Ω–æ! –ë–æ–Ω—É—Å –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –¢–µ–ø–µ—Ä—å –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ +50% –æ—á–∫–æ–≤!");
        closeReengagementModal();
        activityMonitor.resetActivity();
      }

      // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
      const style = document.createElement("style");
      style.textContent = `
            @keyframes slideDown {
                0% { transform: translateX(-50%) translateY(-100%); opacity: 0; }
                100% { transform: translateX(-50%) translateY(0); opacity: 1; }
            }
            
            @keyframes slideUp {
                0% { transform: translateX(-50%) translateY(0); opacity: 1; }
                100% { transform: translateX(-50%) translateY(-100%); opacity: 0; }
            }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
