<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—Ä–æ–∫ 5c: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ | –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #333;
        overflow-x: hidden;
      }

      .header {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        padding: 1rem 0;
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
          45deg,
          rgba(255, 255, 255, 0.1) 25%,
          transparent 25%,
          transparent 75%,
          rgba(255, 255, 255, 0.1) 75%
        );
        background-size: 20px 20px;
        animation: headerPattern 20s linear infinite;
      }

      @keyframes headerPattern {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(20px);
        }
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        position: relative;
        z-index: 1;
      }

      .header h1 {
        margin: 0;
        color: white;
        font-size: 2.5rem;
        text-align: center;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .subtitle {
        text-align: center;
        color: rgba(255, 255, 255, 0.9);
        margin-top: 0.5rem;
        font-size: 1.2rem;
      }

      .lesson-content {
        background: white;
        margin: 2rem auto;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        overflow: hidden;
        max-width: 1000px;
        position: relative;
      }

      .section {
        padding: 40px 50px;
        border-bottom: 1px solid #f0f0f0;
      }

      .section:last-child {
        border-bottom: none;
      }

      .section h2 {
        color: #2c3e50;
        font-size: 2rem;
        margin-bottom: 1rem;
        position: relative;
        padding-left: 20px;
      }

      .section h2::before {
        content: "";
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 5px;
        height: 30px;
        background: linear-gradient(45deg, #667eea, #764ba2);
        border-radius: 3px;
      }

      .section h3 {
        color: #34495e;
        font-size: 1.5rem;
        margin-top: 2rem;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #ecf0f1;
      }

      .theory {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-left: 5px solid #667eea;
        padding: 25px;
        margin: 25px 0;
        border-radius: 10px;
        position: relative;
      }

      .theory::before {
        content: "üí°";
        position: absolute;
        top: 15px;
        left: -15px;
        background: #667eea;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }

      .practice {
        background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
        border: 2px solid #4caf50;
        border-radius: 15px;
        padding: 30px;
        margin: 30px 0;
        position: relative;
        overflow: hidden;
      }

      .practice::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(76, 175, 80, 0.1) 0%,
          transparent 50%
        );
        animation: practiceGlow 3s ease-in-out infinite alternate;
      }

      @keyframes practiceGlow {
        0% {
          transform: rotate(0deg) scale(1);
        }
        100% {
          transform: rotate(180deg) scale(1.1);
        }
      }

      .code {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.95rem;
        line-height: 1.5;
        overflow-x: auto;
        position: relative;
      }

      .code-title {
        background: #34495e;
        color: #ecf0f1;
        padding: 8px 15px;
        margin: -20px -20px 20px -20px;
        font-weight: bold;
        border-radius: 10px 10px 0 0;
        border-bottom: 2px solid #667eea;
      }

      .demo {
        border: 3px solid #667eea;
        border-radius: 15px;
        padding: 30px;
        margin: 30px 0;
        background: linear-gradient(135deg, #f8f9ff 0%, #eef2ff 100%);
        text-align: center;
        position: relative;
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
      }

      .demo h4 {
        color: #667eea;
        margin-top: 0;
        font-size: 1.3rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      /* –î–∞—à–±–æ—Ä–¥ —Å—Ç–∏–ª–∏ */
      .dashboard {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .metric-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .metric-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
      }

      .metric-card::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: conic-gradient(
          from 0deg,
          transparent,
          rgba(255, 255, 255, 0.1),
          transparent
        );
        animation: cardRotate 4s linear infinite;
      }

      @keyframes cardRotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .metric-icon {
        font-size: 3rem;
        margin-bottom: 15px;
        position: relative;
        z-index: 1;
      }

      .metric-value {
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 10px;
        position: relative;
        z-index: 1;
      }

      .metric-label {
        font-size: 1rem;
        opacity: 0.9;
        position: relative;
        z-index: 1;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .metric-change {
        font-size: 0.9rem;
        margin-top: 10px;
        padding: 5px 10px;
        border-radius: 15px;
        background: rgba(255, 255, 255, 0.2);
        position: relative;
        z-index: 1;
      }

      .metric-change.positive {
        color: #4caf50;
        background: rgba(76, 175, 80, 0.2);
      }

      .metric-change.negative {
        color: #f44336;
        background: rgba(244, 67, 54, 0.2);
      }

      /* –ì—Ä–∞—Ñ–∏–∫ —Å—Ç–∏–ª–∏ */
      .chart-container {
        background: #f8f9fa;
        border: 2px solid #667eea;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
      }

      .chart {
        height: 300px;
        display: flex;
        align-items: end;
        justify-content: space-around;
        padding: 20px 0;
        border-bottom: 2px solid #ddd;
        position: relative;
      }

      .chart-bar {
        background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
        border-radius: 5px 5px 0 0;
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        min-width: 30px;
        margin: 0 5px;
      }

      .chart-bar:hover {
        filter: brightness(1.2);
        transform: scaleY(1.05);
      }

      .chart-bar::after {
        content: attr(data-value);
        position: absolute;
        top: -30px;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: white;
        padding: 5px 8px;
        border-radius: 5px;
        font-size: 0.8rem;
        opacity: 0;
        transition: opacity 0.3s ease;
        pointer-events: none;
      }

      .chart-bar:hover::after {
        opacity: 1;
      }

      .chart-labels {
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
        font-size: 0.9rem;
        color: #666;
      }

      /* A/B —Ç–µ—Å—Ç —Å—Ç–∏–ª–∏ */
      .ab-test-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
      }

      .ab-variant {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border: 2px solid #dee2e6;
        border-radius: 15px;
        padding: 25px;
        text-align: center;
        transition: all 0.3s ease;
      }

      .ab-variant.winning {
        border-color: #4caf50;
        background: linear-gradient(135deg, #e8f5e8 0%, #d4edda 100%);
        transform: scale(1.05);
      }

      .ab-variant.losing {
        opacity: 0.7;
      }

      .variant-label {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 15px;
        color: #667eea;
      }

      .variant-metric {
        font-size: 2rem;
        font-weight: bold;
        margin: 10px 0;
        color: #2c3e50;
      }

      .variant-description {
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 15px;
      }

      .confidence {
        background: #667eea;
        color: white;
        padding: 8px 15px;
        border-radius: 20px;
        font-weight: bold;
        font-size: 0.9rem;
      }

      /* –ö–Ω–æ–ø–∫–∏ –¥–µ–º–æ */
      .demo-controls {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin: 20px 0;
        flex-wrap: wrap;
      }

      .demo-btn {
        background: linear-gradient(45deg, #667eea, #764ba2);
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 25px;
        cursor: pointer;
        font-weight: bold;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }

      .demo-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      }

      .demo-btn:active {
        transform: translateY(0);
      }

      .demo-btn.success {
        background: linear-gradient(45deg, #4caf50, #45a049);
      }

      .demo-btn.warning {
        background: linear-gradient(45deg, #ff9800, #f57c00);
      }

      .demo-btn.danger {
        background: linear-gradient(45deg, #f44336, #d32f2f);
      }

      .next-lesson {
        display: inline-block;
        background: linear-gradient(45deg, #4caf50, #45a049);
        color: white;
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-weight: bold;
        text-align: center;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        margin-top: 20px;
      }

      .next-lesson:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
      }

      /* –¢–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö */
      .data-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .data-table th {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 15px;
        text-align: left;
        font-weight: bold;
      }

      .data-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #eee;
      }

      .data-table tr:hover {
        background: #f8f9fa;
      }

      .trend-up {
        color: #4caf50;
        font-weight: bold;
      }

      .trend-down {
        color: #f44336;
        font-weight: bold;
      }

      .trend-neutral {
        color: #ff9800;
        font-weight: bold;
      }

      /* Heatmap —Å—Ç–∏–ª–∏ */
      .heatmap {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 2px;
        margin: 20px 0;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
      }

      .heatmap-cell {
        aspect-ratio: 1;
        border-radius: 3px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.8rem;
        font-weight: bold;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .heatmap-cell:hover {
        transform: scale(1.1);
        z-index: 10;
        position: relative;
      }

      .heatmap-cell.low {
        background: #e8f5e8;
        color: #2e7d32;
      }

      .heatmap-cell.medium {
        background: #fff3cd;
        color: #856404;
      }

      .heatmap-cell.high {
        background: #f8d7da;
        color: #721c24;
      }

      .heatmap-cell.very-high {
        background: #d32f2f;
        color: white;
      }

      @media (max-width: 768px) {
        .container {
          padding: 0 15px;
        }

        .section {
          padding: 30px 25px;
        }

        .header h1 {
          font-size: 2rem;
        }

        .demo-controls {
          flex-direction: column;
          align-items: center;
        }

        .ab-test-container {
          grid-template-columns: 1fr;
        }

        .dashboard {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>

  <body>
    <div class="header">
      <div class="container">
        <h1>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h1>
        <div class="subtitle">–£—Ä–æ–∫ 5c: –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π</div>
      </div>
    </div>

    <div class="lesson-content">
      <div class="section">
        <h2>üìà –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ –∏–≥—Ä–∞—Ö?</h2>

        <div class="theory">
          <h3>–°–∏–ª–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –∏–≥—Ä–æ–≤–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h3>
          <p>
            –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤ –∏–≥—Ä–∞—Ö ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. –≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
            –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏
            –ø—Ä–∏–Ω—è—Ç–∏—è –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø—Ä–æ–¥—É–∫—Ç–∞.
          </p>

          <h4>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:</h4>
          <ul>
            <li>
              <strong>–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤</strong> ‚Äî –∫–∞–∫ –æ–Ω–∏ –∏–≥—Ä–∞—é—Ç, –≥–¥–µ
              –∑–∞—Å—Ç—Ä–µ–≤–∞—é—Ç, —á—Ç–æ –∏—Ö –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç
            </li>
            <li>
              <strong>–í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º</strong> ‚Äî —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –≤ –≥–µ–π–º–ø–ª–µ–µ, –±–∞–≥–∏,
              –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –±–∞–ª–∞–Ω—Å–∞
            </li>
            <li>
              <strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</strong> ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ —É–¥–µ—Ä–∂–∞–Ω–∏—è,
              –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏, –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏
            </li>
            <li>
              <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏–ø–æ—Ç–µ–∑</strong> ‚Äî A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
            </li>
          </ul>
        </div>

        <div
          style="
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
          "
        >
          <div
            style="
              background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
              color: white;
              padding: 20px;
              border-radius: 15px;
            "
          >
            <h4 style="margin-top: 0">üìä –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏</h4>
            <ul style="margin: 0; padding-left: 20px">
              <li>DAU/WAU/MAU (–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)</li>
              <li>Retention (—É–¥–µ—Ä–∂–∞–Ω–∏–µ)</li>
              <li>Session length (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏)</li>
              <li>Conversion rate (–∫–æ–Ω–≤–µ—Ä—Å–∏—è)</li>
            </ul>
          </div>
          <div
            style="
              background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
              color: white;
              padding: 20px;
              border-radius: 15px;
            "
          >
            <h4 style="margin-top: 0">üéÆ –ò–≥—Ä–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏</h4>
            <ul style="margin: 0; padding-left: 20px">
              <li>Completion rate (–ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)</li>
              <li>Difficulty curve (–∫—Ä–∏–≤–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏)</li>
              <li>Drop-off points (—Ç–æ—á–∫–∏ –æ—Ç—Ç–æ–∫–∞)</li>
              <li>Feature usage (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π)</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="section">
        <h2>üéõÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞</h2>

        <div class="theory">
          <h3>–î–∞—à–±–æ—Ä–¥ ‚Äî —Ü–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏</h3>
          <p>
            –î–∞—à–±–æ—Ä–¥ ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ
            –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –•–æ—Ä–æ—à–∏–π –¥–∞—à–±–æ—Ä–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –æ—Ü–µ–Ω–∏—Ç—å
            —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã –∏ –≤—ã—è–≤–∏—Ç—å —Ç—Ä–µ–Ω–¥—ã.
          </p>

          <h4>–ü—Ä–∏–Ω—Ü–∏–ø—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞:</h4>
          <ul>
            <li>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–∞–∂–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏</li>
            <li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏</li>
            <li>–û–±–Ω–æ–≤–ª—è—Ç—å—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</li>
            <li>–ë—ã—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º</li>
          </ul>
        </div>

        <div class="demo">
          <h4>–î–µ–º–æ: –ò–≥—Ä–æ–≤–æ–π –¥–∞—à–±–æ—Ä–¥</h4>

          <div class="dashboard">
            <div class="metric-card">
              <div class="metric-icon">üë•</div>
              <div class="metric-value" id="active-players">1,247</div>
              <div class="metric-label">–ê–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä–æ–∫–∏</div>
              <div class="metric-change positive">+12% –∑–∞ –Ω–µ–¥–µ–ª—é</div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">üéÆ</div>
              <div class="metric-value" id="games-played">8,942</div>
              <div class="metric-label">–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ</div>
              <div class="metric-change positive">+8% –∑–∞ –¥–µ–Ω—å</div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">‚è±Ô∏è</div>
              <div class="metric-value" id="avg-session">4.2–º</div>
              <div class="metric-label">–°—Ä–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è</div>
              <div class="metric-change negative">-5% –∑–∞ –¥–µ–Ω—å</div>
            </div>

            <div class="metric-card">
              <div class="metric-icon">üèÜ</div>
              <div class="metric-value" id="completion-rate">68%</div>
              <div class="metric-label">–ó–∞–≤–µ—Ä—à–∞—é—Ç –∏–≥—Ä—É</div>
              <div class="metric-change positive">+3% –∑–∞ –Ω–µ–¥–µ–ª—é</div>
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn success" onclick="updateMetrics()">
              –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏
            </button>
            <button class="demo-btn warning" onclick="simulateTraffic()">
              –°–∏–º—É–ª—è—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
            </button>
            <button class="demo-btn" onclick="resetDashboard()">–°–±—Ä–æ—Å</button>
          </div>
        </div>

        <div class="code">
          <div class="code-title">–ö–ª–∞—Å—Å Analytics Dashboard</div>
          class GameDashboard { constructor() { this.metrics = { activePlayers:
          1247, gamesPlayed: 8942, avgSession: 4.2, completionRate: 68 };
          this.updateInterval = null; this.isRealTime = false; } // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
          –º–µ—Ç—Ä–∏–∫ updateMetrics() { // –°–∏–º—É–ª—è—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
          this.metrics.activePlayers += this.randomChange(50, 0.1);
          this.metrics.gamesPlayed += this.randomChange(100, 0.05);
          this.metrics.avgSession += this.randomChange(0.5, 0.05);
          this.metrics.completionRate += this.randomChange(2, 0.02); //
          –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è this.metrics.completionRate = Math.max(0,
          Math.min(100, this.metrics.completionRate)); this.metrics.avgSession =
          Math.max(1, this.metrics.avgSession); this.renderMetrics();
          this.logMetricsUpdate(); } // –°–ª—É—á–∞–π–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å —Ç—Ä–µ–Ω–¥–æ–º
          randomChange(maxChange, trend = 0) { const random = (Math.random() -
          0.5) * 2; // -1 –¥–æ 1 const trendFactor = Math.random() < 0.7 ? 1 : -1;
          // 70% –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–¥ return (random * maxChange + trend *
          maxChange) * trendFactor; } // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ renderMetrics() {
          this.animateValue('active-players', this.metrics.activePlayers, true);
          this.animateValue('games-played', this.metrics.gamesPlayed, true);
          this.animateValue('avg-session', this.metrics.avgSession.toFixed(1) +
          '–º'); this.animateValue('completion-rate',
          Math.round(this.metrics.completionRate) + '%'); } // –ê–Ω–∏–º–∞—Ü–∏—è
          –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π animateValue(elementId, newValue, isNumber = false)
          { const element = document.getElementById(elementId); const startValue
          = isNumber ? parseInt(element.textContent.replace(/[^\d]/g, '')) :
          element.textContent; element.style.transform = 'scale(1.1)';
          element.style.color = '#4caf50'; // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ if (isNumber) {
          element.textContent = newValue.toLocaleString(); } else {
          element.textContent = newValue; } // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
          setTimeout(() => { element.style.transform = 'scale(1)';
          element.style.color = ''; }, 500); } // –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ
          –≤—Ä–µ–º–µ–Ω–∏ startRealTimeUpdates() { this.isRealTime = true;
          this.updateInterval = setInterval(() => { this.updateMetrics(); },
          5000); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ } // –í—ã–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ
          –≤—Ä–µ–º–µ–Ω–∏ stopRealTimeUpdates() { this.isRealTime = false; if
          (this.updateInterval) { clearInterval(this.updateInterval); } } //
          –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö exportMetrics() { const data = { timestamp: new
          Date().toISOString(), metrics: this.metrics, trends:
          this.calculateTrends() }; return JSON.stringify(data, null, 2); } //
          –†–∞—Å—á–µ—Ç —Ç—Ä–µ–Ω–¥–æ–≤ calculateTrends() { // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞
          —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏ return { activePlayers: { change:
          12, period: 'week' }, gamesPlayed: { change: 8, period: 'day' },
          avgSession: { change: -5, period: 'day' }, completionRate: { change:
          3, period: 'week' } }; } logMetricsUpdate() { console.log('–ú–µ—Ç—Ä–∏–∫–∏
          –æ–±–Ω–æ–≤–ª–µ–Ω—ã:', { –≤—Ä–µ–º—è: new Date().toLocaleTimeString(), –∞–∫—Ç–∏–≤–Ω—ã–µ:
          this.metrics.activePlayers, –∏–≥—Ä—ã: this.metrics.gamesPlayed, —Å–µ—Å—Å–∏—è:
          this.metrics.avgSession, –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ: this.metrics.completionRate }); }
          }
        </div>
      </div>

      <div class="section">
        <h2>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</h2>

        <div class="theory">
          <h3>–ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã</h3>
          <p>
            –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ–ª–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–Ω—è—Ç–Ω—ã–º–∏ –∏ actionable. –†–∞–∑–Ω—ã–µ
            —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.
          </p>

          <h4>–¢–∏–ø—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π:</h4>
          <ul>
            <li><strong>–õ–∏–Ω–µ–π–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏</strong> ‚Äî —Ç—Ä–µ–Ω–¥—ã –≤–æ –≤—Ä–µ–º–µ–Ω–∏</li>
            <li><strong>–°—Ç–æ–ª–±—á–∞—Ç—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã</strong> ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π</li>
            <li><strong>–ö—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã</strong> ‚Äî —á–∞—Å—Ç–∏ –æ—Ç —Ü–µ–ª–æ–≥–æ</li>
            <li><strong>Heatmap</strong> ‚Äî –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–≤—É–º –æ—Å—è–º</li>
          </ul>
        </div>

        <div class="demo">
          <h4>–î–µ–º–æ: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫</h4>

          <div class="chart-container">
            <h3 style="text-align: center; color: #667eea; margin-top: 0">
              –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
            </h3>

            <div class="chart" id="games-chart">
              <!-- –°—Ç–æ–ª–±—Ü—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JavaScript -->
            </div>

            <div class="chart-labels">
              <span>–ü–ù</span>
              <span>–í–¢</span>
              <span>–°–†</span>
              <span>–ß–¢</span>
              <span>–ü–¢</span>
              <span>–°–ë</span>
              <span>–í–°</span>
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn success" onclick="updateChart()">
              –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
            </button>
            <button class="demo-btn warning" onclick="randomizeChart()">
              –°–ª—É—á–∞–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            </button>
          </div>
        </div>

        <h3>üî• Heat Map –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h3>

        <div class="demo">
          <h4>–ö–∞—Ä—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–≥—Ä–æ–∫–æ–≤ –ø–æ —á–∞—Å–∞–º</h4>

          <div class="heatmap" id="activity-heatmap">
            <!-- –Ø—á–µ–π–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã JavaScript -->
          </div>

          <div style="text-align: center; margin-top: 20px">
            <span
              style="
                background: #e8f5e8;
                padding: 5px 10px;
                border-radius: 5px;
                margin: 0 5px;
              "
              >–ù–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</span
            >
            <span
              style="
                background: #fff3cd;
                padding: 5px 10px;
                border-radius: 5px;
                margin: 0 5px;
              "
              >–°—Ä–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</span
            >
            <span
              style="
                background: #f8d7da;
                padding: 5px 10px;
                border-radius: 5px;
                margin: 0 5px;
              "
              >–í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</span
            >
            <span
              style="
                background: #d32f2f;
                color: white;
                padding: 5px 10px;
                border-radius: 5px;
                margin: 0 5px;
              "
              >–ü–∏–∫–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</span
            >
          </div>
        </div>

        <div class="code">
          <div class="code-title">–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤</div>
          class DataVisualization { constructor() { this.chartData = [45, 67,
          89, 23, 56, 78, 91]; this.heatmapData = this.generateHeatmapData(); }
          // –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–æ–ª–±—á–∞—Ç–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ renderChart() { const container =
          document.getElementById('games-chart'); container.innerHTML = '';
          const maxValue = Math.max(...this.chartData);
          this.chartData.forEach((value, index) => { const bar =
          document.createElement('div'); bar.className = 'chart-bar';
          bar.style.height = `${(value / maxValue) * 100}%`;
          bar.setAttribute('data-value', value); // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
          bar.style.transform = 'scaleY(0)'; container.appendChild(bar);
          setTimeout(() => { bar.style.transform = 'scaleY(1)'; }, index * 100);
          }); } // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞ updateChart() { this.chartData =
          this.chartData.map(value => Math.max(1, value + (Math.random() - 0.5)
          * 20) ); this.renderChart(); } // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
          randomizeChart() { this.chartData = Array.from({length: 7}, () =>
          Math.floor(Math.random() * 100) + 10 ); this.renderChart(); } //
          –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è heatmap generateHeatmapData() { const data = [];
          // 7 –¥–Ω–µ–π √ó 24 —á–∞—Å–∞ = 168 —è—á–µ–µ–∫ for (let day = 0; day < 7; day++) {
          for (let hour = 0; hour < 24; hour++) { const baseActivity =
          this.getBaseActivity(day, hour); const randomFactor = Math.random() *
          0.3 + 0.85; // 85-115% const activity = Math.round(baseActivity *
          randomFactor); data.push({ day, hour, activity, level:
          this.getActivityLevel(activity) }); } } return data; } // –ë–∞–∑–æ–≤–∞—è
          –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏ getBaseActivity(day, hour) { // –í—ã—Ö–æ–¥–Ω—ã–µ –±–æ–ª–µ–µ
          –∞–∫—Ç–∏–≤–Ω—ã const dayMultiplier = (day === 5 || day === 6) ? 1.3 : 1; //
          –ü–∏–∫–æ–≤—ã–µ —á–∞—Å—ã: —É—Ç—Ä–æ (8-10), –æ–±–µ–¥ (12-14), –≤–µ—á–µ—Ä (18-22) let
          hourMultiplier = 1; if (hour >= 8 && hour <= 10) hourMultiplier = 1.4;
          else if (hour >= 12 && hour <= 14) hourMultiplier = 1.2; else if (hour
          >= 18 && hour <= 22) hourMultiplier = 1.6; else if (hour >= 0 && hour
          <= 6) hourMultiplier = 0.3; return Math.round(50 * dayMultiplier *
          hourMultiplier); } // –£—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ getActivityLevel(activity) {
          if (activity < 25) return 'low'; if (activity < 50) return 'medium';
          if (activity < 75) return 'high'; return 'very-high'; } // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
          heatmap renderHeatmap() { const container =
          document.getElementById('activity-heatmap'); container.innerHTML = '';
          this.heatmapData.forEach(cell => { const cellElement =
          document.createElement('div'); cellElement.className = `heatmap-cell
          ${cell.level}`; cellElement.textContent = cell.activity;
          cellElement.title = `–î–µ–Ω—å ${cell.day + 1}, ${cell.hour}:00 -
          ${cell.activity} –∏–≥—Ä–æ–∫–æ–≤`; container.appendChild(cellElement); }); } }
        </div>
      </div>

      <div class="section">
        <h2>üß™ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

        <div class="theory">
          <h3>–ù–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —É–ª—É—á—à–µ–Ω–∏—é –∏–≥—Ä—ã</h3>
          <p>
            A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –º–µ—Ç–æ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤—É—Ö –≤–µ—Ä—Å–∏–π –∏–≥—Ä—ã, —á—Ç–æ–±—ã
            –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –Ω–∞
            –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö, –∞ –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π.
          </p>

          <h4>–ß—Ç–æ –º–æ–∂–Ω–æ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:</h4>
          <ul>
            <li>
              <strong>–£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</strong> ‚Äî –∫–∞–∫–æ–π –±–∞–ª–∞–Ω—Å –ª—É—á—à–µ —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç
              –∏–≥—Ä–æ–∫–æ–≤
            </li>
            <li><strong>UI —ç–ª–µ–º–µ–Ω—Ç—ã</strong> ‚Äî –∫–Ω–æ–ø–∫–∏, —Ü–≤–µ—Ç–∞, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ</li>
            <li><strong>–ù–∞–≥—Ä–∞–¥—ã</strong> ‚Äî —Ä–∞–∑–º–µ—Ä –∏ —á–∞—Å—Ç–æ—Ç–∞ –≤—ã–¥–∞—á–∏</li>
            <li>
              <strong>–û–±—É—á–µ–Ω–∏–µ</strong> ‚Äî —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∫
            </li>
          </ul>
        </div>

        <div class="demo">
          <h4>–î–µ–º–æ: A/B —Ç–µ—Å—Ç –∫–Ω–æ–ø–∫–∏ "–ò–≥—Ä–∞—Ç—å"</h4>

          <div class="ab-test-container">
            <div class="ab-variant" id="variant-a">
              <div class="variant-label">–í–∞—Ä–∏–∞–Ω—Ç A (–ö–æ–Ω—Ç—Ä–æ–ª—å)</div>
              <div class="variant-description">–û–±—ã—á–Ω–∞—è —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞</div>
              <button
                style="
                  background: #007bff;
                  color: white;
                  padding: 12px 24px;
                  border: none;
                  border-radius: 5px;
                  font-size: 1.1rem;
                "
              >
                –ò–≥—Ä–∞—Ç—å
              </button>
              <div class="variant-metric" id="ctr-a">3.2%</div>
              <div style="font-size: 0.9rem; margin-bottom: 15px">
                CTR (Click Through Rate)
              </div>
              <div class="confidence">–ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è</div>
            </div>

            <div class="ab-variant winning" id="variant-b">
              <div class="variant-label">–í–∞—Ä–∏–∞–Ω—Ç B (–¢–µ—Å—Ç)</div>
              <div class="variant-description">–Ø—Ä–∫–∞—è –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞</div>
              <button
                style="
                  background: linear-gradient(45deg, #4caf50, #45a049);
                  color: white;
                  padding: 15px 30px;
                  border: none;
                  border-radius: 25px;
                  font-size: 1.2rem;
                  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
                "
              >
                üöÄ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É!
              </button>
              <div class="variant-metric" id="ctr-b">4.7%</div>
              <div style="font-size: 0.9rem; margin-bottom: 15px">
                CTR (Click Through Rate)
              </div>
              <div class="confidence">95% —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å</div>
            </div>
          </div>

          <div style="text-align: center; margin-top: 20px">
            <div
              style="
                background: #e8f5e8;
                padding: 15px;
                border-radius: 10px;
                border: 2px solid #4caf50;
              "
            >
              <h4 style="margin: 0; color: #4caf50">–†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞</h4>
              <p style="margin: 10px 0">
                –í–∞—Ä–∏–∞–Ω—Ç B –ø–æ–∫–∞–∑–∞–ª –Ω–∞ <strong>+46.9%</strong> –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
              </p>
              <p style="margin: 0; font-size: 0.9rem; color: #666">
                –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤–Ω–µ–¥—Ä–∏—Ç—å –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ä—Å–∏—é
              </p>
            </div>
          </div>

          <div class="demo-controls">
            <button class="demo-btn success" onclick="runABTest()">
              –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç
            </button>
            <button class="demo-btn warning" onclick="switchWinner()">
              –°–º–µ–Ω–∏—Ç—å –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
            </button>
          </div>
        </div>

        <div class="code">
          <div class="code-title">–°–∏—Å—Ç–µ–º–∞ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</div>
          class ABTestSystem { constructor() { this.tests = new Map();
          this.userAssignments = new Map(); } // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞
          createTest(testId, variants, trafficSplit = [50, 50]) { const test = {
          id: testId, variants, trafficSplit, results: variants.reduce((acc,
          variant) => { acc[variant.id] = { impressions: 0, conversions: 0,
          conversionRate: 0 }; return acc; }, {}), isActive: true, createdAt:
          Date.now() }; this.tests.set(testId, test); return test; } //
          –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≤–∞—Ä–∏–∞–Ω—Ç assignUser(userId, testId) { const
          test = this.tests.get(testId); if (!test || !test.isActive) return
          null; // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω –ª–∏ —É–∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å const userKey =
          `${userId}_${testId}`; if (this.userAssignments.has(userKey)) { return
          this.userAssignments.get(userKey); } // –ù–∞–∑–Ω–∞—á–∞–µ–º –≤ –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ
          —Ö–µ—à–∞ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è const hash = this.hashUserId(userId); let
          cumulativeWeight = 0; let assignedVariant = null; for (let i = 0; i <
          test.variants.length; i++) { cumulativeWeight += test.trafficSplit[i];
          if (hash <= cumulativeWeight) { assignedVariant = test.variants[i];
          break; } } this.userAssignments.set(userKey, assignedVariant);
          this.recordImpression(testId, assignedVariant.id); return
          assignedVariant; } // –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–≥–æ
          –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è hashUserId(userId) { let hash = 0; for (let i = 0; i <
          userId.length; i++) { const char = userId.charCodeAt(i); hash = ((hash
          << 5) - hash) + char; hash = hash & hash; // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ 32-–±–∏—Ç–Ω–æ–µ
          —á–∏—Å–ª–æ } return Math.abs(hash) % 100; // 0-99 } // –ó–∞–ø–∏—Å—å –ø–æ–∫–∞–∑–∞
          recordImpression(testId, variantId) { const test =
          this.tests.get(testId); if (test && test.results[variantId]) {
          test.results[variantId].impressions++; } } // –ó–∞–ø–∏—Å—å –∫–æ–Ω–≤–µ—Ä—Å–∏–∏
          recordConversion(testId, variantId) { const test =
          this.tests.get(testId); if (test && test.results[variantId]) {
          test.results[variantId].conversions++;
          this.calculateConversionRate(testId, variantId); } } // –†–∞—Å—á–µ—Ç
          –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ calculateConversionRate(testId, variantId) { const test =
          this.tests.get(testId); const result = test.results[variantId]; if
          (result.impressions > 0) { result.conversionRate = (result.conversions
          / result.impressions) * 100; } } // –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å
          calculateSignificance(testId) { const test = this.tests.get(testId);
          const variants = Object.keys(test.results); if (variants.length !== 2)
          return null; // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ A/B —Ç–µ—Å—Ç—ã const [variantA,
          variantB] = variants; const resultA = test.results[variantA]; const
          resultB = test.results[variantB]; // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ z-—Ç–µ—Å—Ç–∞ –¥–ª—è
          –ø—Ä–æ–ø–æ—Ä—Ü–∏–π const p1 = resultA.conversions / resultA.impressions; const
          p2 = resultB.conversions / resultB.impressions; const pooledP =
          (resultA.conversions + resultB.conversions) / (resultA.impressions +
          resultB.impressions); const se = Math.sqrt(pooledP * (1 - pooledP) *
          (1/resultA.impressions + 1/resultB.impressions)); const zScore =
          Math.abs(p1 - p2) / se; // –ü—Ä–∏–º–µ—Ä–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Å–∏—è z-score –≤ p-value const
          pValue = 2 * (1 - this.normalCDF(Math.abs(zScore))); return { zScore,
          pValue, isSignificant: pValue < 0.05, confidence: (1 - pValue) * 100
          }; } // –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–∞—è CDF –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è normalCDF(x) {
          return 0.5 * (1 + this.erf(x / Math.sqrt(2))); } // –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–∞—è
          —Ñ—É–Ω–∫—Ü–∏—è –æ—à–∏–±–æ–∫ erf(x) { const a1 = 0.254829592; const a2 =
          -0.284496736; const a3 = 1.421413741; const a4 = -1.453152027; const
          a5 = 1.061405429; const p = 0.3275911; const sign = x < 0 ? -1 : 1; x
          = Math.abs(x); const t = 1.0 / (1.0 + p * x); const y = 1.0 - (((((a5
          * t + a4) * t) + a3) * t + a2) * t + a1) * t * Math.exp(-x * x);
          return sign * y; } // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∞
          getTestResults(testId) { const test = this.tests.get(testId); if
          (!test) return null; const significance =
          this.calculateSignificance(testId); return { test, significance,
          duration: Date.now() - test.createdAt, winner:
          this.determineWinner(testId) }; } // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
          determineWinner(testId) { const test = this.tests.get(testId); const
          variants = Object.keys(test.results); let winner = variants[0]; let
          maxRate = test.results[winner].conversionRate;
          variants.forEach(variantId => { const rate =
          test.results[variantId].conversionRate; if (rate > maxRate) { maxRate
          = rate; winner = variantId; } }); return winner; } }
        </div>

        <div class="practice">
          <h3>üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ</h3>
          <p><strong>–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–Ω–∞–ª–∏—Ç–∏–∫–∏:</strong></p>
          <ol>
            <li>
              –î–æ–±–∞–≤—å—Ç–µ —Ç—Ä–µ–∫–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π –∏–≥—Ä–æ–∫–∞ (–∫–ª–∏–∫–∏, –≤—Ä–µ–º—è –Ω–∞ —É—Ä–æ–≤–Ω–µ, –æ—à–∏–±–∫–∏)
            </li>
            <li>
              –°–æ–∑–¥–∞–π—Ç–µ –≤–æ—Ä–æ–Ω–∫—É –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ –æ—Ç –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã
            </li>
            <li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ cohort analysis (–∞–Ω–∞–ª–∏–∑ –∫–æ–≥–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)</li>
            <li>–î–æ–±–∞–≤—å—Ç–µ —Å–∏—Å—Ç–µ–º—É –∞–ª–µ—Ä—Ç–æ–≤ –ø—Ä–∏ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –º–µ—Ç—Ä–∏–∫</li>
          </ol>

          <div class="code">
            <div class="code-title">–ü–æ–¥—Å–∫–∞–∑–∫–∞: Event Tracking</div>
            class GameAnalytics { constructor() { this.events = [];
            this.sessionId = this.generateSessionId(); this.userId =
            this.getUserId(); } // –¢—Ä–µ–∫–∏–Ω–≥ —Å–æ–±—ã—Ç–∏—è trackEvent(eventType,
            properties = {}) { const event = { timestamp: Date.now(), sessionId:
            this.sessionId, userId: this.userId, type: eventType, properties: {
            ...properties, userAgent: navigator.userAgent, url:
            window.location.href } }; this.events.push(event);
            this.sendToAnalytics(event); } // –¢—Ä–µ–∫–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ
            trackScreenTime(screenName) { const startTime = Date.now(); return
            () => { const duration = Date.now() - startTime;
            this.trackEvent('screen_time', { screen: screenName, duration:
            duration, durationSeconds: Math.round(duration / 1000) }); }; } }
          </div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 50px">
        <a href="guess-lesson-5d.html" class="next-lesson">
          –§–∏–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–∫: –ú–æ—Ç–∏–≤–∞—Ü–∏—è –∏ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ ‚Üí
        </a>
      </div>
    </div>

    <script>
      // –°–∏—Å—Ç–µ–º–∞ –¥–∞—à–±–æ—Ä–¥–∞
      class DemoGameDashboard {
        constructor() {
          this.metrics = {
            activePlayers: 1247,
            gamesPlayed: 8942,
            avgSession: 4.2,
            completionRate: 68,
          };

          this.chartData = [45, 67, 89, 123, 96, 78, 91];
          this.heatmapData = this.generateHeatmapData();

          this.abTest = {
            variantA: { ctr: 3.2 },
            variantB: { ctr: 4.7 },
          };
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
        updateMetrics() {
          this.metrics.activePlayers += this.randomChange(100, 0.1);
          this.metrics.gamesPlayed += this.randomChange(200, 0.05);
          this.metrics.avgSession += this.randomChange(0.5, 0.02);
          this.metrics.completionRate += this.randomChange(3, 0.01);

          // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
          this.metrics.activePlayers = Math.max(0, this.metrics.activePlayers);
          this.metrics.gamesPlayed = Math.max(0, this.metrics.gamesPlayed);
          this.metrics.avgSession = Math.max(1, this.metrics.avgSession);
          this.metrics.completionRate = Math.max(
            0,
            Math.min(100, this.metrics.completionRate)
          );

          this.renderMetrics();
        }

        randomChange(maxChange, trend = 0) {
          const random = (Math.random() - 0.5) * 2;
          const trendFactor = Math.random() < 0.7 ? 1 : -1;
          return (random * maxChange + trend * maxChange) * trendFactor;
        }

        renderMetrics() {
          this.animateValue(
            "active-players",
            Math.round(this.metrics.activePlayers)
          );
          this.animateValue(
            "games-played",
            Math.round(this.metrics.gamesPlayed)
          );
          this.animateValue(
            "avg-session",
            this.metrics.avgSession.toFixed(1) + "–º"
          );
          this.animateValue(
            "completion-rate",
            Math.round(this.metrics.completionRate) + "%"
          );
        }

        animateValue(elementId, newValue) {
          const element = document.getElementById(elementId);

          element.style.transform = "scale(1.1)";
          element.style.color = "#4caf50";

          if (typeof newValue === "number") {
            element.textContent = newValue.toLocaleString();
          } else {
            element.textContent = newValue;
          }

          setTimeout(() => {
            element.style.transform = "scale(1)";
            element.style.color = "";
          }, 500);
        }

        // –°–∏–º—É–ª—è—Ü–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞
        simulateTraffic() {
          const intervals = [1000, 1500, 2000, 2500, 3000];

          intervals.forEach((delay) => {
            setTimeout(() => this.updateMetrics(), delay);
          });
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö heatmap
        generateHeatmapData() {
          const data = [];
          for (let i = 0; i < 168; i++) {
            // 7 –¥–Ω–µ–π √ó 24 —á–∞—Å–∞
            const activity = Math.floor(Math.random() * 100) + 10;
            let level = "low";

            if (activity > 75) level = "very-high";
            else if (activity > 50) level = "high";
            else if (activity > 25) level = "medium";

            data.push({ activity, level });
          }
          return data;
        }

        renderChart() {
          const container = document.getElementById("games-chart");
          container.innerHTML = "";

          const maxValue = Math.max(...this.chartData);

          this.chartData.forEach((value, index) => {
            const bar = document.createElement("div");
            bar.className = "chart-bar";
            bar.style.height = `${(value / maxValue) * 100}%`;
            bar.setAttribute("data-value", value);

            bar.style.transform = "scaleY(0)";
            container.appendChild(bar);

            setTimeout(() => {
              bar.style.transform = "scaleY(1)";
            }, index * 100);
          });
        }

        updateChart() {
          this.chartData = this.chartData.map((value) =>
            Math.max(10, value + (Math.random() - 0.5) * 30)
          );
          this.renderChart();
        }

        randomizeChart() {
          this.chartData = Array.from(
            { length: 7 },
            () => Math.floor(Math.random() * 120) + 20
          );
          this.renderChart();
        }

        renderHeatmap() {
          const container = document.getElementById("activity-heatmap");
          container.innerHTML = "";

          this.heatmapData.forEach((cell, index) => {
            const cellElement = document.createElement("div");
            cellElement.className = `heatmap-cell ${cell.level}`;
            cellElement.textContent = cell.activity;
            cellElement.title = `–ß–∞—Å ${index % 24}, –î–µ–Ω—å ${
              Math.floor(index / 24) + 1
            }: ${cell.activity} –∏–≥—Ä–æ–∫–æ–≤`;

            container.appendChild(cellElement);
          });
        }

        // A/B —Ç–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–∏
        runABTest() {
          this.abTest.variantA.ctr = (Math.random() * 2 + 2).toFixed(1);
          this.abTest.variantB.ctr = (Math.random() * 3 + 3.5).toFixed(1);

          document.getElementById("ctr-a").textContent =
            this.abTest.variantA.ctr + "%";
          document.getElementById("ctr-b").textContent =
            this.abTest.variantB.ctr + "%";

          this.updateABWinner();
        }

        switchWinner() {
          if (
            parseFloat(this.abTest.variantA.ctr) >
            parseFloat(this.abTest.variantB.ctr)
          ) {
            this.abTest.variantB.ctr = (
              parseFloat(this.abTest.variantA.ctr) +
              Math.random() * 2
            ).toFixed(1);
          } else {
            this.abTest.variantA.ctr = (
              parseFloat(this.abTest.variantB.ctr) +
              Math.random() * 2
            ).toFixed(1);
          }

          document.getElementById("ctr-a").textContent =
            this.abTest.variantA.ctr + "%";
          document.getElementById("ctr-b").textContent =
            this.abTest.variantB.ctr + "%";

          this.updateABWinner();
        }

        updateABWinner() {
          const variantA = document.getElementById("variant-a");
          const variantB = document.getElementById("variant-b");

          variantA.classList.remove("winning", "losing");
          variantB.classList.remove("winning", "losing");

          if (
            parseFloat(this.abTest.variantA.ctr) >
            parseFloat(this.abTest.variantB.ctr)
          ) {
            variantA.classList.add("winning");
            variantB.classList.add("losing");
          } else {
            variantB.classList.add("winning");
            variantA.classList.add("losing");
          }
        }

        reset() {
          this.metrics = {
            activePlayers: 1247,
            gamesPlayed: 8942,
            avgSession: 4.2,
            completionRate: 68,
          };

          this.renderMetrics();
          this.chartData = [45, 67, 89, 123, 96, 78, 91];
          this.renderChart();
        }
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      const dashboard = new DemoGameDashboard();

      // –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
      function updateMetrics() {
        dashboard.updateMetrics();
      }

      function simulateTraffic() {
        dashboard.simulateTraffic();
      }

      function resetDashboard() {
        dashboard.reset();
      }

      function updateChart() {
        dashboard.updateChart();
      }

      function randomizeChart() {
        dashboard.randomizeChart();
      }

      function runABTest() {
        dashboard.runABTest();
      }

      function switchWinner() {
        dashboard.switchWinner();
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
      dashboard.renderChart();
      dashboard.renderHeatmap();
    </script>
  </body>
</html>
