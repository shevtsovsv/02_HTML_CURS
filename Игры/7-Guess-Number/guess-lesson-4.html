<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—Ä–æ–∫ 4: –£–º–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(
          135deg,
          #667eea 0%,
          #764ba2 50%,
          #f093fb 100%
        );
        padding: 20px;
        min-height: 100vh;
      }

      .back-to-course {
        position: fixed;
        top: 20px;
        left: 20px;
        background: #f39c12;
        color: white;
        padding: 12px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-weight: 600;
        font-size: 0.95rem;
        box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        transition: all 0.3s ease;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .back-to-course:hover {
        background: #e67e22;
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(243, 156, 18, 0.4);
      }

      .container {
        max-width: 1100px;
        margin: 0 auto;
        background: rgba(255, 255, 255, 0.95);
        border-radius: 25px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        backdrop-filter: blur(10px);
      }

      .header {
        background: linear-gradient(135deg, #f39c12, #e67e22);
        color: white;
        padding: 40px 30px;
        text-align: center;
        position: relative;
      }

      .header::before {
        content: "üß†‚ö°üéØ";
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 1.2rem;
        opacity: 0.7;
      }

      .header h1 {
        font-size: 2.2rem;
        margin-bottom: 10px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header .lesson-info {
        font-size: 1.1rem;
        opacity: 0.9;
      }

      .content {
        padding: 40px;
      }

      .section {
        margin-bottom: 40px;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        padding: 30px;
        border-radius: 15px;
        border-left: 5px solid #f39c12;
      }

      .section h2 {
        color: #f39c12;
        margin-bottom: 20px;
        font-size: 1.8rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .section p {
        font-size: 1.1rem;
        line-height: 1.7;
        margin-bottom: 15px;
        color: #2c3e50;
      }

      .code-example {
        background: #2c3e50;
        color: #ecf0f1;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.95rem;
        line-height: 1.5;
        overflow-x: auto;
        position: relative;
      }

      .code-title {
        background: #34495e;
        color: #ecf0f1;
        padding: 8px 15px;
        font-size: 0.9rem;
        font-weight: 600;
        border-radius: 8px 8px 0 0;
        margin: 20px 0 0 0;
      }

      .code-example pre {
        margin: 0;
        white-space: pre-wrap;
      }

      .highlight {
        background: rgba(243, 156, 18, 0.2);
        padding: 2px 4px;
        border-radius: 3px;
        font-weight: 600;
        color: #f39c12;
      }

      .js-keyword {
        color: #e74c3c;
        font-weight: 600;
      }

      .js-function {
        color: #f39c12;
        font-weight: 600;
      }

      .js-string {
        color: #2ecc71;
      }

      .js-number {
        color: #3498db;
      }

      .js-comment {
        color: #95a5a6;
        font-style: italic;
      }

      .algorithm-showcase {
        background: linear-gradient(135deg, #e8f5e8, #d5edd5);
        border: 2px solid #00b894;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
      }

      .algorithm-showcase h3 {
        color: #00b894;
        margin-bottom: 15px;
        font-size: 1.4rem;
      }

      .binary-search-demo {
        background: linear-gradient(135deg, #f39c12, #e67e22);
        color: white;
        border-radius: 15px;
        padding: 30px;
        margin: 20px 0;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .binary-search-demo h3 {
        margin-bottom: 20px;
        font-size: 1.6rem;
        text-align: center;
      }

      .search-visualization {
        background: rgba(255, 255, 255, 0.1);
        padding: 25px;
        border-radius: 10px;
        text-align: center;
        backdrop-filter: blur(5px);
      }

      .number-line {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 20px 0;
        flex-wrap: wrap;
        gap: 5px;
      }

      .number-box {
        background: rgba(255, 255, 255, 0.2);
        padding: 10px;
        border-radius: 8px;
        min-width: 40px;
        text-align: center;
        font-weight: bold;
        border: 2px solid transparent;
        transition: all 0.3s ease;
      }

      .number-box.current {
        background: #e74c3c;
        border-color: #c0392b;
        transform: scale(1.1);
      }

      .number-box.eliminated {
        background: rgba(255, 255, 255, 0.05);
        opacity: 0.3;
        text-decoration: line-through;
      }

      .number-box.possible {
        background: #2ecc71;
        border-color: #27ae60;
      }

      .search-controls {
        margin-top: 20px;
      }

      .demo-button {
        background: linear-gradient(135deg, #3498db, #2980b9);
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 25px;
        font-size: 1rem;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        margin: 5px;
        box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
      }

      .demo-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(52, 152, 219, 0.4);
      }

      .demo-button:disabled {
        background: #95a5a6;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .difficulty-showcase {
        background: linear-gradient(135deg, #fff5e6, #ffe6cc);
        border: 2px solid #f39c12;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
      }

      .difficulty-showcase h3 {
        color: #d68910;
        margin-bottom: 15px;
        font-size: 1.4rem;
      }

      .difficulty-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
      }

      .difficulty-card {
        background: rgba(255, 255, 255, 0.9);
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid #f39c12;
        text-align: center;
      }

      .difficulty-card h4 {
        color: #d68910;
        margin-bottom: 10px;
        font-size: 1.2rem;
      }

      .difficulty-card .range {
        font-size: 1.5rem;
        font-weight: bold;
        color: #f39c12;
        margin: 10px 0;
      }

      .difficulty-card .attempts {
        background: rgba(243, 156, 18, 0.1);
        padding: 8px;
        border-radius: 6px;
        font-weight: bold;
        color: #d68910;
      }

      .hints-showcase {
        background: linear-gradient(135deg, #e8e8ff, #d1d1ff);
        border: 2px solid #6c5ce7;
        border-radius: 15px;
        padding: 25px;
        margin: 20px 0;
      }

      .hints-showcase h3 {
        color: #5f3dc4;
        margin-bottom: 15px;
        font-size: 1.4rem;
      }

      .hints-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 15px;
        margin: 15px 0;
      }

      .hint-card {
        background: rgba(255, 255, 255, 0.9);
        padding: 15px;
        border-radius: 10px;
        border-left: 4px solid #6c5ce7;
      }

      .hint-card h4 {
        color: #5f3dc4;
        margin-bottom: 8px;
        font-size: 1rem;
      }

      .hint-card p {
        color: #4c3788;
        font-size: 0.9rem;
        margin: 0;
        line-height: 1.4;
      }

      .hint-card .example {
        background: rgba(108, 92, 231, 0.1);
        padding: 8px;
        border-radius: 5px;
        margin-top: 8px;
        font-style: italic;
        font-size: 0.85rem;
      }

      .optimization-demo {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        border-radius: 15px;
        padding: 30px;
        margin: 20px 0;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .optimization-demo h3 {
        margin-bottom: 20px;
        font-size: 1.6rem;
        text-align: center;
      }

      .performance-comparison {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .performance-card {
        background: rgba(255, 255, 255, 0.1);
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        backdrop-filter: blur(5px);
      }

      .performance-card h4 {
        margin-bottom: 10px;
        font-size: 1.1rem;
      }

      .performance-bar {
        background: rgba(255, 255, 255, 0.2);
        height: 20px;
        border-radius: 10px;
        overflow: hidden;
        margin: 10px 0;
        position: relative;
      }

      .performance-fill {
        height: 100%;
        border-radius: 10px;
        transition: width 1s ease;
        position: relative;
      }

      .performance-fill.linear {
        background: linear-gradient(90deg, #e74c3c, #c0392b);
      }

      .performance-fill.binary {
        background: linear-gradient(90deg, #2ecc71, #27ae60);
      }

      .performance-text {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 0.8rem;
        font-weight: bold;
        color: white;
      }

      .task-section {
        background: linear-gradient(135deg, #cce5ff, #b3d9ff);
        border: 2px solid #007bff;
        border-radius: 15px;
        padding: 25px;
        margin: 30px 0;
      }

      .task-section h3 {
        color: #004085;
        margin-bottom: 15px;
        font-size: 1.4rem;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .task-list {
        list-style: none;
        padding-left: 0;
      }

      .task-list li {
        background: rgba(255, 255, 255, 0.8);
        margin: 8px 0;
        padding: 12px 15px;
        border-radius: 8px;
        border-left: 4px solid #007bff;
        font-weight: 500;
        position: relative;
        padding-left: 40px;
      }

      .task-list li::before {
        content: "üß†";
        position: absolute;
        left: 15px;
        font-size: 1rem;
      }

      .next-lesson {
        background: linear-gradient(135deg, #f39c12, #e67e22);
        color: white;
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        margin-top: 30px;
      }

      .next-lesson:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(243, 156, 18, 0.4);
      }

      @media (max-width: 768px) {
        .content {
          padding: 20px;
        }

        .header h1 {
          font-size: 1.8rem;
        }

        .back-to-course {
          position: relative;
          top: 0;
          left: 0;
          margin-bottom: 20px;
          display: inline-flex;
        }

        .difficulty-grid,
        .hints-grid,
        .performance-comparison {
          grid-template-columns: 1fr;
        }

        .number-line {
          justify-content: center;
        }

        .number-box {
          min-width: 35px;
          font-size: 0.9rem;
          padding: 8px;
        }

        .search-visualization {
          padding: 15px;
        }
      }
    </style>
  </head>
  <body>
    <a href="index.html" class="back-to-course"> ‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É </a>

    <div class="container">
      <div class="header">
        <h1>üß† –£—Ä–æ–∫ 4: –£–º–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã</h1>
        <p class="lesson-info">
          –°–æ–∑–¥–∞—ë–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é –∏–≥—Ä—É —Å –ø–æ–º–æ—â–Ω–∏–∫–æ–º –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
        </p>
      </div>

      <div class="content">
        <div class="section">
          <h2>üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞</h2>
          <p>
            –í —ç—Ç–æ–º —É—Ä–æ–∫–µ –º—ã –ø—Ä–µ–≤—Ä–∞—Ç–∏–º –ø—Ä–æ—Å—Ç—É—é –∏–≥—Ä—É –≤ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É.
            –ò–∑—É—á–∏–º –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫, —Å–æ–∑–¥–∞–¥–∏–º –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–∞, —Å–∏—Å—Ç–µ–º—É –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏
            –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å.
          </p>
          <p>
            –¢—ã —É–∑–Ω–∞–µ—à—å, –∫–∞–∫ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –º–æ–≥—É—Ç —Å–¥–µ–ª–∞—Ç—å –∏–≥—Ä—É —É–º–Ω–µ–µ, –∫–∞–∫
            –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é
            –ø–æ–º–æ—â—å.
          </p>
        </div>

        <div class="binary-search-demo">
          <h3>üîç –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞</h3>
          <p style="margin-bottom: 20px">
            –ü–æ—Å–º–æ—Ç—Ä–∏, –∫–∞–∫ –ò–ò —É–≥–∞–¥—ã–≤–∞–µ—Ç —á–∏—Å–ª–æ –∑–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫:
          </p>

          <div class="search-visualization">
            <div style="margin-bottom: 15px">
              <strong>–ó–∞–≥–∞–¥–∞–π —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 15:</strong>
              <input
                type="number"
                id="targetNumber"
                min="1"
                max="15"
                placeholder="–¢–≤–æ—ë —á–∏—Å–ª–æ"
                style="
                  padding: 8px 12px;
                  border-radius: 15px;
                  border: 2px solid rgba(255, 255, 255, 0.3);
                  background: rgba(255, 255, 255, 0.9);
                  margin: 0 10px;
                  text-align: center;
                  font-weight: bold;
                "
              />
            </div>

            <div class="number-line" id="numberLine">
              <!-- –ß–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 15 -->
            </div>

            <div style="margin: 15px 0">
              <strong>–ò–ò –¥—É–º–∞–µ—Ç: </strong
              ><span id="aiThought">–ì–æ—Ç–æ–≤ —É–≥–∞–¥—ã–≤–∞—Ç—å!</span>
            </div>

            <div class="search-controls">
              <button class="demo-button" onclick="startBinarySearch()">
                ü§ñ –ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫
              </button>
              <button
                class="demo-button"
                onclick="nextStep()"
                id="nextBtn"
                disabled
              >
                ‚û°Ô∏è –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥
              </button>
              <button class="demo-button" onclick="resetBinaryDemo()">
                üîÑ –°–±—Ä–æ—Å
              </button>
            </div>

            <div style="margin-top: 15px">
              <strong>–ü–æ–ø—ã—Ç–∫–∞: </strong><span id="stepCount">0</span> |
              <strong>–ò–ò –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç: </strong><span id="aiGuess">-</span>
            </div>
          </div>
        </div>

        <div class="section">
          <h2>üîç –ê–ª–≥–æ—Ä–∏—Ç–º –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞</h2>
          <p>
            –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ - —ç—Ç–æ —É–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç —á–∏—Å–ª–æ –∑–∞
            –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫, –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∏—Å–∫–ª—é—á–∞—è –ø–æ–ª–æ–≤–∏–Ω—É
            –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤.
          </p>

          <div class="code-title">üîç –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞</div>
          <div class="code-example">
            <pre><span class="js-comment">// –ö–ª–∞—Å—Å –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–∞ —Å –±–∏–Ω–∞—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º</span>
<span class="js-keyword">class</span> <span class="js-function">AIHelper</span> {
    <span class="js-keyword">constructor</span>(minRange, maxRange) {
        <span class="js-keyword">this</span>.originalMin = minRange;
        <span class="js-keyword">this</span>.originalMax = maxRange;
        <span class="js-keyword">this</span>.<span class="js-function">reset</span>();
    }
    
    <span class="js-comment">// –°–±—Ä–æ—Å –¥–ª—è –Ω–æ–≤–æ–π –∏–≥—Ä—ã</span>
    <span class="js-function">reset</span>() {
        <span class="js-keyword">this</span>.minRange = <span class="js-keyword">this</span>.originalMin;
        <span class="js-keyword">this</span>.maxRange = <span class="js-keyword">this</span>.originalMax;
        <span class="js-keyword">this</span>.attempts = <span class="js-number">0</span>;
        <span class="js-keyword">this</span>.suggestions = [];
    }
    
    <span class="js-comment">// –ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ò–ò</span>
    <span class="js-function">getNextGuess</span>() {
        <span class="js-keyword">this</span>.attempts++;
        
        <span class="js-comment">// –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫: –≤—ã–±–∏—Ä–∞–µ–º —Å–µ—Ä–µ–¥–∏–Ω—É –¥–∏–∞–ø–∞–∑–æ–Ω–∞</span>
        <span class="js-keyword">const</span> guess = Math.<span class="js-function">floor</span>((<span class="js-keyword">this</span>.minRange + <span class="js-keyword">this</span>.maxRange) / <span class="js-number">2</span>);
        
        <span class="js-keyword">this</span>.suggestions.<span class="js-function">push</span>({
            attempt: <span class="js-keyword">this</span>.attempts,
            guess: guess,
            range: [<span class="js-keyword">this</span>.minRange, <span class="js-keyword">this</span>.maxRange],
            reasoning: <span class="js-keyword">this</span>.<span class="js-function">getReasoningText</span>(guess)
        });
        
        <span class="js-keyword">return</span> guess;
    }
    
    <span class="js-comment">// –û–±–Ω–æ–≤–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω –ø–æ–∏—Å–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</span>
    <span class="js-function">updateRange</span>(guess, result) {
        <span class="js-keyword">if</span> (result === <span class="js-string">'high'</span>) {
            <span class="js-comment">// –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ - —É–±–∏—Ä–∞–µ–º –≤–µ—Ä—Ö–Ω—é—é –ø–æ–ª–æ–≤–∏–Ω—É</span>
            <span class="js-keyword">this</span>.maxRange = guess - <span class="js-number">1</span>;
        } <span class="js-keyword">else</span> <span class="js-keyword">if</span> (result === <span class="js-string">'low'</span>) {
            <span class="js-comment">// –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ - —É–±–∏—Ä–∞–µ–º –Ω–∏–∂–Ω—é—é –ø–æ–ª–æ–≤–∏–Ω—É</span>
            <span class="js-keyword">this</span>.minRange = guess + <span class="js-number">1</span>;
        }
        
        <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –¥–∏–∞–ø–∞–∑–æ–Ω –µ—â—ë –≤–∞–ª–∏–¥–µ–Ω</span>
        <span class="js-keyword">if</span> (<span class="js-keyword">this</span>.minRange > <span class="js-keyword">this</span>.maxRange) {
            <span class="js-keyword">throw</span> <span class="js-keyword">new</span> <span class="js-function">Error</span>(<span class="js-string">'–ù–µ–≤–æ–∑–º–æ–∂–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω! –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤.'</span>);
        }
    }
    
    <span class="js-comment">// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –ò–ò</span>
    <span class="js-function">getReasoningText</span>(guess) {
        <span class="js-keyword">const</span> rangeSize = <span class="js-keyword">this</span>.maxRange - <span class="js-keyword">this</span>.minRange + <span class="js-number">1</span>;
        <span class="js-keyword">const</span> maxSteps = Math.<span class="js-function">ceil</span>(Math.<span class="js-function">log2</span>(rangeSize));
        
        <span class="js-keyword">return</span> <span class="js-string">`–í—ã–±–∏—Ä–∞—é —Å–µ—Ä–µ–¥–∏–Ω—É –¥–∏–∞–ø–∞–∑–æ–Ω–∞ ${this.minRange}-${this.maxRange}. 
                   –≠—Ç–æ –∏—Å–∫–ª—é—á–∏—Ç ~${Math.floor(rangeSize/2)} —á–∏—Å–µ–ª. 
                   –ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫: ${maxSteps}`</span>;
    }
    
    <span class="js-comment">// –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É –¥–ª—è –∏–≥—Ä–æ–∫–∞</span>
    <span class="js-function">getPlayerHint</span>(playerAttempts, playerGuesses) {
        <span class="js-keyword">if</span> (playerAttempts < <span class="js-number">3</span>) {
            <span class="js-keyword">return</span> <span class="js-string">"–ü—Ä–æ–±—É–π —Ä–∞–∑–Ω—ã–µ —á–∏—Å–ª–∞, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω!"</span>;
        }
        
        <span class="js-comment">// –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞</span>
        <span class="js-keyword">const</span> lastGuesses = playerGuesses.<span class="js-function">slice</span>(-<span class="js-number">3</span>);
        <span class="js-keyword">const</span> isRandomGuessing = <span class="js-keyword">this</span>.<span class="js-function">detectRandomPattern</span>(lastGuesses);
        
        <span class="js-keyword">if</span> (isRandomGuessing) {
            <span class="js-keyword">return</span> <span class="js-string">"üí° –°–æ–≤–µ—Ç: –ø–æ–ø—Ä–æ–±—É–π –º–µ—Ç–æ–¥ '–¥–µ–ª–µ–Ω–∏—è –ø–æ–ø–æ–ª–∞–º' - –≤—Å–µ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–π —Å–µ—Ä–µ–¥–∏–Ω—É!"</span>;
        }
        
        <span class="js-comment">// –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é —Å–ª–µ–¥—É—é—â—É—é –ø–æ–ø—ã—Ç–∫—É</span>
        <span class="js-keyword">const</span> optimalGuess = <span class="js-keyword">this</span>.<span class="js-function">getNextGuess</span>();
        <span class="js-keyword">return</span> <span class="js-string">`ü§ñ –Ø –±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞–ª —á–∏—Å–ª–æ ${optimalGuess}. –•–æ—á–µ—à—å —É–≤–∏–¥–µ—Ç—å –ø–æ—á–µ–º—É?`</span>;
    }
    
    <span class="js-comment">// –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —É–≥–∞–¥—ã–≤–∞–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ —Å–ª—É—á–∞–π–Ω–æ</span>
    <span class="js-function">detectRandomPattern</span>(guesses) {
        <span class="js-keyword">if</span> (guesses.length < <span class="js-number">3</span>) <span class="js-keyword">return</span> <span class="js-keyword">false</span>;
        
        <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –ª–æ–≥–∏–∫–∞ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</span>
        <span class="js-keyword">const</span> differences = [];
        <span class="js-keyword">for</span> (<span class="js-keyword">let</span> i = <span class="js-number">1</span>; i < guesses.length; i++) {
            differences.<span class="js-function">push</span>(Math.<span class="js-function">abs</span>(guesses[i] - guesses[i-<span class="js-number">1</span>]));
        }
        
        <span class="js-comment">// –ï—Å–ª–∏ —Ä–∞–∑–ª–∏—á–∏—è —Å–ª–∏—à–∫–æ–º —Å–ª—É—á–∞–π–Ω—ã, –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é</span>
        <span class="js-keyword">const</span> avgDifference = differences.<span class="js-function">reduce</span>((a, b) => a + b, <span class="js-number">0</span>) / differences.length;
        <span class="js-keyword">return</span> avgDifference > (<span class="js-keyword">this</span>.originalMax - <span class="js-keyword">this</span>.originalMin) * <span class="js-number">0.3</span>;
    }
}</pre>
          </div>

          <p>
            –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –ª—é–±–æ–≥–æ —á–∏—Å–ª–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 1-100
            –º–∞–∫—Å–∏–º—É–º –∑–∞ <span class="highlight">7 –ø–æ–ø—ã—Ç–æ–∫</span> (‚åàlog‚ÇÇ(100)‚åâ =
            7).
          </p>
        </div>

        <div class="difficulty-showcase">
          <h3>üìä –°–∏—Å—Ç–µ–º–∞ —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</h3>
          <p>–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –¥–µ–ª–∞—é—Ç –∏–≥—Ä—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π –¥–ª—è –≤—Å–µ—Ö:</p>

          <div class="difficulty-grid">
            <div class="difficulty-card">
              <h4>üü¢ –õ—ë–≥–∫–∏–π</h4>
              <div class="range">1 - 50</div>
              <div class="attempts">–ü–æ–ø—ã—Ç–æ–∫: 7</div>
              <p style="font-size: 0.9rem; margin-top: 10px">
                –û—Ç–ª–∏—á–Ω—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤
              </p>
            </div>

            <div class="difficulty-card">
              <h4>üü° –°—Ä–µ–¥–Ω–∏–π</h4>
              <div class="range">1 - 100</div>
              <div class="attempts">–ü–æ–ø—ã—Ç–æ–∫: 8</div>
              <p style="font-size: 0.9rem; margin-top: 10px">
                –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞
              </p>
            </div>

            <div class="difficulty-card">
              <h4>üü† –°–ª–æ–∂–Ω—ã–π</h4>
              <div class="range">1 - 500</div>
              <div class="attempts">–ü–æ–ø—ã—Ç–æ–∫: 10</div>
              <p style="font-size: 0.9rem; margin-top: 10px">
                –î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
              </p>
            </div>

            <div class="difficulty-card">
              <h4>üî¥ –≠–∫—Å—Ç—Ä–∏–º</h4>
              <div class="range">1 - 1000</div>
              <div class="attempts">–ü–æ–ø—ã—Ç–æ–∫: 12</div>
              <p style="font-size: 0.9rem; margin-top: 10px">
                –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤!
              </p>
            </div>
          </div>

          <div class="code-title">üìä –°–∏—Å—Ç–µ–º–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</div>
          <div class="code-example">
            <pre><span class="js-comment">// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</span>
<span class="js-keyword">const</span> <span class="js-function">DIFFICULTY_LEVELS</span> = {
    easy: {
        name: <span class="js-string">'–õ—ë–≥–∫–∏–π'</span>,
        range: [<span class="js-number">1</span>, <span class="js-number">50</span>],
        maxAttempts: <span class="js-number">7</span>,
        hints: <span class="js-keyword">true</span>,
        aiHelperEnabled: <span class="js-keyword">true</span>,
        description: <span class="js-string">'–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö'</span>
    },
    medium: {
        name: <span class="js-string">'–°—Ä–µ–¥–Ω–∏–π'</span>,
        range: [<span class="js-number">1</span>, <span class="js-number">100</span>],
        maxAttempts: <span class="js-number">8</span>,
        hints: <span class="js-keyword">true</span>,
        aiHelperEnabled: <span class="js-keyword">false</span>,
        description: <span class="js-string">'–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∏–≥—Ä–∞'</span>
    },
    hard: {
        name: <span class="js-string">'–°–ª–æ–∂–Ω—ã–π'</span>,
        range: [<span class="js-number">1</span>, <span class="js-number">500</span>],
        maxAttempts: <span class="js-number">10</span>,
        hints: <span class="js-keyword">false</span>,
        aiHelperEnabled: <span class="js-keyword">false</span>,
        description: <span class="js-string">'–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤'</span>
    },
    extreme: {
        name: <span class="js-string">'–≠–∫—Å—Ç—Ä–∏–º'</span>,
        range: [<span class="js-number">1</span>, <span class="js-number">1000</span>],
        maxAttempts: <span class="js-number">12</span>,
        hints: <span class="js-keyword">false</span>,
        aiHelperEnabled: <span class="js-keyword">false</span>,
        description: <span class="js-string">'–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤!'</span>
    }
};

<span class="js-comment">// –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</span>
<span class="js-keyword">class</span> <span class="js-function">DifficultyManager</span> {
    <span class="js-keyword">constructor</span>() {
        <span class="js-keyword">this</span>.currentLevel = <span class="js-string">'easy'</span>;
        <span class="js-keyword">this</span>.playerStats = {
            gamesWon: <span class="js-number">0</span>,
            totalGames: <span class="js-number">0</span>,
            averageAttempts: <span class="js-number">0</span>
        };
    }
    
    <span class="js-comment">// –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</span>
    <span class="js-function">getCurrentConfig</span>() {
        <span class="js-keyword">return</span> DIFFICULTY_LEVELS[<span class="js-keyword">this</span>.currentLevel];
    }
    
    <span class="js-comment">// –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è</span>
    <span class="js-function">suggestLevelUp</span>() {
        <span class="js-keyword">const</span> winRate = <span class="js-keyword">this</span>.playerStats.gamesWon / <span class="js-keyword">this</span>.playerStats.totalGames;
        <span class="js-keyword">const</span> isGoodPlayer = winRate > <span class="js-number">0.7</span> && <span class="js-keyword">this</span>.playerStats.averageAttempts < <span class="js-number">5</span>;
        
        <span class="js-keyword">if</span> (isGoodPlayer && <span class="js-keyword">this</span>.playerStats.totalGames >= <span class="js-number">3</span>) {
            <span class="js-keyword">return</span> <span class="js-keyword">this</span>.<span class="js-function">getNextLevel</span>();
        }
        
        <span class="js-keyword">return</span> <span class="js-keyword">null</span>;
    }
    
    <span class="js-comment">// –ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</span>
    <span class="js-function">getNextLevel</span>() {
        <span class="js-keyword">const</span> levels = [<span class="js-string">'easy'</span>, <span class="js-string">'medium'</span>, <span class="js-string">'hard'</span>, <span class="js-string">'extreme'</span>];
        <span class="js-keyword">const</span> currentIndex = levels.<span class="js-function">indexOf</span>(<span class="js-keyword">this</span>.currentLevel);
        
        <span class="js-keyword">return</span> currentIndex < levels.length - <span class="js-number">1</span> ? levels[currentIndex + <span class="js-number">1</span>] : <span class="js-keyword">null</span>;
    }
}</pre>
          </div>
        </div>

        <div class="hints-showcase">
          <h3>üí° –£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫</h3>
          <p>
            –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –∏–≥—Ä–æ–∫—É —É—á–∏—Ç—å—Å—è –∏ —É–ª—É—á—à–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é:
          </p>

          <div class="hints-grid">
            <div class="hint-card">
              <h4>üéØ –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ</h4>
              <p>–ü–æ–¥—Å–∫–∞–∑–∫–∏ –æ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–∏—Å–∫–∞</p>
              <div class="example">
                "–ü–æ–ø—Ä–æ–±—É–π —á–∏—Å–ª–æ 50 - —ç—Ç–æ —Å–µ—Ä–µ–¥–∏–Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ 1-100"
              </div>
            </div>

            <div class="hint-card">
              <h4>üß† –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ</h4>
              <p>–°–æ–≤–µ—Ç—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø–æ–¥—Ö–æ–¥–∞ –∫ —Ä–µ—à–µ–Ω–∏—é</p>
              <div class="example">
                "–ò—Å–ø–æ–ª—å–∑—É–π –º–µ—Ç–æ–¥ –¥–µ–ª–µ–Ω–∏—è –ø–æ–ø–æ–ª–∞–º –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞"
              </div>
            </div>

            <div class="hint-card">
              <h4>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ</h4>
              <p>–ê–Ω–∞–ª–∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</p>
              <div class="example">
                "–¢–≤–æ–∏ —á–∏—Å–ª–∞ —Å–ª–∏—à–∫–æ–º –±–ª–∏–∑–∫–æ. –ü–æ–ø—Ä–æ–±—É–π –±–æ–ª—å—à–∏–π —à–∞–≥"
              </div>
            </div>

            <div class="hint-card">
              <h4>üèÜ –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ</h4>
              <p>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –∏–≥—Ä—ã</p>
              <div class="example">
                "–û—Ç–ª–∏—á–Ω–æ! –ï—â—ë 2 –ø–æ–ø—ã—Ç–∫–∏ –∏ —Ç—ã –Ω–∞–π–¥—ë—à—å —á–∏—Å–ª–æ!"
              </div>
            </div>
          </div>

          <div class="code-title">üí° –°–∏—Å—Ç–µ–º–∞ —É–º–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫</div>
          <div class="code-example">
            <pre><span class="js-comment">// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –ø–æ–¥—Å–∫–∞–∑–æ–∫</span>
<span class="js-keyword">class</span> <span class="js-function">HintSystem</span> {
    <span class="js-keyword">constructor</span>(gameConfig) {
        <span class="js-keyword">this</span>.config = gameConfig;
        <span class="js-keyword">this</span>.usedHints = <span class="js-keyword">new</span> <span class="js-function">Set</span>();
    }
    
    <span class="js-comment">// –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ö–æ–¥—è—â—É—é –ø–æ–¥—Å–∫–∞–∑–∫—É</span>
    <span class="js-function">getHint</span>(gameState) {
        <span class="js-keyword">const</span> { attempts, guesses, maxAttempts, range } = gameState;
        <span class="js-keyword">const</span> remainingAttempts = maxAttempts - attempts;
        
        <span class="js-comment">// –†–∞–Ω–Ω–Ω—è—è —Å—Ç–∞–¥–∏—è –∏–≥—Ä—ã</span>
        <span class="js-keyword">if</span> (attempts <= <span class="js-number">2</span>) {
            <span class="js-keyword">return</span> <span class="js-keyword">this</span>.<span class="js-function">getEarlyGameHint</span>(range);
        }
        
        <span class="js-comment">// –°–µ—Ä–µ–¥–∏–Ω–∞ –∏–≥—Ä—ã</span>
        <span class="js-keyword">if</span> (remainingAttempts > <span class="js-number">2</span>) {
            <span class="js-keyword">return</span> <span class="js-keyword">this</span>.<span class="js-function">getMidGameHint</span>(guesses, range);
        }
        
        <span class="js-comment">// –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è</span>
        <span class="js-keyword">return</span> <span class="js-keyword">this</span>.<span class="js-function">getCriticalHint</span>(guesses, range, remainingAttempts);
    }
    
    <span class="js-comment">// –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã</span>
    <span class="js-function">getEarlyGameHint</span>(range) {
        <span class="js-keyword">const</span> [min, max] = range;
        <span class="js-keyword">const</span> middle = Math.<span class="js-function">floor</span>((min + max) / <span class="js-number">2</span>);
        
        <span class="js-keyword">const</span> hints = [
            <span class="js-string">`üéØ –ü–æ–ø—Ä–æ–±—É–π –Ω–∞—á–∞—Ç—å —Å —Å–µ—Ä–µ–¥–∏–Ω—ã: ${middle}`</span>,
            <span class="js-string">`üí° –ù–∞—á–Ω–∏ —Å —á–∏—Å–ª–∞ ${middle} - —ç—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ!`</span>,
            <span class="js-string">`üß† –°—Ç—Ä–∞—Ç–µ–≥–∏—è: –≤—Å–µ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–π —Å–µ—Ä–µ–¥–∏–Ω—É –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞`</span>
        ];
        
        <span class="js-keyword">return</span> <span class="js-keyword">this</span>.<span class="js-function">getUnusedHint</span>(hints);
    }
    
    <span class="js-comment">// –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —Å–µ—Ä–µ–¥–∏–Ω—ã –∏–≥—Ä—ã</span>
    <span class="js-function">getMidGameHint</span>(guesses, range) {
        <span class="js-keyword">const</span> lastGuess = guesses[guesses.length - <span class="js-number">1</span>];
        <span class="js-keyword">const</span> pattern = <span class="js-keyword">this</span>.<span class="js-function">analyzePattern</span>(guesses);
        
        <span class="js-keyword">if</span> (pattern === <span class="js-string">'random'</span>) {
            <span class="js-keyword">return</span> <span class="js-string">'üîÑ –ü–æ–ø—Ä–æ–±—É–π —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –≤–º–µ—Å—Ç–æ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª'</span>;
        }
        
        <span class="js-keyword">if</span> (pattern === <span class="js-string">'sequential'</span>) {
            <span class="js-keyword">return</span> <span class="js-string">'‚ö° –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –±–æ–ª—å—à–∏–º —à–∞–≥–∞–º - –º–µ—Ç–æ–¥ –¥–µ–ª–µ–Ω–∏—è –ø–æ–ø–æ–ª–∞–º –±—ã—Å—Ç—Ä–µ–µ!'</span>;
        }
        
        <span class="js-comment">// –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Å–ª–µ–¥—É—é—â–∏–π —Ö–æ–¥</span>
        <span class="js-keyword">const</span> optimalNext = <span class="js-keyword">this</span>.<span class="js-function">calculateOptimalGuess</span>(guesses, range);
        <span class="js-keyword">return</span> <span class="js-string">`ü§ñ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä: –ø–æ–ø—Ä–æ–±—É–π ${optimalNext}`</span>;
    }
    
    <span class="js-comment">// –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏</span>
    <span class="js-function">getCriticalHint</span>(guesses, range, remaining) {
        <span class="js-keyword">if</span> (remaining === <span class="js-number">1</span>) {
            <span class="js-keyword">const</span> bestGuess = <span class="js-keyword">this</span>.<span class="js-function">calculateOptimalGuess</span>(guesses, range);
            <span class="js-keyword">return</span> <span class="js-string">`üéØ –ü–û–°–õ–ï–î–ù–Ø–Ø –ü–û–ü–´–¢–ö–ê! –ü–æ–ø—Ä–æ–±—É–π ${bestGuess}`</span>;
        }
        
        <span class="js-keyword">return</span> <span class="js-string">'üî• –û—Å—Ç–∞–ª–æ—Å—å –º–∞–ª–æ –ø–æ–ø—ã—Ç–æ–∫! –î—É–º–∞–π –ª–æ–≥–∏—á–µ—Å–∫–∏!'</span>;
    }
    
    <span class="js-comment">// –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –∏–≥—Ä–æ–∫–∞</span>
    <span class="js-function">analyzePattern</span>(guesses) {
        <span class="js-keyword">if</span> (guesses.length < <span class="js-number">3</span>) <span class="js-keyword">return</span> <span class="js-string">'unknown'</span>;
        
        <span class="js-keyword">const</span> differences = [];
        <span class="js-keyword">for</span> (<span class="js-keyword">let</span> i = <span class="js-number">1</span>; i < guesses.length; i++) {
            differences.<span class="js-function">push</span>(guesses[i] - guesses[i-<span class="js-number">1</span>]);
        }
        
        <span class="js-comment">// –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</span>
        <span class="js-keyword">const</span> avgDifference = Math.<span class="js-function">abs</span>(differences.<span class="js-function">reduce</span>((a, b) => a + b) / differences.length);
        
        <span class="js-keyword">if</span> (avgDifference <= <span class="js-number">5</span>) <span class="js-keyword">return</span> <span class="js-string">'sequential'</span>;
        <span class="js-keyword">if</span> (avgDifference > <span class="js-number">20</span>) <span class="js-keyword">return</span> <span class="js-string">'random'</span>;
        
        <span class="js-keyword">return</span> <span class="js-string">'strategic'</span>;
    }
}</pre>
          </div>
        </div>

        <div class="optimization-demo">
          <h3>‚ö° –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤</h3>
          <p style="margin-bottom: 20px">
            –ü–æ—Å–º–æ—Ç—Ä–∏, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –±—ã—Å—Ç—Ä–µ–µ –ª–∏–Ω–µ–π–Ω–æ–≥–æ:
          </p>

          <div class="performance-comparison">
            <div class="performance-card">
              <h4>üêå –õ–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫</h4>
              <p>–í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ: –≤—Å–µ —á–∏—Å–ª–∞ –ø–æ–¥—Ä—è–¥</p>
              <div class="performance-bar">
                <div class="performance-fill linear" style="width: 100%">
                  <div class="performance-text">100 –ø–æ–ø—ã—Ç–æ–∫</div>
                </div>
              </div>
              <p><strong>–°—Ä–µ–¥–Ω–µ:</strong> 50 –ø–æ–ø—ã—Ç–æ–∫</p>
            </div>

            <div class="performance-card">
              <h4>üöÄ –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫</h4>
              <p>–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ</p>
              <div class="performance-bar">
                <div class="performance-fill binary" style="width: 7%">
                  <div class="performance-text">7 –ø–æ–ø—ã—Ç–æ–∫</div>
                </div>
              </div>
              <p><strong>–í—Å–µ–≥–¥–∞:</strong> ‚â§ 7 –ø–æ–ø—ã—Ç–æ–∫</p>
            </div>
          </div>

          <div style="text-align: center; margin-top: 20px">
            <p style="font-size: 1.2rem; font-weight: bold">
              –ë–∏–Ω–∞—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –≤
              <span style="color: #2ecc71">14 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ!</span>
            </p>
          </div>
        </div>

        <div class="task-section">
          <h3>üß† –¢–≤–æ—ë –∑–∞–¥–∞–Ω–∏–µ</h3>
          <p>–°–æ–∑–¥–∞–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∏–≥—Ä—ã "–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ":</p>

          <ol class="task-list">
            <li>–†–µ–∞–ª–∏–∑—É–π –∫–ª–∞—Å—Å AIHelper —Å –±–∏–Ω–∞—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º</li>
            <li>–î–æ–±–∞–≤—å —Å–∏—Å—Ç–µ–º—É —É—Ä–æ–≤–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π</li>
            <li>–°–æ–∑–¥–∞–π —É–º–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø–æ–¥—Å–∫–∞–∑–æ–∫</li>
            <li>–†–µ–∞–ª–∏–∑—É–π –∞–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞</li>
            <li>–î–æ–±–∞–≤—å –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–∞ —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏</li>
            <li>–°–æ–∑–¥–∞–π —Å–∏—Å—Ç–µ–º—É –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</li>
            <li>–†–µ–∞–ª–∏–∑—É–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É</li>
            <li>–î–æ–±–∞–≤—å –æ–±—É—á–∞—é—â–∏–π —Ä–µ–∂–∏–º —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏</li>
            <li>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≤—Å–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–∞—Ö</li>
          </ol>

          <p style="margin-top: 20px; font-style: italic; color: #004085">
            üí° –ü–æ–º–Ω–∏: —É–º–Ω–∞—è –∏–≥—Ä–∞ —É—á–∏—Ç –∏–≥—Ä–æ–∫–∞ –±—ã—Ç—å –ª—É—á—à–µ!
          </p>
        </div>

        <div style="text-align: center; margin-top: 50px">
          <a href="guess-lesson-5a.html" class="next-lesson">
            –°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫: –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π ‚Üí
          </a>
        </div>
      </div>
    </div>

    <script>
      // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
      let binarySearchDemo = {
        range: [1, 15],
        current: [1, 15],
        target: null,
        step: 0,
        finished: false,
      };

      function initNumberLine() {
        const numberLine = document.getElementById("numberLine");
        numberLine.innerHTML = "";

        for (let i = 1; i <= 15; i++) {
          const box = document.createElement("div");
          box.className = "number-box";
          box.textContent = i;
          box.id = `number-${i}`;
          numberLine.appendChild(box);
        }
      }

      function startBinarySearch() {
        const targetInput = document.getElementById("targetNumber");
        const target = parseInt(targetInput.value);

        if (!target || target < 1 || target > 15) {
          alert("–í–≤–µ–¥–∏ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 15!");
          return;
        }

        binarySearchDemo = {
          range: [1, 15],
          current: [1, 15],
          target: target,
          step: 0,
          finished: false,
        };

        initNumberLine();
        document.getElementById("nextBtn").disabled = false;
        document.getElementById("stepCount").textContent = "0";
        document.getElementById("aiGuess").textContent = "-";
        document.getElementById("aiThought").textContent = "–ù–∞—á–∏–Ω–∞—é –ø–æ–∏—Å–∫...";

        // –í—ã–¥–µ–ª—è–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ —á–∏—Å–ª–∞
        for (let i = 1; i <= 15; i++) {
          document.getElementById(`number-${i}`).classList.add("possible");
        }
      }

      function nextStep() {
        if (binarySearchDemo.finished) return;

        const [min, max] = binarySearchDemo.current;
        const guess = Math.floor((min + max) / 2);

        binarySearchDemo.step++;
        document.getElementById("stepCount").textContent =
          binarySearchDemo.step;
        document.getElementById("aiGuess").textContent = guess;

        // –í—ã–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â—É—é –ø–æ–ø—ã—Ç–∫—É
        document.getElementById(`number-${guess}`).classList.remove("possible");
        document.getElementById(`number-${guess}`).classList.add("current");

        // –û–±–Ω–æ–≤–ª—è–µ–º –º—ã—Å–ª–∏ –ò–ò
        const thought = `–ü—Ä–æ–≤–µ—Ä—è—é ${guess} (—Å–µ—Ä–µ–¥–∏–Ω–∞ ${min}-${max})...`;
        document.getElementById("aiThought").textContent = thought;

        setTimeout(() => {
          if (guess === binarySearchDemo.target) {
            // –ü–æ–±–µ–¥–∞!
            document.getElementById(
              "aiThought"
            ).textContent = `üéâ –ù–∞–π–¥–µ–Ω–æ! –ß–∏—Å–ª–æ ${guess} –∑–∞ ${binarySearchDemo.step} –ø–æ–ø—ã—Ç–æ–∫!`;
            document.getElementById("nextBtn").disabled = true;
            binarySearchDemo.finished = true;
          } else if (guess > binarySearchDemo.target) {
            // –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ
            document.getElementById(
              "aiThought"
            ).textContent = `${guess} > ${binarySearchDemo.target}. –£–±–∏—Ä–∞—é —á–∏—Å–ª–∞ –±–æ–ª—å—à–µ ${guess}`;

            // –ò—Å–∫–ª—é—á–∞–µ–º —á–∏—Å–ª–∞ –±–æ–ª—å—à–µ guess
            for (let i = guess; i <= max; i++) {
              const box = document.getElementById(`number-${i}`);
              if (box.classList.contains("current")) {
                box.classList.remove("current");
              } else {
                box.classList.add("eliminated");
                box.classList.remove("possible");
              }
            }

            binarySearchDemo.current = [min, guess - 1];
          } else {
            // –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ
            document.getElementById(
              "aiThought"
            ).textContent = `${guess} < ${binarySearchDemo.target}. –£–±–∏—Ä–∞—é —á–∏—Å–ª–∞ –º–µ–Ω—å—à–µ ${guess}`;

            // –ò—Å–∫–ª—é—á–∞–µ–º —á–∏—Å–ª–∞ –º–µ–Ω—å—à–µ guess
            for (let i = min; i <= guess; i++) {
              const box = document.getElementById(`number-${i}`);
              if (box.classList.contains("current")) {
                box.classList.remove("current");
              } else {
                box.classList.add("eliminated");
                box.classList.remove("possible");
              }
            }

            binarySearchDemo.current = [guess + 1, max];
          }
        }, 1000);
      }

      function resetBinaryDemo() {
        binarySearchDemo = {
          range: [1, 15],
          current: [1, 15],
          target: null,
          step: 0,
          finished: false,
        };

        initNumberLine();
        document.getElementById("nextBtn").disabled = true;
        document.getElementById("stepCount").textContent = "0";
        document.getElementById("aiGuess").textContent = "-";
        document.getElementById("aiThought").textContent = "–ì–æ—Ç–æ–≤ —É–≥–∞–¥—ã–≤–∞—Ç—å!";
        document.getElementById("targetNumber").value = "";
      }

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      document.addEventListener("DOMContentLoaded", function () {
        initNumberLine();

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        const sections = document.querySelectorAll(
          ".section, .binary-search-demo, .algorithm-showcase, .difficulty-showcase, .hints-showcase, .optimization-demo, .task-section"
        );

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateY(0)";
            }
          });
        });

        sections.forEach((section) => {
          section.style.opacity = "0";
          section.style.transform = "translateY(20px)";
          section.style.transition = "all 0.6s ease";
          observer.observe(section);
        });
      });
    </script>
  </body>
</html>
